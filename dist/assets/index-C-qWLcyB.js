function qO(i,s){for(var c=0;c<s.length;c++){const u=s[c];if(typeof u!="string"&&!Array.isArray(u)){for(const m in u)if(m!=="default"&&!(m in i)){const k=Object.getOwnPropertyDescriptor(u,m);k&&Object.defineProperty(i,m,k.get?k:{enumerable:!0,get:()=>u[m]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))u(m);new MutationObserver(m=>{for(const k of m)if(k.type==="childList")for(const w of k.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&u(w)}).observe(document,{childList:!0,subtree:!0});function c(m){const k={};return m.integrity&&(k.integrity=m.integrity),m.referrerPolicy&&(k.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?k.credentials="include":m.crossOrigin==="anonymous"?k.credentials="omit":k.credentials="same-origin",k}function u(m){if(m.ep)return;m.ep=!0;const k=c(m);fetch(m.href,k)}})();var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function n2(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var r2={exports:{}},Qd={},o2={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rl=Symbol.for("react.element"),WO=Symbol.for("react.portal"),$O=Symbol.for("react.fragment"),GO=Symbol.for("react.strict_mode"),KO=Symbol.for("react.profiler"),QO=Symbol.for("react.provider"),YO=Symbol.for("react.context"),ZO=Symbol.for("react.forward_ref"),JO=Symbol.for("react.suspense"),XO=Symbol.for("react.memo"),e7=Symbol.for("react.lazy"),C1=Symbol.iterator;function t7(i){return i===null||typeof i!="object"?null:(i=C1&&i[C1]||i["@@iterator"],typeof i=="function"?i:null)}var i2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},s2=Object.assign,a2={};function ks(i,s,c){this.props=i,this.context=s,this.refs=a2,this.updater=c||i2}ks.prototype.isReactComponent={};ks.prototype.setState=function(i,s){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,s,"setState")};ks.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function l2(){}l2.prototype=ks.prototype;function wp(i,s,c){this.props=i,this.context=s,this.refs=a2,this.updater=c||i2}var Ap=wp.prototype=new l2;Ap.constructor=wp;s2(Ap,ks.prototype);Ap.isPureReactComponent=!0;var v1=Array.isArray,c2=Object.prototype.hasOwnProperty,Cp={current:null},d2={key:!0,ref:!0,__self:!0,__source:!0};function u2(i,s,c){var u,m={},k=null,w=null;if(s!=null)for(u in s.ref!==void 0&&(w=s.ref),s.key!==void 0&&(k=""+s.key),s)c2.call(s,u)&&!d2.hasOwnProperty(u)&&(m[u]=s[u]);var C=arguments.length-2;if(C===1)m.children=c;else if(1<C){for(var b=Array(C),_=0;_<C;_++)b[_]=arguments[_+2];m.children=b}if(i&&i.defaultProps)for(u in C=i.defaultProps,C)m[u]===void 0&&(m[u]=C[u]);return{$$typeof:rl,type:i,key:k,ref:w,props:m,_owner:Cp.current}}function n7(i,s){return{$$typeof:rl,type:i.type,key:s,ref:i.ref,props:i.props,_owner:i._owner}}function vp(i){return typeof i=="object"&&i!==null&&i.$$typeof===rl}function r7(i){var s={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(c){return s[c]})}var y1=/\/+/g;function Om(i,s){return typeof i=="object"&&i!==null&&i.key!=null?r7(""+i.key):s.toString(36)}function ed(i,s,c,u,m){var k=typeof i;(k==="undefined"||k==="boolean")&&(i=null);var w=!1;if(i===null)w=!0;else switch(k){case"string":case"number":w=!0;break;case"object":switch(i.$$typeof){case rl:case WO:w=!0}}if(w)return w=i,m=m(w),i=u===""?"."+Om(w,0):u,v1(m)?(c="",i!=null&&(c=i.replace(y1,"$&/")+"/"),ed(m,s,c,"",function(_){return _})):m!=null&&(vp(m)&&(m=n7(m,c+(!m.key||w&&w.key===m.key?"":(""+m.key).replace(y1,"$&/")+"/")+i)),s.push(m)),1;if(w=0,u=u===""?".":u+":",v1(i))for(var C=0;C<i.length;C++){k=i[C];var b=u+Om(k,C);w+=ed(k,s,c,b,m)}else if(b=t7(i),typeof b=="function")for(i=b.call(i),C=0;!(k=i.next()).done;)k=k.value,b=u+Om(k,C++),w+=ed(k,s,c,b,m);else if(k==="object")throw s=String(i),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return w}function Lc(i,s,c){if(i==null)return i;var u=[],m=0;return ed(i,u,"","",function(k){return s.call(c,k,m++)}),u}function o7(i){if(i._status===-1){var s=i._result;s=s(),s.then(function(c){(i._status===0||i._status===-1)&&(i._status=1,i._result=c)},function(c){(i._status===0||i._status===-1)&&(i._status=2,i._result=c)}),i._status===-1&&(i._status=0,i._result=s)}if(i._status===1)return i._result.default;throw i._result}var Rt={current:null},td={transition:null},i7={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:td,ReactCurrentOwner:Cp};function h2(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Lc,forEach:function(i,s,c){Lc(i,function(){s.apply(this,arguments)},c)},count:function(i){var s=0;return Lc(i,function(){s++}),s},toArray:function(i){return Lc(i,function(s){return s})||[]},only:function(i){if(!vp(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};Se.Component=ks;Se.Fragment=$O;Se.Profiler=KO;Se.PureComponent=wp;Se.StrictMode=GO;Se.Suspense=JO;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i7;Se.act=h2;Se.cloneElement=function(i,s,c){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var u=s2({},i.props),m=i.key,k=i.ref,w=i._owner;if(s!=null){if(s.ref!==void 0&&(k=s.ref,w=Cp.current),s.key!==void 0&&(m=""+s.key),i.type&&i.type.defaultProps)var C=i.type.defaultProps;for(b in s)c2.call(s,b)&&!d2.hasOwnProperty(b)&&(u[b]=s[b]===void 0&&C!==void 0?C[b]:s[b])}var b=arguments.length-2;if(b===1)u.children=c;else if(1<b){C=Array(b);for(var _=0;_<b;_++)C[_]=arguments[_+2];u.children=C}return{$$typeof:rl,type:i.type,key:m,ref:k,props:u,_owner:w}};Se.createContext=function(i){return i={$$typeof:YO,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:QO,_context:i},i.Consumer=i};Se.createElement=u2;Se.createFactory=function(i){var s=u2.bind(null,i);return s.type=i,s};Se.createRef=function(){return{current:null}};Se.forwardRef=function(i){return{$$typeof:ZO,render:i}};Se.isValidElement=vp;Se.lazy=function(i){return{$$typeof:e7,_payload:{_status:-1,_result:i},_init:o7}};Se.memo=function(i,s){return{$$typeof:XO,type:i,compare:s===void 0?null:s}};Se.startTransition=function(i){var s=td.transition;td.transition={};try{i()}finally{td.transition=s}};Se.unstable_act=h2;Se.useCallback=function(i,s){return Rt.current.useCallback(i,s)};Se.useContext=function(i){return Rt.current.useContext(i)};Se.useDebugValue=function(){};Se.useDeferredValue=function(i){return Rt.current.useDeferredValue(i)};Se.useEffect=function(i,s){return Rt.current.useEffect(i,s)};Se.useId=function(){return Rt.current.useId()};Se.useImperativeHandle=function(i,s,c){return Rt.current.useImperativeHandle(i,s,c)};Se.useInsertionEffect=function(i,s){return Rt.current.useInsertionEffect(i,s)};Se.useLayoutEffect=function(i,s){return Rt.current.useLayoutEffect(i,s)};Se.useMemo=function(i,s){return Rt.current.useMemo(i,s)};Se.useReducer=function(i,s,c){return Rt.current.useReducer(i,s,c)};Se.useRef=function(i){return Rt.current.useRef(i)};Se.useState=function(i){return Rt.current.useState(i)};Se.useSyncExternalStore=function(i,s,c){return Rt.current.useSyncExternalStore(i,s,c)};Se.useTransition=function(){return Rt.current.useTransition()};Se.version="18.3.1";o2.exports=Se;var F=o2.exports;const Ee=n2(F),s7=qO({__proto__:null,default:Ee},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a7=F,l7=Symbol.for("react.element"),c7=Symbol.for("react.fragment"),d7=Object.prototype.hasOwnProperty,u7=a7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h7={key:!0,ref:!0,__self:!0,__source:!0};function m2(i,s,c){var u,m={},k=null,w=null;c!==void 0&&(k=""+c),s.key!==void 0&&(k=""+s.key),s.ref!==void 0&&(w=s.ref);for(u in s)d7.call(s,u)&&!h7.hasOwnProperty(u)&&(m[u]=s[u]);if(i&&i.defaultProps)for(u in s=i.defaultProps,s)m[u]===void 0&&(m[u]=s[u]);return{$$typeof:l7,type:i,key:k,ref:w,props:m,_owner:u7.current}}Qd.Fragment=c7;Qd.jsx=m2;Qd.jsxs=m2;r2.exports=Qd;var f=r2.exports,g2={exports:{}},fn={},p2={exports:{}},f2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function s(K,ce){var me=K.length;K.push(ce);e:for(;0<me;){var oe=me-1>>>1,Ae=K[oe];if(0<m(Ae,ce))K[oe]=ce,K[me]=Ae,me=oe;else break e}}function c(K){return K.length===0?null:K[0]}function u(K){if(K.length===0)return null;var ce=K[0],me=K.pop();if(me!==ce){K[0]=me;e:for(var oe=0,Ae=K.length,vt=Ae>>>1;oe<vt;){var bn=2*(oe+1)-1,Ao=K[bn],Te=bn+1,hr=K[Te];if(0>m(Ao,me))Te<Ae&&0>m(hr,Ao)?(K[oe]=hr,K[Te]=me,oe=Te):(K[oe]=Ao,K[bn]=me,oe=bn);else if(Te<Ae&&0>m(hr,me))K[oe]=hr,K[Te]=me,oe=Te;else break e}}return ce}function m(K,ce){var me=K.sortIndex-ce.sortIndex;return me!==0?me:K.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var k=performance;i.unstable_now=function(){return k.now()}}else{var w=Date,C=w.now();i.unstable_now=function(){return w.now()-C}}var b=[],_=[],D=1,x=null,v=3,S=!1,B=!1,N=!1,L=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(K){for(var ce=c(_);ce!==null;){if(ce.callback===null)u(_);else if(ce.startTime<=K)u(_),ce.sortIndex=ce.expirationTime,s(b,ce);else break;ce=c(_)}}function V(K){if(N=!1,z(K),!B)if(c(b)!==null)B=!0,Q(H);else{var ce=c(_);ce!==null&&de(V,ce.startTime-K)}}function H(K,ce){B=!1,N&&(N=!1,M($),$=-1),S=!0;var me=v;try{for(z(ce),x=c(b);x!==null&&(!(x.expirationTime>ce)||K&&!pe());){var oe=x.callback;if(typeof oe=="function"){x.callback=null,v=x.priorityLevel;var Ae=oe(x.expirationTime<=ce);ce=i.unstable_now(),typeof Ae=="function"?x.callback=Ae:x===c(b)&&u(b),z(ce)}else u(b);x=c(b)}if(x!==null)var vt=!0;else{var bn=c(_);bn!==null&&de(V,bn.startTime-ce),vt=!1}return vt}finally{x=null,v=me,S=!1}}var J=!1,P=null,$=-1,ae=5,ne=-1;function pe(){return!(i.unstable_now()-ne<ae)}function ye(){if(P!==null){var K=i.unstable_now();ne=K;var ce=!0;try{ce=P(!0,K)}finally{ce?re():(J=!1,P=null)}}else J=!1}var re;if(typeof j=="function")re=function(){j(ye)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,q=xe.port2;xe.port1.onmessage=ye,re=function(){q.postMessage(null)}}else re=function(){L(ye,0)};function Q(K){P=K,J||(J=!0,re())}function de(K,ce){$=L(function(){K(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_continueExecution=function(){B||S||(B=!0,Q(H))},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return c(b)},i.unstable_next=function(K){switch(v){case 1:case 2:case 3:var ce=3;break;default:ce=v}var me=v;v=ce;try{return K()}finally{v=me}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(K,ce){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=v;v=K;try{return ce()}finally{v=me}},i.unstable_scheduleCallback=function(K,ce,me){var oe=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?oe+me:oe):me=oe,K){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=me+Ae,K={id:D++,callback:ce,priorityLevel:K,startTime:me,expirationTime:Ae,sortIndex:-1},me>oe?(K.sortIndex=me,s(_,K),c(b)===null&&K===c(_)&&(N?(M($),$=-1):N=!0,de(V,me-oe))):(K.sortIndex=Ae,s(b,K),B||S||(B=!0,Q(H))),K},i.unstable_shouldYield=pe,i.unstable_wrapCallback=function(K){var ce=v;return function(){var me=v;v=ce;try{return K.apply(this,arguments)}finally{v=me}}}})(f2);p2.exports=f2;var m7=p2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g7=F,pn=m7;function te(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k2=new Set,La={};function oi(i,s){as(i,s),as(i+"Capture",s)}function as(i,s){for(La[i]=s,i=0;i<s.length;i++)k2.add(s[i])}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pg=Object.prototype.hasOwnProperty,p7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_1={},x1={};function f7(i){return pg.call(x1,i)?!0:pg.call(_1,i)?!1:p7.test(i)?x1[i]=!0:(_1[i]=!0,!1)}function k7(i,s,c,u){if(c!==null&&c.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return u?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b7(i,s,c,u){if(s===null||typeof s>"u"||k7(i,s,c,u))return!0;if(u)return!1;if(c!==null)switch(c.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Ft(i,s,c,u,m,k,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=u,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=i,this.type=s,this.sanitizeURL=k,this.removeEmptyString=w}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){Dt[i]=new Ft(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];Dt[s]=new Ft(s,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){Dt[i]=new Ft(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){Dt[i]=new Ft(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){Dt[i]=new Ft(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){Dt[i]=new Ft(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){Dt[i]=new Ft(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){Dt[i]=new Ft(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){Dt[i]=new Ft(i,5,!1,i.toLowerCase(),null,!1,!1)});var yp=/[\-:]([a-z])/g;function _p(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(yp,_p);Dt[s]=new Ft(s,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(yp,_p);Dt[s]=new Ft(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(yp,_p);Dt[s]=new Ft(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){Dt[i]=new Ft(i,1,!1,i.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){Dt[i]=new Ft(i,1,!1,i.toLowerCase(),null,!0,!0)});function xp(i,s,c,u){var m=Dt.hasOwnProperty(s)?Dt[s]:null;(m!==null?m.type!==0:u||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b7(s,c,m,u)&&(c=null),u||m===null?f7(s)&&(c===null?i.removeAttribute(s):i.setAttribute(s,""+c)):m.mustUseProperty?i[m.propertyName]=c===null?m.type===3?!1:"":c:(s=m.attributeName,u=m.attributeNamespace,c===null?i.removeAttribute(s):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,u?i.setAttributeNS(u,s,c):i.setAttribute(s,c))))}var Br=g7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oc=Symbol.for("react.element"),Hi=Symbol.for("react.portal"),qi=Symbol.for("react.fragment"),Ep=Symbol.for("react.strict_mode"),fg=Symbol.for("react.profiler"),b2=Symbol.for("react.provider"),w2=Symbol.for("react.context"),Dp=Symbol.for("react.forward_ref"),kg=Symbol.for("react.suspense"),bg=Symbol.for("react.suspense_list"),Sp=Symbol.for("react.memo"),Kr=Symbol.for("react.lazy"),A2=Symbol.for("react.offscreen"),E1=Symbol.iterator;function ma(i){return i===null||typeof i!="object"?null:(i=E1&&i[E1]||i["@@iterator"],typeof i=="function"?i:null)}var tt=Object.assign,zm;function va(i){if(zm===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);zm=s&&s[1]||""}return`
`+zm+i}var Rm=!1;function Fm(i,s){if(!i||Rm)return"";Rm=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(_){var u=_}Reflect.construct(i,[],s)}else{try{s.call()}catch(_){u=_}i.call(s.prototype)}else{try{throw Error()}catch(_){u=_}i()}}catch(_){if(_&&u&&typeof _.stack=="string"){for(var m=_.stack.split(`
`),k=u.stack.split(`
`),w=m.length-1,C=k.length-1;1<=w&&0<=C&&m[w]!==k[C];)C--;for(;1<=w&&0<=C;w--,C--)if(m[w]!==k[C]){if(w!==1||C!==1)do if(w--,C--,0>C||m[w]!==k[C]){var b=`
`+m[w].replace(" at new "," at ");return i.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",i.displayName)),b}while(1<=w&&0<=C);break}}}finally{Rm=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?va(i):""}function w7(i){switch(i.tag){case 5:return va(i.type);case 16:return va("Lazy");case 13:return va("Suspense");case 19:return va("SuspenseList");case 0:case 2:case 15:return i=Fm(i.type,!1),i;case 11:return i=Fm(i.type.render,!1),i;case 1:return i=Fm(i.type,!0),i;default:return""}}function wg(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case qi:return"Fragment";case Hi:return"Portal";case fg:return"Profiler";case Ep:return"StrictMode";case kg:return"Suspense";case bg:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case w2:return(i.displayName||"Context")+".Consumer";case b2:return(i._context.displayName||"Context")+".Provider";case Dp:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Sp:return s=i.displayName||null,s!==null?s:wg(i.type)||"Memo";case Kr:s=i._payload,i=i._init;try{return wg(i(s))}catch{}}return null}function A7(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wg(s);case 8:return s===Ep?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ho(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function C2(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function C7(i){var s=C2(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,k=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(w){u=""+w,k.call(this,w)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function zc(i){i._valueTracker||(i._valueTracker=C7(i))}function v2(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),u="";return i&&(u=C2(i)?i.checked?"true":"false":i.value),i=u,i!==c?(s.setValue(i),!0):!1}function pd(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ag(i,s){var c=s.checked;return tt({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function D1(i,s){var c=s.defaultValue==null?"":s.defaultValue,u=s.checked!=null?s.checked:s.defaultChecked;c=ho(s.value!=null?s.value:c),i._wrapperState={initialChecked:u,initialValue:c,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function y2(i,s){s=s.checked,s!=null&&xp(i,"checked",s,!1)}function Cg(i,s){y2(i,s);var c=ho(s.value),u=s.type;if(c!=null)u==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(u==="submit"||u==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?vg(i,s.type,c):s.hasOwnProperty("defaultValue")&&vg(i,s.type,ho(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function S1(i,s,c){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var u=s.type;if(!(u!=="submit"&&u!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,c||s===i.value||(i.value=s),i.defaultValue=s}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function vg(i,s,c){(s!=="number"||pd(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var ya=Array.isArray;function ts(i,s,c,u){if(i=i.options,s){s={};for(var m=0;m<c.length;m++)s["$"+c[m]]=!0;for(c=0;c<i.length;c++)m=s.hasOwnProperty("$"+i[c].value),i[c].selected!==m&&(i[c].selected=m),m&&u&&(i[c].defaultSelected=!0)}else{for(c=""+ho(c),s=null,m=0;m<i.length;m++){if(i[m].value===c){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function yg(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(te(91));return tt({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function I1(i,s){var c=s.value;if(c==null){if(c=s.children,s=s.defaultValue,c!=null){if(s!=null)throw Error(te(92));if(ya(c)){if(1<c.length)throw Error(te(93));c=c[0]}s=c}s==null&&(s=""),c=s}i._wrapperState={initialValue:ho(c)}}function _2(i,s){var c=ho(s.value),u=ho(s.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),s.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),u!=null&&(i.defaultValue=""+u)}function T1(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function x2(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _g(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?x2(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Rc,E2=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,c,u,m){MSApp.execUnsafeLocalFunction(function(){return i(s,c,u,m)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Rc=Rc||document.createElement("div"),Rc.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Rc.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function Oa(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var Da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v7=["Webkit","ms","Moz","O"];Object.keys(Da).forEach(function(i){v7.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Da[s]=Da[i]})});function D2(i,s,c){return s==null||typeof s=="boolean"||s===""?"":c||typeof s!="number"||s===0||Da.hasOwnProperty(i)&&Da[i]?(""+s).trim():s+"px"}function S2(i,s){i=i.style;for(var c in s)if(s.hasOwnProperty(c)){var u=c.indexOf("--")===0,m=D2(c,s[c],u);c==="float"&&(c="cssFloat"),u?i.setProperty(c,m):i[c]=m}}var y7=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xg(i,s){if(s){if(y7[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(te(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(te(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(te(61))}if(s.style!=null&&typeof s.style!="object")throw Error(te(62))}}function Eg(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dg=null;function Ip(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Sg=null,ns=null,rs=null;function N1(i){if(i=sl(i)){if(typeof Sg!="function")throw Error(te(280));var s=i.stateNode;s&&(s=eu(s),Sg(i.stateNode,i.type,s))}}function I2(i){ns?rs?rs.push(i):rs=[i]:ns=i}function T2(){if(ns){var i=ns,s=rs;if(rs=ns=null,N1(i),s)for(i=0;i<s.length;i++)N1(s[i])}}function N2(i,s){return i(s)}function M2(){}var Vm=!1;function B2(i,s,c){if(Vm)return i(s,c);Vm=!0;try{return N2(i,s,c)}finally{Vm=!1,(ns!==null||rs!==null)&&(M2(),T2())}}function za(i,s){var c=i.stateNode;if(c===null)return null;var u=eu(c);if(u===null)return null;c=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(te(231,s,typeof c));return c}var Ig=!1;if(Ir)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){Ig=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{Ig=!1}function _7(i,s,c,u,m,k,w,C,b){var _=Array.prototype.slice.call(arguments,3);try{s.apply(c,_)}catch(D){this.onError(D)}}var Sa=!1,fd=null,kd=!1,Tg=null,x7={onError:function(i){Sa=!0,fd=i}};function E7(i,s,c,u,m,k,w,C,b){Sa=!1,fd=null,_7.apply(x7,arguments)}function D7(i,s,c,u,m,k,w,C,b){if(E7.apply(this,arguments),Sa){if(Sa){var _=fd;Sa=!1,fd=null}else throw Error(te(198));kd||(kd=!0,Tg=_)}}function ii(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function j2(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function M1(i){if(ii(i)!==i)throw Error(te(188))}function S7(i){var s=i.alternate;if(!s){if(s=ii(i),s===null)throw Error(te(188));return s!==i?null:i}for(var c=i,u=s;;){var m=c.return;if(m===null)break;var k=m.alternate;if(k===null){if(u=m.return,u!==null){c=u;continue}break}if(m.child===k.child){for(k=m.child;k;){if(k===c)return M1(m),i;if(k===u)return M1(m),s;k=k.sibling}throw Error(te(188))}if(c.return!==u.return)c=m,u=k;else{for(var w=!1,C=m.child;C;){if(C===c){w=!0,c=m,u=k;break}if(C===u){w=!0,u=m,c=k;break}C=C.sibling}if(!w){for(C=k.child;C;){if(C===c){w=!0,c=k,u=m;break}if(C===u){w=!0,u=k,c=m;break}C=C.sibling}if(!w)throw Error(te(189))}}if(c.alternate!==u)throw Error(te(190))}if(c.tag!==3)throw Error(te(188));return c.stateNode.current===c?i:s}function P2(i){return i=S7(i),i!==null?L2(i):null}function L2(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=L2(i);if(s!==null)return s;i=i.sibling}return null}var O2=pn.unstable_scheduleCallback,B1=pn.unstable_cancelCallback,I7=pn.unstable_shouldYield,T7=pn.unstable_requestPaint,ct=pn.unstable_now,N7=pn.unstable_getCurrentPriorityLevel,Tp=pn.unstable_ImmediatePriority,z2=pn.unstable_UserBlockingPriority,bd=pn.unstable_NormalPriority,M7=pn.unstable_LowPriority,R2=pn.unstable_IdlePriority,Yd=null,dr=null;function B7(i){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Yd,i,void 0,(i.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:L7,j7=Math.log,P7=Math.LN2;function L7(i){return i>>>=0,i===0?32:31-(j7(i)/P7|0)|0}var Fc=64,Vc=4194304;function _a(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function wd(i,s){var c=i.pendingLanes;if(c===0)return 0;var u=0,m=i.suspendedLanes,k=i.pingedLanes,w=c&268435455;if(w!==0){var C=w&~m;C!==0?u=_a(C):(k&=w,k!==0&&(u=_a(k)))}else w=c&~m,w!==0?u=_a(w):k!==0&&(u=_a(k));if(u===0)return 0;if(s!==0&&s!==u&&!(s&m)&&(m=u&-u,k=s&-s,m>=k||m===16&&(k&4194240)!==0))return s;if(u&4&&(u|=c&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=u;0<s;)c=31-Qn(s),m=1<<c,u|=i[c],s&=~m;return u}function O7(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z7(i,s){for(var c=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,k=i.pendingLanes;0<k;){var w=31-Qn(k),C=1<<w,b=m[w];b===-1?(!(C&c)||C&u)&&(m[w]=O7(C,s)):b<=s&&(i.expiredLanes|=C),k&=~C}}function Ng(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function F2(){var i=Fc;return Fc<<=1,!(Fc&4194240)&&(Fc=64),i}function Um(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function ol(i,s,c){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Qn(s),i[s]=c}function R7(i,s){var c=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var u=i.eventTimes;for(i=i.expirationTimes;0<c;){var m=31-Qn(c),k=1<<m;s[m]=0,u[m]=-1,i[m]=-1,c&=~k}}function Np(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var u=31-Qn(c),m=1<<u;m&s|i[u]&s&&(i[u]|=s),c&=~m}}var ze=0;function V2(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var U2,Mp,H2,q2,W2,Mg=!1,Uc=[],to=null,no=null,ro=null,Ra=new Map,Fa=new Map,Yr=[],F7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function j1(i,s){switch(i){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":no=null;break;case"mouseover":case"mouseout":ro=null;break;case"pointerover":case"pointerout":Ra.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fa.delete(s.pointerId)}}function pa(i,s,c,u,m,k){return i===null||i.nativeEvent!==k?(i={blockedOn:s,domEventName:c,eventSystemFlags:u,nativeEvent:k,targetContainers:[m]},s!==null&&(s=sl(s),s!==null&&Mp(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function V7(i,s,c,u,m){switch(s){case"focusin":return to=pa(to,i,s,c,u,m),!0;case"dragenter":return no=pa(no,i,s,c,u,m),!0;case"mouseover":return ro=pa(ro,i,s,c,u,m),!0;case"pointerover":var k=m.pointerId;return Ra.set(k,pa(Ra.get(k)||null,i,s,c,u,m)),!0;case"gotpointercapture":return k=m.pointerId,Fa.set(k,pa(Fa.get(k)||null,i,s,c,u,m)),!0}return!1}function $2(i){var s=Wo(i.target);if(s!==null){var c=ii(s);if(c!==null){if(s=c.tag,s===13){if(s=j2(c),s!==null){i.blockedOn=s,W2(i.priority,function(){H2(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=Bg(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var u=new c.constructor(c.type,c);Dg=u,c.target.dispatchEvent(u),Dg=null}else return s=sl(c),s!==null&&Mp(s),i.blockedOn=c,!1;s.shift()}return!0}function P1(i,s,c){nd(i)&&c.delete(s)}function U7(){Mg=!1,to!==null&&nd(to)&&(to=null),no!==null&&nd(no)&&(no=null),ro!==null&&nd(ro)&&(ro=null),Ra.forEach(P1),Fa.forEach(P1)}function fa(i,s){i.blockedOn===s&&(i.blockedOn=null,Mg||(Mg=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,U7)))}function Va(i){function s(m){return fa(m,i)}if(0<Uc.length){fa(Uc[0],i);for(var c=1;c<Uc.length;c++){var u=Uc[c];u.blockedOn===i&&(u.blockedOn=null)}}for(to!==null&&fa(to,i),no!==null&&fa(no,i),ro!==null&&fa(ro,i),Ra.forEach(s),Fa.forEach(s),c=0;c<Yr.length;c++)u=Yr[c],u.blockedOn===i&&(u.blockedOn=null);for(;0<Yr.length&&(c=Yr[0],c.blockedOn===null);)$2(c),c.blockedOn===null&&Yr.shift()}var os=Br.ReactCurrentBatchConfig,Ad=!0;function H7(i,s,c,u){var m=ze,k=os.transition;os.transition=null;try{ze=1,Bp(i,s,c,u)}finally{ze=m,os.transition=k}}function q7(i,s,c,u){var m=ze,k=os.transition;os.transition=null;try{ze=4,Bp(i,s,c,u)}finally{ze=m,os.transition=k}}function Bp(i,s,c,u){if(Ad){var m=Bg(i,s,c,u);if(m===null)Jm(i,s,u,Cd,c),j1(i,u);else if(V7(m,i,s,c,u))u.stopPropagation();else if(j1(i,u),s&4&&-1<F7.indexOf(i)){for(;m!==null;){var k=sl(m);if(k!==null&&U2(k),k=Bg(i,s,c,u),k===null&&Jm(i,s,u,Cd,c),k===m)break;m=k}m!==null&&u.stopPropagation()}else Jm(i,s,u,null,c)}}var Cd=null;function Bg(i,s,c,u){if(Cd=null,i=Ip(u),i=Wo(i),i!==null)if(s=ii(i),s===null)i=null;else if(c=s.tag,c===13){if(i=j2(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Cd=i,null}function G2(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N7()){case Tp:return 1;case z2:return 4;case bd:case M7:return 16;case R2:return 536870912;default:return 16}default:return 16}}var Jr=null,jp=null,rd=null;function K2(){if(rd)return rd;var i,s=jp,c=s.length,u,m="value"in Jr?Jr.value:Jr.textContent,k=m.length;for(i=0;i<c&&s[i]===m[i];i++);var w=c-i;for(u=1;u<=w&&s[c-u]===m[k-u];u++);return rd=m.slice(i,1<u?1-u:void 0)}function od(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Hc(){return!0}function L1(){return!1}function kn(i){function s(c,u,m,k,w){this._reactName=c,this._targetInst=m,this.type=u,this.nativeEvent=k,this.target=w,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(c=i[C],this[C]=c?c(k):k[C]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Hc:L1,this.isPropagationStopped=L1,this}return tt(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Hc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Hc)},persist:function(){},isPersistent:Hc}),s}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pp=kn(bs),il=tt({},bs,{view:0,detail:0}),W7=kn(il),Hm,qm,ka,Zd=tt({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lp,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ka&&(ka&&i.type==="mousemove"?(Hm=i.screenX-ka.screenX,qm=i.screenY-ka.screenY):qm=Hm=0,ka=i),Hm)},movementY:function(i){return"movementY"in i?i.movementY:qm}}),O1=kn(Zd),$7=tt({},Zd,{dataTransfer:0}),G7=kn($7),K7=tt({},il,{relatedTarget:0}),Wm=kn(K7),Q7=tt({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),Y7=kn(Q7),Z7=tt({},bs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),J7=kn(Z7),X7=tt({},bs,{data:0}),z1=kn(X7),ez={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rz(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=nz[i])?!!s[i]:!1}function Lp(){return rz}var oz=tt({},il,{key:function(i){if(i.key){var s=ez[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tz[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lp,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),iz=kn(oz),sz=tt({},Zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R1=kn(sz),az=tt({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lp}),lz=kn(az),cz=tt({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),dz=kn(cz),uz=tt({},Zd,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),hz=kn(uz),mz=[9,13,27,32],Op=Ir&&"CompositionEvent"in window,Ia=null;Ir&&"documentMode"in document&&(Ia=document.documentMode);var gz=Ir&&"TextEvent"in window&&!Ia,Q2=Ir&&(!Op||Ia&&8<Ia&&11>=Ia),F1=" ",V1=!1;function Y2(i,s){switch(i){case"keyup":return mz.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z2(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Wi=!1;function pz(i,s){switch(i){case"compositionend":return Z2(s);case"keypress":return s.which!==32?null:(V1=!0,F1);case"textInput":return i=s.data,i===F1&&V1?null:i;default:return null}}function fz(i,s){if(Wi)return i==="compositionend"||!Op&&Y2(i,s)?(i=K2(),rd=jp=Jr=null,Wi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Q2&&s.locale!=="ko"?null:s.data;default:return null}}var kz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U1(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!kz[i.type]:s==="textarea"}function J2(i,s,c,u){I2(u),s=vd(s,"onChange"),0<s.length&&(c=new Pp("onChange","change",null,c,u),i.push({event:c,listeners:s}))}var Ta=null,Ua=null;function bz(i){cE(i,0)}function Jd(i){var s=Ki(i);if(v2(s))return i}function wz(i,s){if(i==="change")return s}var X2=!1;if(Ir){var $m;if(Ir){var Gm="oninput"in document;if(!Gm){var H1=document.createElement("div");H1.setAttribute("oninput","return;"),Gm=typeof H1.oninput=="function"}$m=Gm}else $m=!1;X2=$m&&(!document.documentMode||9<document.documentMode)}function q1(){Ta&&(Ta.detachEvent("onpropertychange",eE),Ua=Ta=null)}function eE(i){if(i.propertyName==="value"&&Jd(Ua)){var s=[];J2(s,Ua,i,Ip(i)),B2(bz,s)}}function Az(i,s,c){i==="focusin"?(q1(),Ta=s,Ua=c,Ta.attachEvent("onpropertychange",eE)):i==="focusout"&&q1()}function Cz(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Jd(Ua)}function vz(i,s){if(i==="click")return Jd(s)}function yz(i,s){if(i==="input"||i==="change")return Jd(s)}function _z(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Zn=typeof Object.is=="function"?Object.is:_z;function Ha(i,s){if(Zn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),u=Object.keys(s);if(c.length!==u.length)return!1;for(u=0;u<c.length;u++){var m=c[u];if(!pg.call(s,m)||!Zn(i[m],s[m]))return!1}return!0}function W1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function $1(i,s){var c=W1(i);i=0;for(var u;c;){if(c.nodeType===3){if(u=i+c.textContent.length,i<=s&&u>=s)return{node:c,offset:s-i};i=u}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=W1(c)}}function tE(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?tE(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function nE(){for(var i=window,s=pd();s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=pd(i.document)}return s}function zp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function xz(i){var s=nE(),c=i.focusedElem,u=i.selectionRange;if(s!==c&&c&&c.ownerDocument&&tE(c.ownerDocument.documentElement,c)){if(u!==null&&zp(c)){if(s=u.start,i=u.end,i===void 0&&(i=s),"selectionStart"in c)c.selectionStart=s,c.selectionEnd=Math.min(i,c.value.length);else if(i=(s=c.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var m=c.textContent.length,k=Math.min(u.start,m);u=u.end===void 0?k:Math.min(u.end,m),!i.extend&&k>u&&(m=u,u=k,k=m),m=$1(c,k);var w=$1(c,u);m&&w&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==w.node||i.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),i.removeAllRanges(),k>u?(i.addRange(s),i.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),i.addRange(s)))}}for(s=[],i=c;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<s.length;c++)i=s[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Ez=Ir&&"documentMode"in document&&11>=document.documentMode,$i=null,jg=null,Na=null,Pg=!1;function G1(i,s,c){var u=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Pg||$i==null||$i!==pd(u)||(u=$i,"selectionStart"in u&&zp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Na&&Ha(Na,u)||(Na=u,u=vd(jg,"onSelect"),0<u.length&&(s=new Pp("onSelect","select",null,s,c),i.push({event:s,listeners:u}),s.target=$i)))}function qc(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var Gi={animationend:qc("Animation","AnimationEnd"),animationiteration:qc("Animation","AnimationIteration"),animationstart:qc("Animation","AnimationStart"),transitionend:qc("Transition","TransitionEnd")},Km={},rE={};Ir&&(rE=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function Xd(i){if(Km[i])return Km[i];if(!Gi[i])return i;var s=Gi[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in rE)return Km[i]=s[c];return i}var oE=Xd("animationend"),iE=Xd("animationiteration"),sE=Xd("animationstart"),aE=Xd("transitionend"),lE=new Map,K1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function po(i,s){lE.set(i,s),oi(s,[i])}for(var Qm=0;Qm<K1.length;Qm++){var Ym=K1[Qm],Dz=Ym.toLowerCase(),Sz=Ym[0].toUpperCase()+Ym.slice(1);po(Dz,"on"+Sz)}po(oE,"onAnimationEnd");po(iE,"onAnimationIteration");po(sE,"onAnimationStart");po("dblclick","onDoubleClick");po("focusin","onFocus");po("focusout","onBlur");po(aE,"onTransitionEnd");as("onMouseEnter",["mouseout","mouseover"]);as("onMouseLeave",["mouseout","mouseover"]);as("onPointerEnter",["pointerout","pointerover"]);as("onPointerLeave",["pointerout","pointerover"]);oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iz=new Set("cancel close invalid load scroll toggle".split(" ").concat(xa));function Q1(i,s,c){var u=i.type||"unknown-event";i.currentTarget=c,D7(u,s,void 0,i),i.currentTarget=null}function cE(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var u=i[c],m=u.event;u=u.listeners;e:{var k=void 0;if(s)for(var w=u.length-1;0<=w;w--){var C=u[w],b=C.instance,_=C.currentTarget;if(C=C.listener,b!==k&&m.isPropagationStopped())break e;Q1(m,C,_),k=b}else for(w=0;w<u.length;w++){if(C=u[w],b=C.instance,_=C.currentTarget,C=C.listener,b!==k&&m.isPropagationStopped())break e;Q1(m,C,_),k=b}}}if(kd)throw i=Tg,kd=!1,Tg=null,i}function Ke(i,s){var c=s[Fg];c===void 0&&(c=s[Fg]=new Set);var u=i+"__bubble";c.has(u)||(dE(s,i,2,!1),c.add(u))}function Zm(i,s,c){var u=0;s&&(u|=4),dE(c,i,u,s)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function qa(i){if(!i[Wc]){i[Wc]=!0,k2.forEach(function(c){c!=="selectionchange"&&(Iz.has(c)||Zm(c,!1,i),Zm(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Wc]||(s[Wc]=!0,Zm("selectionchange",!1,s))}}function dE(i,s,c,u){switch(G2(s)){case 1:var m=H7;break;case 4:m=q7;break;default:m=Bp}c=m.bind(null,s,c,i),m=void 0,!Ig||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(s,c,{capture:!0,passive:m}):i.addEventListener(s,c,!0):m!==void 0?i.addEventListener(s,c,{passive:m}):i.addEventListener(s,c,!1)}function Jm(i,s,c,u,m){var k=u;if(!(s&1)&&!(s&2)&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var C=u.stateNode.containerInfo;if(C===m||C.nodeType===8&&C.parentNode===m)break;if(w===4)for(w=u.return;w!==null;){var b=w.tag;if((b===3||b===4)&&(b=w.stateNode.containerInfo,b===m||b.nodeType===8&&b.parentNode===m))return;w=w.return}for(;C!==null;){if(w=Wo(C),w===null)return;if(b=w.tag,b===5||b===6){u=k=w;continue e}C=C.parentNode}}u=u.return}B2(function(){var _=k,D=Ip(c),x=[];e:{var v=lE.get(i);if(v!==void 0){var S=Pp,B=i;switch(i){case"keypress":if(od(c)===0)break e;case"keydown":case"keyup":S=iz;break;case"focusin":B="focus",S=Wm;break;case"focusout":B="blur",S=Wm;break;case"beforeblur":case"afterblur":S=Wm;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=O1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=G7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=lz;break;case oE:case iE:case sE:S=Y7;break;case aE:S=dz;break;case"scroll":S=W7;break;case"wheel":S=hz;break;case"copy":case"cut":case"paste":S=J7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=R1}var N=(s&4)!==0,L=!N&&i==="scroll",M=N?v!==null?v+"Capture":null:v;N=[];for(var j=_,z;j!==null;){z=j;var V=z.stateNode;if(z.tag===5&&V!==null&&(z=V,M!==null&&(V=za(j,M),V!=null&&N.push(Wa(j,V,z)))),L)break;j=j.return}0<N.length&&(v=new S(v,B,null,c,D),x.push({event:v,listeners:N}))}}if(!(s&7)){e:{if(v=i==="mouseover"||i==="pointerover",S=i==="mouseout"||i==="pointerout",v&&c!==Dg&&(B=c.relatedTarget||c.fromElement)&&(Wo(B)||B[Tr]))break e;if((S||v)&&(v=D.window===D?D:(v=D.ownerDocument)?v.defaultView||v.parentWindow:window,S?(B=c.relatedTarget||c.toElement,S=_,B=B?Wo(B):null,B!==null&&(L=ii(B),B!==L||B.tag!==5&&B.tag!==6)&&(B=null)):(S=null,B=_),S!==B)){if(N=O1,V="onMouseLeave",M="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(N=R1,V="onPointerLeave",M="onPointerEnter",j="pointer"),L=S==null?v:Ki(S),z=B==null?v:Ki(B),v=new N(V,j+"leave",S,c,D),v.target=L,v.relatedTarget=z,V=null,Wo(D)===_&&(N=new N(M,j+"enter",B,c,D),N.target=z,N.relatedTarget=L,V=N),L=V,S&&B)t:{for(N=S,M=B,j=0,z=N;z;z=Ri(z))j++;for(z=0,V=M;V;V=Ri(V))z++;for(;0<j-z;)N=Ri(N),j--;for(;0<z-j;)M=Ri(M),z--;for(;j--;){if(N===M||M!==null&&N===M.alternate)break t;N=Ri(N),M=Ri(M)}N=null}else N=null;S!==null&&Y1(x,v,S,N,!1),B!==null&&L!==null&&Y1(x,L,B,N,!0)}}e:{if(v=_?Ki(_):window,S=v.nodeName&&v.nodeName.toLowerCase(),S==="select"||S==="input"&&v.type==="file")var H=wz;else if(U1(v))if(X2)H=yz;else{H=Cz;var J=Az}else(S=v.nodeName)&&S.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(H=vz);if(H&&(H=H(i,_))){J2(x,H,c,D);break e}J&&J(i,v,_),i==="focusout"&&(J=v._wrapperState)&&J.controlled&&v.type==="number"&&vg(v,"number",v.value)}switch(J=_?Ki(_):window,i){case"focusin":(U1(J)||J.contentEditable==="true")&&($i=J,jg=_,Na=null);break;case"focusout":Na=jg=$i=null;break;case"mousedown":Pg=!0;break;case"contextmenu":case"mouseup":case"dragend":Pg=!1,G1(x,c,D);break;case"selectionchange":if(Ez)break;case"keydown":case"keyup":G1(x,c,D)}var P;if(Op)e:{switch(i){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Wi?Y2(i,c)&&($="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&($="onCompositionStart");$&&(Q2&&c.locale!=="ko"&&(Wi||$!=="onCompositionStart"?$==="onCompositionEnd"&&Wi&&(P=K2()):(Jr=D,jp="value"in Jr?Jr.value:Jr.textContent,Wi=!0)),J=vd(_,$),0<J.length&&($=new z1($,i,null,c,D),x.push({event:$,listeners:J}),P?$.data=P:(P=Z2(c),P!==null&&($.data=P)))),(P=gz?pz(i,c):fz(i,c))&&(_=vd(_,"onBeforeInput"),0<_.length&&(D=new z1("onBeforeInput","beforeinput",null,c,D),x.push({event:D,listeners:_}),D.data=P))}cE(x,s)})}function Wa(i,s,c){return{instance:i,listener:s,currentTarget:c}}function vd(i,s){for(var c=s+"Capture",u=[];i!==null;){var m=i,k=m.stateNode;m.tag===5&&k!==null&&(m=k,k=za(i,c),k!=null&&u.unshift(Wa(i,k,m)),k=za(i,s),k!=null&&u.push(Wa(i,k,m))),i=i.return}return u}function Ri(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Y1(i,s,c,u,m){for(var k=s._reactName,w=[];c!==null&&c!==u;){var C=c,b=C.alternate,_=C.stateNode;if(b!==null&&b===u)break;C.tag===5&&_!==null&&(C=_,m?(b=za(c,k),b!=null&&w.unshift(Wa(c,b,C))):m||(b=za(c,k),b!=null&&w.push(Wa(c,b,C)))),c=c.return}w.length!==0&&i.push({event:s,listeners:w})}var Tz=/\r\n?/g,Nz=/\u0000|\uFFFD/g;function Z1(i){return(typeof i=="string"?i:""+i).replace(Tz,`
`).replace(Nz,"")}function $c(i,s,c){if(s=Z1(s),Z1(i)!==s&&c)throw Error(te(425))}function yd(){}var Lg=null,Og=null;function zg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rg=typeof setTimeout=="function"?setTimeout:void 0,Mz=typeof clearTimeout=="function"?clearTimeout:void 0,J1=typeof Promise=="function"?Promise:void 0,Bz=typeof queueMicrotask=="function"?queueMicrotask:typeof J1<"u"?function(i){return J1.resolve(null).then(i).catch(jz)}:Rg;function jz(i){setTimeout(function(){throw i})}function Xm(i,s){var c=s,u=0;do{var m=c.nextSibling;if(i.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(u===0){i.removeChild(m),Va(s);return}u--}else c!=="$"&&c!=="$?"&&c!=="$!"||u++;c=m}while(c);Va(s)}function oo(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function X1(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return i;s--}else c==="/$"&&s++}i=i.previousSibling}return null}var ws=Math.random().toString(36).slice(2),cr="__reactFiber$"+ws,$a="__reactProps$"+ws,Tr="__reactContainer$"+ws,Fg="__reactEvents$"+ws,Pz="__reactListeners$"+ws,Lz="__reactHandles$"+ws;function Wo(i){var s=i[cr];if(s)return s;for(var c=i.parentNode;c;){if(s=c[Tr]||c[cr]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=X1(i);i!==null;){if(c=i[cr])return c;i=X1(i)}return s}i=c,c=i.parentNode}return null}function sl(i){return i=i[cr]||i[Tr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ki(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(te(33))}function eu(i){return i[$a]||null}var Vg=[],Qi=-1;function fo(i){return{current:i}}function Ye(i){0>Qi||(i.current=Vg[Qi],Vg[Qi]=null,Qi--)}function $e(i,s){Qi++,Vg[Qi]=i.current,i.current=s}var mo={},jt=fo(mo),Qt=fo(!1),Jo=mo;function ls(i,s){var c=i.type.contextTypes;if(!c)return mo;var u=i.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===s)return u.__reactInternalMemoizedMaskedChildContext;var m={},k;for(k in c)m[k]=s[k];return u&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=m),m}function Yt(i){return i=i.childContextTypes,i!=null}function _d(){Ye(Qt),Ye(jt)}function ex(i,s,c){if(jt.current!==mo)throw Error(te(168));$e(jt,s),$e(Qt,c)}function uE(i,s,c){var u=i.stateNode;if(s=s.childContextTypes,typeof u.getChildContext!="function")return c;u=u.getChildContext();for(var m in u)if(!(m in s))throw Error(te(108,A7(i)||"Unknown",m));return tt({},c,u)}function xd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||mo,Jo=jt.current,$e(jt,i),$e(Qt,Qt.current),!0}function tx(i,s,c){var u=i.stateNode;if(!u)throw Error(te(169));c?(i=uE(i,s,Jo),u.__reactInternalMemoizedMergedChildContext=i,Ye(Qt),Ye(jt),$e(jt,i)):Ye(Qt),$e(Qt,c)}var xr=null,tu=!1,eg=!1;function hE(i){xr===null?xr=[i]:xr.push(i)}function Oz(i){tu=!0,hE(i)}function ko(){if(!eg&&xr!==null){eg=!0;var i=0,s=ze;try{var c=xr;for(ze=1;i<c.length;i++){var u=c[i];do u=u(!0);while(u!==null)}xr=null,tu=!1}catch(m){throw xr!==null&&(xr=xr.slice(i+1)),O2(Tp,ko),m}finally{ze=s,eg=!1}}return null}var Yi=[],Zi=0,Ed=null,Dd=0,Sn=[],In=0,Xo=null,Er=1,Dr="";function Ho(i,s){Yi[Zi++]=Dd,Yi[Zi++]=Ed,Ed=i,Dd=s}function mE(i,s,c){Sn[In++]=Er,Sn[In++]=Dr,Sn[In++]=Xo,Xo=i;var u=Er;i=Dr;var m=32-Qn(u)-1;u&=~(1<<m),c+=1;var k=32-Qn(s)+m;if(30<k){var w=m-m%5;k=(u&(1<<w)-1).toString(32),u>>=w,m-=w,Er=1<<32-Qn(s)+m|c<<m|u,Dr=k+i}else Er=1<<k|c<<m|u,Dr=i}function Rp(i){i.return!==null&&(Ho(i,1),mE(i,1,0))}function Fp(i){for(;i===Ed;)Ed=Yi[--Zi],Yi[Zi]=null,Dd=Yi[--Zi],Yi[Zi]=null;for(;i===Xo;)Xo=Sn[--In],Sn[In]=null,Dr=Sn[--In],Sn[In]=null,Er=Sn[--In],Sn[In]=null}var mn=null,hn=null,Ze=!1,Kn=null;function gE(i,s){var c=Tn(5,null,null,0);c.elementType="DELETED",c.stateNode=s,c.return=i,s=i.deletions,s===null?(i.deletions=[c],i.flags|=16):s.push(c)}function nx(i,s){switch(i.tag){case 5:var c=i.type;return s=s.nodeType!==1||c.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,mn=i,hn=oo(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,mn=i,hn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(c=Xo!==null?{id:Er,overflow:Dr}:null,i.memoizedState={dehydrated:s,treeContext:c,retryLane:1073741824},c=Tn(18,null,null,0),c.stateNode=s,c.return=i,i.child=c,mn=i,hn=null,!0):!1;default:return!1}}function Ug(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Hg(i){if(Ze){var s=hn;if(s){var c=s;if(!nx(i,s)){if(Ug(i))throw Error(te(418));s=oo(c.nextSibling);var u=mn;s&&nx(i,s)?gE(u,c):(i.flags=i.flags&-4097|2,Ze=!1,mn=i)}}else{if(Ug(i))throw Error(te(418));i.flags=i.flags&-4097|2,Ze=!1,mn=i}}}function rx(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;mn=i}function Gc(i){if(i!==mn)return!1;if(!Ze)return rx(i),Ze=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!zg(i.type,i.memoizedProps)),s&&(s=hn)){if(Ug(i))throw pE(),Error(te(418));for(;s;)gE(i,s),s=oo(s.nextSibling)}if(rx(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(te(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(s===0){hn=oo(i.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++}i=i.nextSibling}hn=null}}else hn=mn?oo(i.stateNode.nextSibling):null;return!0}function pE(){for(var i=hn;i;)i=oo(i.nextSibling)}function cs(){hn=mn=null,Ze=!1}function Vp(i){Kn===null?Kn=[i]:Kn.push(i)}var zz=Br.ReactCurrentBatchConfig;function ba(i,s,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(te(309));var u=c.stateNode}if(!u)throw Error(te(147,i));var m=u,k=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===k?s.ref:(s=function(w){var C=m.refs;w===null?delete C[k]:C[k]=w},s._stringRef=k,s)}if(typeof i!="string")throw Error(te(284));if(!c._owner)throw Error(te(290,i))}return i}function Kc(i,s){throw i=Object.prototype.toString.call(s),Error(te(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function ox(i){var s=i._init;return s(i._payload)}function fE(i){function s(M,j){if(i){var z=M.deletions;z===null?(M.deletions=[j],M.flags|=16):z.push(j)}}function c(M,j){if(!i)return null;for(;j!==null;)s(M,j),j=j.sibling;return null}function u(M,j){for(M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function m(M,j){return M=lo(M,j),M.index=0,M.sibling=null,M}function k(M,j,z){return M.index=z,i?(z=M.alternate,z!==null?(z=z.index,z<j?(M.flags|=2,j):z):(M.flags|=2,j)):(M.flags|=1048576,j)}function w(M){return i&&M.alternate===null&&(M.flags|=2),M}function C(M,j,z,V){return j===null||j.tag!==6?(j=ag(z,M.mode,V),j.return=M,j):(j=m(j,z),j.return=M,j)}function b(M,j,z,V){var H=z.type;return H===qi?D(M,j,z.props.children,V,z.key):j!==null&&(j.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Kr&&ox(H)===j.type)?(V=m(j,z.props),V.ref=ba(M,j,z),V.return=M,V):(V=ud(z.type,z.key,z.props,null,M.mode,V),V.ref=ba(M,j,z),V.return=M,V)}function _(M,j,z,V){return j===null||j.tag!==4||j.stateNode.containerInfo!==z.containerInfo||j.stateNode.implementation!==z.implementation?(j=lg(z,M.mode,V),j.return=M,j):(j=m(j,z.children||[]),j.return=M,j)}function D(M,j,z,V,H){return j===null||j.tag!==7?(j=Yo(z,M.mode,V,H),j.return=M,j):(j=m(j,z),j.return=M,j)}function x(M,j,z){if(typeof j=="string"&&j!==""||typeof j=="number")return j=ag(""+j,M.mode,z),j.return=M,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Oc:return z=ud(j.type,j.key,j.props,null,M.mode,z),z.ref=ba(M,null,j),z.return=M,z;case Hi:return j=lg(j,M.mode,z),j.return=M,j;case Kr:var V=j._init;return x(M,V(j._payload),z)}if(ya(j)||ma(j))return j=Yo(j,M.mode,z,null),j.return=M,j;Kc(M,j)}return null}function v(M,j,z,V){var H=j!==null?j.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return H!==null?null:C(M,j,""+z,V);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Oc:return z.key===H?b(M,j,z,V):null;case Hi:return z.key===H?_(M,j,z,V):null;case Kr:return H=z._init,v(M,j,H(z._payload),V)}if(ya(z)||ma(z))return H!==null?null:D(M,j,z,V,null);Kc(M,z)}return null}function S(M,j,z,V,H){if(typeof V=="string"&&V!==""||typeof V=="number")return M=M.get(z)||null,C(j,M,""+V,H);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Oc:return M=M.get(V.key===null?z:V.key)||null,b(j,M,V,H);case Hi:return M=M.get(V.key===null?z:V.key)||null,_(j,M,V,H);case Kr:var J=V._init;return S(M,j,z,J(V._payload),H)}if(ya(V)||ma(V))return M=M.get(z)||null,D(j,M,V,H,null);Kc(j,V)}return null}function B(M,j,z,V){for(var H=null,J=null,P=j,$=j=0,ae=null;P!==null&&$<z.length;$++){P.index>$?(ae=P,P=null):ae=P.sibling;var ne=v(M,P,z[$],V);if(ne===null){P===null&&(P=ae);break}i&&P&&ne.alternate===null&&s(M,P),j=k(ne,j,$),J===null?H=ne:J.sibling=ne,J=ne,P=ae}if($===z.length)return c(M,P),Ze&&Ho(M,$),H;if(P===null){for(;$<z.length;$++)P=x(M,z[$],V),P!==null&&(j=k(P,j,$),J===null?H=P:J.sibling=P,J=P);return Ze&&Ho(M,$),H}for(P=u(M,P);$<z.length;$++)ae=S(P,M,$,z[$],V),ae!==null&&(i&&ae.alternate!==null&&P.delete(ae.key===null?$:ae.key),j=k(ae,j,$),J===null?H=ae:J.sibling=ae,J=ae);return i&&P.forEach(function(pe){return s(M,pe)}),Ze&&Ho(M,$),H}function N(M,j,z,V){var H=ma(z);if(typeof H!="function")throw Error(te(150));if(z=H.call(z),z==null)throw Error(te(151));for(var J=H=null,P=j,$=j=0,ae=null,ne=z.next();P!==null&&!ne.done;$++,ne=z.next()){P.index>$?(ae=P,P=null):ae=P.sibling;var pe=v(M,P,ne.value,V);if(pe===null){P===null&&(P=ae);break}i&&P&&pe.alternate===null&&s(M,P),j=k(pe,j,$),J===null?H=pe:J.sibling=pe,J=pe,P=ae}if(ne.done)return c(M,P),Ze&&Ho(M,$),H;if(P===null){for(;!ne.done;$++,ne=z.next())ne=x(M,ne.value,V),ne!==null&&(j=k(ne,j,$),J===null?H=ne:J.sibling=ne,J=ne);return Ze&&Ho(M,$),H}for(P=u(M,P);!ne.done;$++,ne=z.next())ne=S(P,M,$,ne.value,V),ne!==null&&(i&&ne.alternate!==null&&P.delete(ne.key===null?$:ne.key),j=k(ne,j,$),J===null?H=ne:J.sibling=ne,J=ne);return i&&P.forEach(function(ye){return s(M,ye)}),Ze&&Ho(M,$),H}function L(M,j,z,V){if(typeof z=="object"&&z!==null&&z.type===qi&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Oc:e:{for(var H=z.key,J=j;J!==null;){if(J.key===H){if(H=z.type,H===qi){if(J.tag===7){c(M,J.sibling),j=m(J,z.props.children),j.return=M,M=j;break e}}else if(J.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Kr&&ox(H)===J.type){c(M,J.sibling),j=m(J,z.props),j.ref=ba(M,J,z),j.return=M,M=j;break e}c(M,J);break}else s(M,J);J=J.sibling}z.type===qi?(j=Yo(z.props.children,M.mode,V,z.key),j.return=M,M=j):(V=ud(z.type,z.key,z.props,null,M.mode,V),V.ref=ba(M,j,z),V.return=M,M=V)}return w(M);case Hi:e:{for(J=z.key;j!==null;){if(j.key===J)if(j.tag===4&&j.stateNode.containerInfo===z.containerInfo&&j.stateNode.implementation===z.implementation){c(M,j.sibling),j=m(j,z.children||[]),j.return=M,M=j;break e}else{c(M,j);break}else s(M,j);j=j.sibling}j=lg(z,M.mode,V),j.return=M,M=j}return w(M);case Kr:return J=z._init,L(M,j,J(z._payload),V)}if(ya(z))return B(M,j,z,V);if(ma(z))return N(M,j,z,V);Kc(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,j!==null&&j.tag===6?(c(M,j.sibling),j=m(j,z),j.return=M,M=j):(c(M,j),j=ag(z,M.mode,V),j.return=M,M=j),w(M)):c(M,j)}return L}var ds=fE(!0),kE=fE(!1),Sd=fo(null),Id=null,Ji=null,Up=null;function Hp(){Up=Ji=Id=null}function qp(i){var s=Sd.current;Ye(Sd),i._currentValue=s}function qg(i,s,c){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===c)break;i=i.return}}function is(i,s){Id=i,Up=Ji=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(Kt=!0),i.firstContext=null)}function Mn(i){var s=i._currentValue;if(Up!==i)if(i={context:i,memoizedValue:s,next:null},Ji===null){if(Id===null)throw Error(te(308));Ji=i,Id.dependencies={lanes:0,firstContext:i}}else Ji=Ji.next=i;return s}var $o=null;function Wp(i){$o===null?$o=[i]:$o.push(i)}function bE(i,s,c,u){var m=s.interleaved;return m===null?(c.next=c,Wp(s)):(c.next=m.next,m.next=c),s.interleaved=c,Nr(i,u)}function Nr(i,s){i.lanes|=s;var c=i.alternate;for(c!==null&&(c.lanes|=s),c=i,i=i.return;i!==null;)i.childLanes|=s,c=i.alternate,c!==null&&(c.childLanes|=s),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Qr=!1;function $p(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wE(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Sr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function io(i,s,c){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,Pe&2){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,Nr(i,c)}return m=u.interleaved,m===null?(s.next=s,Wp(u)):(s.next=m.next,m.next=s),u.interleaved=s,Nr(i,c)}function id(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194240)!==0)){var u=s.lanes;u&=i.pendingLanes,c|=u,s.lanes=c,Np(i,c)}}function ix(i,s){var c=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,c===u)){var m=null,k=null;if(c=c.firstBaseUpdate,c!==null){do{var w={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};k===null?m=k=w:k=k.next=w,c=c.next}while(c!==null);k===null?m=k=s:k=k.next=s}else m=k=s;c={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:k,shared:u.shared,effects:u.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}function Td(i,s,c,u){var m=i.updateQueue;Qr=!1;var k=m.firstBaseUpdate,w=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var b=C,_=b.next;b.next=null,w===null?k=_:w.next=_,w=b;var D=i.alternate;D!==null&&(D=D.updateQueue,C=D.lastBaseUpdate,C!==w&&(C===null?D.firstBaseUpdate=_:C.next=_,D.lastBaseUpdate=b))}if(k!==null){var x=m.baseState;w=0,D=_=b=null,C=k;do{var v=C.lane,S=C.eventTime;if((u&v)===v){D!==null&&(D=D.next={eventTime:S,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var B=i,N=C;switch(v=s,S=c,N.tag){case 1:if(B=N.payload,typeof B=="function"){x=B.call(S,x,v);break e}x=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=N.payload,v=typeof B=="function"?B.call(S,x,v):B,v==null)break e;x=tt({},x,v);break e;case 2:Qr=!0}}C.callback!==null&&C.lane!==0&&(i.flags|=64,v=m.effects,v===null?m.effects=[C]:v.push(C))}else S={eventTime:S,lane:v,tag:C.tag,payload:C.payload,callback:C.callback,next:null},D===null?(_=D=S,b=x):D=D.next=S,w|=v;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;v=C,C=v.next,v.next=null,m.lastBaseUpdate=v,m.shared.pending=null}}while(!0);if(D===null&&(b=x),m.baseState=b,m.firstBaseUpdate=_,m.lastBaseUpdate=D,s=m.shared.interleaved,s!==null){m=s;do w|=m.lane,m=m.next;while(m!==s)}else k===null&&(m.shared.lanes=0);ti|=w,i.lanes=w,i.memoizedState=x}}function sx(i,s,c){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var u=i[s],m=u.callback;if(m!==null){if(u.callback=null,u=c,typeof m!="function")throw Error(te(191,m));m.call(u)}}}var al={},ur=fo(al),Ga=fo(al),Ka=fo(al);function Go(i){if(i===al)throw Error(te(174));return i}function Gp(i,s){switch($e(Ka,s),$e(Ga,i),$e(ur,al),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:_g(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=_g(s,i)}Ye(ur),$e(ur,s)}function us(){Ye(ur),Ye(Ga),Ye(Ka)}function AE(i){Go(Ka.current);var s=Go(ur.current),c=_g(s,i.type);s!==c&&($e(Ga,i),$e(ur,c))}function Kp(i){Ga.current===i&&(Ye(ur),Ye(Ga))}var Je=fo(0);function Nd(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var tg=[];function Qp(){for(var i=0;i<tg.length;i++)tg[i]._workInProgressVersionPrimary=null;tg.length=0}var sd=Br.ReactCurrentDispatcher,ng=Br.ReactCurrentBatchConfig,ei=0,Xe=null,gt=null,wt=null,Md=!1,Ma=!1,Qa=0,Rz=0;function St(){throw Error(te(321))}function Yp(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!Zn(i[c],s[c]))return!1;return!0}function Zp(i,s,c,u,m,k){if(ei=k,Xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,sd.current=i===null||i.memoizedState===null?Hz:qz,i=c(u,m),Ma){k=0;do{if(Ma=!1,Qa=0,25<=k)throw Error(te(301));k+=1,wt=gt=null,s.updateQueue=null,sd.current=Wz,i=c(u,m)}while(Ma)}if(sd.current=Bd,s=gt!==null&&gt.next!==null,ei=0,wt=gt=Xe=null,Md=!1,s)throw Error(te(300));return i}function Jp(){var i=Qa!==0;return Qa=0,i}function lr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Xe.memoizedState=wt=i:wt=wt.next=i,wt}function Bn(){if(gt===null){var i=Xe.alternate;i=i!==null?i.memoizedState:null}else i=gt.next;var s=wt===null?Xe.memoizedState:wt.next;if(s!==null)wt=s,gt=i;else{if(i===null)throw Error(te(310));gt=i,i={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},wt===null?Xe.memoizedState=wt=i:wt=wt.next=i}return wt}function Ya(i,s){return typeof s=="function"?s(i):s}function rg(i){var s=Bn(),c=s.queue;if(c===null)throw Error(te(311));c.lastRenderedReducer=i;var u=gt,m=u.baseQueue,k=c.pending;if(k!==null){if(m!==null){var w=m.next;m.next=k.next,k.next=w}u.baseQueue=m=k,c.pending=null}if(m!==null){k=m.next,u=u.baseState;var C=w=null,b=null,_=k;do{var D=_.lane;if((ei&D)===D)b!==null&&(b=b.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),u=_.hasEagerState?_.eagerState:i(u,_.action);else{var x={lane:D,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};b===null?(C=b=x,w=u):b=b.next=x,Xe.lanes|=D,ti|=D}_=_.next}while(_!==null&&_!==k);b===null?w=u:b.next=C,Zn(u,s.memoizedState)||(Kt=!0),s.memoizedState=u,s.baseState=w,s.baseQueue=b,c.lastRenderedState=u}if(i=c.interleaved,i!==null){m=i;do k=m.lane,Xe.lanes|=k,ti|=k,m=m.next;while(m!==i)}else m===null&&(c.lanes=0);return[s.memoizedState,c.dispatch]}function og(i){var s=Bn(),c=s.queue;if(c===null)throw Error(te(311));c.lastRenderedReducer=i;var u=c.dispatch,m=c.pending,k=s.memoizedState;if(m!==null){c.pending=null;var w=m=m.next;do k=i(k,w.action),w=w.next;while(w!==m);Zn(k,s.memoizedState)||(Kt=!0),s.memoizedState=k,s.baseQueue===null&&(s.baseState=k),c.lastRenderedState=k}return[k,u]}function CE(){}function vE(i,s){var c=Xe,u=Bn(),m=s(),k=!Zn(u.memoizedState,m);if(k&&(u.memoizedState=m,Kt=!0),u=u.queue,Xp(xE.bind(null,c,u,i),[i]),u.getSnapshot!==s||k||wt!==null&&wt.memoizedState.tag&1){if(c.flags|=2048,Za(9,_E.bind(null,c,u,m,s),void 0,null),Ct===null)throw Error(te(349));ei&30||yE(c,s,m)}return m}function yE(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=Xe.updateQueue,s===null?(s={lastEffect:null,stores:null},Xe.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function _E(i,s,c,u){s.value=c,s.getSnapshot=u,EE(s)&&DE(i)}function xE(i,s,c){return c(function(){EE(s)&&DE(i)})}function EE(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!Zn(i,c)}catch{return!0}}function DE(i){var s=Nr(i,1);s!==null&&Yn(s,i,1,-1)}function ax(i){var s=lr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:i},s.queue=i,i=i.dispatch=Uz.bind(null,Xe,i),[s.memoizedState,i]}function Za(i,s,c,u){return i={tag:i,create:s,destroy:c,deps:u,next:null},s=Xe.updateQueue,s===null?(s={lastEffect:null,stores:null},Xe.updateQueue=s,s.lastEffect=i.next=i):(c=s.lastEffect,c===null?s.lastEffect=i.next=i:(u=c.next,c.next=i,i.next=u,s.lastEffect=i)),i}function SE(){return Bn().memoizedState}function ad(i,s,c,u){var m=lr();Xe.flags|=i,m.memoizedState=Za(1|s,c,void 0,u===void 0?null:u)}function nu(i,s,c,u){var m=Bn();u=u===void 0?null:u;var k=void 0;if(gt!==null){var w=gt.memoizedState;if(k=w.destroy,u!==null&&Yp(u,w.deps)){m.memoizedState=Za(s,c,k,u);return}}Xe.flags|=i,m.memoizedState=Za(1|s,c,k,u)}function lx(i,s){return ad(8390656,8,i,s)}function Xp(i,s){return nu(2048,8,i,s)}function IE(i,s){return nu(4,2,i,s)}function TE(i,s){return nu(4,4,i,s)}function NE(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function ME(i,s,c){return c=c!=null?c.concat([i]):null,nu(4,4,NE.bind(null,s,i),c)}function ef(){}function BE(i,s){var c=Bn();s=s===void 0?null:s;var u=c.memoizedState;return u!==null&&s!==null&&Yp(s,u[1])?u[0]:(c.memoizedState=[i,s],i)}function jE(i,s){var c=Bn();s=s===void 0?null:s;var u=c.memoizedState;return u!==null&&s!==null&&Yp(s,u[1])?u[0]:(i=i(),c.memoizedState=[i,s],i)}function PE(i,s,c){return ei&21?(Zn(c,s)||(c=F2(),Xe.lanes|=c,ti|=c,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,Kt=!0),i.memoizedState=c)}function Fz(i,s){var c=ze;ze=c!==0&&4>c?c:4,i(!0);var u=ng.transition;ng.transition={};try{i(!1),s()}finally{ze=c,ng.transition=u}}function LE(){return Bn().memoizedState}function Vz(i,s,c){var u=ao(i);if(c={lane:u,action:c,hasEagerState:!1,eagerState:null,next:null},OE(i))zE(s,c);else if(c=bE(i,s,c,u),c!==null){var m=zt();Yn(c,i,u,m),RE(c,s,u)}}function Uz(i,s,c){var u=ao(i),m={lane:u,action:c,hasEagerState:!1,eagerState:null,next:null};if(OE(i))zE(s,m);else{var k=i.alternate;if(i.lanes===0&&(k===null||k.lanes===0)&&(k=s.lastRenderedReducer,k!==null))try{var w=s.lastRenderedState,C=k(w,c);if(m.hasEagerState=!0,m.eagerState=C,Zn(C,w)){var b=s.interleaved;b===null?(m.next=m,Wp(s)):(m.next=b.next,b.next=m),s.interleaved=m;return}}catch{}finally{}c=bE(i,s,m,u),c!==null&&(m=zt(),Yn(c,i,u,m),RE(c,s,u))}}function OE(i){var s=i.alternate;return i===Xe||s!==null&&s===Xe}function zE(i,s){Ma=Md=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function RE(i,s,c){if(c&4194240){var u=s.lanes;u&=i.pendingLanes,c|=u,s.lanes=c,Np(i,c)}}var Bd={readContext:Mn,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},Hz={readContext:Mn,useCallback:function(i,s){return lr().memoizedState=[i,s===void 0?null:s],i},useContext:Mn,useEffect:lx,useImperativeHandle:function(i,s,c){return c=c!=null?c.concat([i]):null,ad(4194308,4,NE.bind(null,s,i),c)},useLayoutEffect:function(i,s){return ad(4194308,4,i,s)},useInsertionEffect:function(i,s){return ad(4,2,i,s)},useMemo:function(i,s){var c=lr();return s=s===void 0?null:s,i=i(),c.memoizedState=[i,s],i},useReducer:function(i,s,c){var u=lr();return s=c!==void 0?c(s):s,u.memoizedState=u.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},u.queue=i,i=i.dispatch=Vz.bind(null,Xe,i),[u.memoizedState,i]},useRef:function(i){var s=lr();return i={current:i},s.memoizedState=i},useState:ax,useDebugValue:ef,useDeferredValue:function(i){return lr().memoizedState=i},useTransition:function(){var i=ax(!1),s=i[0];return i=Fz.bind(null,i[1]),lr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,c){var u=Xe,m=lr();if(Ze){if(c===void 0)throw Error(te(407));c=c()}else{if(c=s(),Ct===null)throw Error(te(349));ei&30||yE(u,s,c)}m.memoizedState=c;var k={value:c,getSnapshot:s};return m.queue=k,lx(xE.bind(null,u,k,i),[i]),u.flags|=2048,Za(9,_E.bind(null,u,k,c,s),void 0,null),c},useId:function(){var i=lr(),s=Ct.identifierPrefix;if(Ze){var c=Dr,u=Er;c=(u&~(1<<32-Qn(u)-1)).toString(32)+c,s=":"+s+"R"+c,c=Qa++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=Rz++,s=":"+s+"r"+c.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},qz={readContext:Mn,useCallback:BE,useContext:Mn,useEffect:Xp,useImperativeHandle:ME,useInsertionEffect:IE,useLayoutEffect:TE,useMemo:jE,useReducer:rg,useRef:SE,useState:function(){return rg(Ya)},useDebugValue:ef,useDeferredValue:function(i){var s=Bn();return PE(s,gt.memoizedState,i)},useTransition:function(){var i=rg(Ya)[0],s=Bn().memoizedState;return[i,s]},useMutableSource:CE,useSyncExternalStore:vE,useId:LE,unstable_isNewReconciler:!1},Wz={readContext:Mn,useCallback:BE,useContext:Mn,useEffect:Xp,useImperativeHandle:ME,useInsertionEffect:IE,useLayoutEffect:TE,useMemo:jE,useReducer:og,useRef:SE,useState:function(){return og(Ya)},useDebugValue:ef,useDeferredValue:function(i){var s=Bn();return gt===null?s.memoizedState=i:PE(s,gt.memoizedState,i)},useTransition:function(){var i=og(Ya)[0],s=Bn().memoizedState;return[i,s]},useMutableSource:CE,useSyncExternalStore:vE,useId:LE,unstable_isNewReconciler:!1};function $n(i,s){if(i&&i.defaultProps){s=tt({},s),i=i.defaultProps;for(var c in i)s[c]===void 0&&(s[c]=i[c]);return s}return s}function Wg(i,s,c,u){s=i.memoizedState,c=c(u,s),c=c==null?s:tt({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var ru={isMounted:function(i){return(i=i._reactInternals)?ii(i)===i:!1},enqueueSetState:function(i,s,c){i=i._reactInternals;var u=zt(),m=ao(i),k=Sr(u,m);k.payload=s,c!=null&&(k.callback=c),s=io(i,k,m),s!==null&&(Yn(s,i,m,u),id(s,i,m))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var u=zt(),m=ao(i),k=Sr(u,m);k.tag=1,k.payload=s,c!=null&&(k.callback=c),s=io(i,k,m),s!==null&&(Yn(s,i,m,u),id(s,i,m))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=zt(),u=ao(i),m=Sr(c,u);m.tag=2,s!=null&&(m.callback=s),s=io(i,m,u),s!==null&&(Yn(s,i,u,c),id(s,i,u))}};function cx(i,s,c,u,m,k,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,k,w):s.prototype&&s.prototype.isPureReactComponent?!Ha(c,u)||!Ha(m,k):!0}function FE(i,s,c){var u=!1,m=mo,k=s.contextType;return typeof k=="object"&&k!==null?k=Mn(k):(m=Yt(s)?Jo:jt.current,u=s.contextTypes,k=(u=u!=null)?ls(i,m):mo),s=new s(c,k),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ru,i.stateNode=s,s._reactInternals=i,u&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=k),s}function dx(i,s,c,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,u),s.state!==i&&ru.enqueueReplaceState(s,s.state,null)}function $g(i,s,c,u){var m=i.stateNode;m.props=c,m.state=i.memoizedState,m.refs={},$p(i);var k=s.contextType;typeof k=="object"&&k!==null?m.context=Mn(k):(k=Yt(s)?Jo:jt.current,m.context=ls(i,k)),m.state=i.memoizedState,k=s.getDerivedStateFromProps,typeof k=="function"&&(Wg(i,s,k,c),m.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&ru.enqueueReplaceState(m,m.state,null),Td(i,c,m,u),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function hs(i,s){try{var c="",u=s;do c+=w7(u),u=u.return;while(u);var m=c}catch(k){m=`
Error generating stack: `+k.message+`
`+k.stack}return{value:i,source:s,stack:m,digest:null}}function ig(i,s,c){return{value:i,source:null,stack:c??null,digest:s??null}}function Gg(i,s){try{console.error(s.value)}catch(c){setTimeout(function(){throw c})}}var $z=typeof WeakMap=="function"?WeakMap:Map;function VE(i,s,c){c=Sr(-1,c),c.tag=3,c.payload={element:null};var u=s.value;return c.callback=function(){Pd||(Pd=!0,rp=u),Gg(i,s)},c}function UE(i,s,c){c=Sr(-1,c),c.tag=3;var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var m=s.value;c.payload=function(){return u(m)},c.callback=function(){Gg(i,s)}}var k=i.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(c.callback=function(){Gg(i,s),typeof u!="function"&&(so===null?so=new Set([this]):so.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),c}function ux(i,s,c){var u=i.pingCache;if(u===null){u=i.pingCache=new $z;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(c)||(m.add(c),i=sR.bind(null,i,s,c),s.then(i,i))}function hx(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function mx(i,s,c,u,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===s?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(s=Sr(-1,1),s.tag=2,io(c,s,1))),c.lanes|=1),i)}var Gz=Br.ReactCurrentOwner,Kt=!1;function Ot(i,s,c,u){s.child=i===null?kE(s,null,c,u):ds(s,i.child,c,u)}function gx(i,s,c,u,m){c=c.render;var k=s.ref;return is(s,m),u=Zp(i,s,c,u,k,m),c=Jp(),i!==null&&!Kt?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~m,Mr(i,s,m)):(Ze&&c&&Rp(s),s.flags|=1,Ot(i,s,u,m),s.child)}function px(i,s,c,u,m){if(i===null){var k=c.type;return typeof k=="function"&&!cf(k)&&k.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(s.tag=15,s.type=k,HE(i,s,k,u,m)):(i=ud(c.type,null,u,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(k=i.child,!(i.lanes&m)){var w=k.memoizedProps;if(c=c.compare,c=c!==null?c:Ha,c(w,u)&&i.ref===s.ref)return Mr(i,s,m)}return s.flags|=1,i=lo(k,u),i.ref=s.ref,i.return=s,s.child=i}function HE(i,s,c,u,m){if(i!==null){var k=i.memoizedProps;if(Ha(k,u)&&i.ref===s.ref)if(Kt=!1,s.pendingProps=u=k,(i.lanes&m)!==0)i.flags&131072&&(Kt=!0);else return s.lanes=i.lanes,Mr(i,s,m)}return Kg(i,s,c,u,m)}function qE(i,s,c){var u=s.pendingProps,m=u.children,k=i!==null?i.memoizedState:null;if(u.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(es,un),un|=c;else{if(!(c&1073741824))return i=k!==null?k.baseLanes|c:c,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,$e(es,un),un|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=k!==null?k.baseLanes:c,$e(es,un),un|=u}else k!==null?(u=k.baseLanes|c,s.memoizedState=null):u=c,$e(es,un),un|=u;return Ot(i,s,m,c),s.child}function WE(i,s){var c=s.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(s.flags|=512,s.flags|=2097152)}function Kg(i,s,c,u,m){var k=Yt(c)?Jo:jt.current;return k=ls(s,k),is(s,m),c=Zp(i,s,c,u,k,m),u=Jp(),i!==null&&!Kt?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~m,Mr(i,s,m)):(Ze&&u&&Rp(s),s.flags|=1,Ot(i,s,c,m),s.child)}function fx(i,s,c,u,m){if(Yt(c)){var k=!0;xd(s)}else k=!1;if(is(s,m),s.stateNode===null)ld(i,s),FE(s,c,u),$g(s,c,u,m),u=!0;else if(i===null){var w=s.stateNode,C=s.memoizedProps;w.props=C;var b=w.context,_=c.contextType;typeof _=="object"&&_!==null?_=Mn(_):(_=Yt(c)?Jo:jt.current,_=ls(s,_));var D=c.getDerivedStateFromProps,x=typeof D=="function"||typeof w.getSnapshotBeforeUpdate=="function";x||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==u||b!==_)&&dx(s,w,u,_),Qr=!1;var v=s.memoizedState;w.state=v,Td(s,u,w,m),b=s.memoizedState,C!==u||v!==b||Qt.current||Qr?(typeof D=="function"&&(Wg(s,c,D,u),b=s.memoizedState),(C=Qr||cx(s,c,C,u,v,b,_))?(x||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=b),w.props=u,w.state=b,w.context=_,u=C):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{w=s.stateNode,wE(i,s),C=s.memoizedProps,_=s.type===s.elementType?C:$n(s.type,C),w.props=_,x=s.pendingProps,v=w.context,b=c.contextType,typeof b=="object"&&b!==null?b=Mn(b):(b=Yt(c)?Jo:jt.current,b=ls(s,b));var S=c.getDerivedStateFromProps;(D=typeof S=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==x||v!==b)&&dx(s,w,u,b),Qr=!1,v=s.memoizedState,w.state=v,Td(s,u,w,m);var B=s.memoizedState;C!==x||v!==B||Qt.current||Qr?(typeof S=="function"&&(Wg(s,c,S,u),B=s.memoizedState),(_=Qr||cx(s,c,_,u,v,B,b)||!1)?(D||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(u,B,b),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(u,B,b)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===i.memoizedProps&&v===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&v===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=B),w.props=u,w.state=B,w.context=b,u=_):(typeof w.componentDidUpdate!="function"||C===i.memoizedProps&&v===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&v===i.memoizedState||(s.flags|=1024),u=!1)}return Qg(i,s,c,u,k,m)}function Qg(i,s,c,u,m,k){WE(i,s);var w=(s.flags&128)!==0;if(!u&&!w)return m&&tx(s,c,!1),Mr(i,s,k);u=s.stateNode,Gz.current=s;var C=w&&typeof c.getDerivedStateFromError!="function"?null:u.render();return s.flags|=1,i!==null&&w?(s.child=ds(s,i.child,null,k),s.child=ds(s,null,C,k)):Ot(i,s,C,k),s.memoizedState=u.state,m&&tx(s,c,!0),s.child}function $E(i){var s=i.stateNode;s.pendingContext?ex(i,s.pendingContext,s.pendingContext!==s.context):s.context&&ex(i,s.context,!1),Gp(i,s.containerInfo)}function kx(i,s,c,u,m){return cs(),Vp(m),s.flags|=256,Ot(i,s,c,u),s.child}var Yg={dehydrated:null,treeContext:null,retryLane:0};function Zg(i){return{baseLanes:i,cachePool:null,transitions:null}}function GE(i,s,c){var u=s.pendingProps,m=Je.current,k=!1,w=(s.flags&128)!==0,C;if((C=w)||(C=i!==null&&i.memoizedState===null?!1:(m&2)!==0),C?(k=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),$e(Je,m&1),i===null)return Hg(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=u.children,i=u.fallback,k?(u=s.mode,k=s.child,w={mode:"hidden",children:w},!(u&1)&&k!==null?(k.childLanes=0,k.pendingProps=w):k=su(w,u,0,null),i=Yo(i,u,c,null),k.return=s,i.return=s,k.sibling=i,s.child=k,s.child.memoizedState=Zg(c),s.memoizedState=Yg,i):tf(s,w));if(m=i.memoizedState,m!==null&&(C=m.dehydrated,C!==null))return Kz(i,s,w,u,C,m,c);if(k){k=u.fallback,w=s.mode,m=i.child,C=m.sibling;var b={mode:"hidden",children:u.children};return!(w&1)&&s.child!==m?(u=s.child,u.childLanes=0,u.pendingProps=b,s.deletions=null):(u=lo(m,b),u.subtreeFlags=m.subtreeFlags&14680064),C!==null?k=lo(C,k):(k=Yo(k,w,c,null),k.flags|=2),k.return=s,u.return=s,u.sibling=k,s.child=u,u=k,k=s.child,w=i.child.memoizedState,w=w===null?Zg(c):{baseLanes:w.baseLanes|c,cachePool:null,transitions:w.transitions},k.memoizedState=w,k.childLanes=i.childLanes&~c,s.memoizedState=Yg,u}return k=i.child,i=k.sibling,u=lo(k,{mode:"visible",children:u.children}),!(s.mode&1)&&(u.lanes=c),u.return=s,u.sibling=null,i!==null&&(c=s.deletions,c===null?(s.deletions=[i],s.flags|=16):c.push(i)),s.child=u,s.memoizedState=null,u}function tf(i,s){return s=su({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Qc(i,s,c,u){return u!==null&&Vp(u),ds(s,i.child,null,c),i=tf(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Kz(i,s,c,u,m,k,w){if(c)return s.flags&256?(s.flags&=-257,u=ig(Error(te(422))),Qc(i,s,w,u)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(k=u.fallback,m=s.mode,u=su({mode:"visible",children:u.children},m,0,null),k=Yo(k,m,w,null),k.flags|=2,u.return=s,k.return=s,u.sibling=k,s.child=u,s.mode&1&&ds(s,i.child,null,w),s.child.memoizedState=Zg(w),s.memoizedState=Yg,k);if(!(s.mode&1))return Qc(i,s,w,null);if(m.data==="$!"){if(u=m.nextSibling&&m.nextSibling.dataset,u)var C=u.dgst;return u=C,k=Error(te(419)),u=ig(k,u,void 0),Qc(i,s,w,u)}if(C=(w&i.childLanes)!==0,Kt||C){if(u=Ct,u!==null){switch(w&-w){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(u.suspendedLanes|w)?0:m,m!==0&&m!==k.retryLane&&(k.retryLane=m,Nr(i,m),Yn(u,i,m,-1))}return lf(),u=ig(Error(te(421))),Qc(i,s,w,u)}return m.data==="$?"?(s.flags|=128,s.child=i.child,s=aR.bind(null,i),m._reactRetry=s,null):(i=k.treeContext,hn=oo(m.nextSibling),mn=s,Ze=!0,Kn=null,i!==null&&(Sn[In++]=Er,Sn[In++]=Dr,Sn[In++]=Xo,Er=i.id,Dr=i.overflow,Xo=s),s=tf(s,u.children),s.flags|=4096,s)}function bx(i,s,c){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),qg(i.return,s,c)}function sg(i,s,c,u,m){var k=i.memoizedState;k===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:c,tailMode:m}:(k.isBackwards=s,k.rendering=null,k.renderingStartTime=0,k.last=u,k.tail=c,k.tailMode=m)}function KE(i,s,c){var u=s.pendingProps,m=u.revealOrder,k=u.tail;if(Ot(i,s,u.children,c),u=Je.current,u&2)u=u&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bx(i,c,s);else if(i.tag===19)bx(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}if($e(Je,u),!(s.mode&1))s.memoizedState=null;else switch(m){case"forwards":for(c=s.child,m=null;c!==null;)i=c.alternate,i!==null&&Nd(i)===null&&(m=c),c=c.sibling;c=m,c===null?(m=s.child,s.child=null):(m=c.sibling,c.sibling=null),sg(s,!1,m,c,k);break;case"backwards":for(c=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&Nd(i)===null){s.child=m;break}i=m.sibling,m.sibling=c,c=m,m=i}sg(s,!0,c,null,k);break;case"together":sg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ld(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Mr(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),ti|=s.lanes,!(c&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(te(153));if(s.child!==null){for(i=s.child,c=lo(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=lo(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function Qz(i,s,c){switch(s.tag){case 3:$E(s),cs();break;case 5:AE(s);break;case 1:Yt(s.type)&&xd(s);break;case 4:Gp(s,s.stateNode.containerInfo);break;case 10:var u=s.type._context,m=s.memoizedProps.value;$e(Sd,u._currentValue),u._currentValue=m;break;case 13:if(u=s.memoizedState,u!==null)return u.dehydrated!==null?($e(Je,Je.current&1),s.flags|=128,null):c&s.child.childLanes?GE(i,s,c):($e(Je,Je.current&1),i=Mr(i,s,c),i!==null?i.sibling:null);$e(Je,Je.current&1);break;case 19:if(u=(c&s.childLanes)!==0,i.flags&128){if(u)return KE(i,s,c);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),$e(Je,Je.current),u)break;return null;case 22:case 23:return s.lanes=0,qE(i,s,c)}return Mr(i,s,c)}var QE,Jg,YE,ZE;QE=function(i,s){for(var c=s.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return;c=c.return}c.sibling.return=c.return,c=c.sibling}};Jg=function(){};YE=function(i,s,c,u){var m=i.memoizedProps;if(m!==u){i=s.stateNode,Go(ur.current);var k=null;switch(c){case"input":m=Ag(i,m),u=Ag(i,u),k=[];break;case"select":m=tt({},m,{value:void 0}),u=tt({},u,{value:void 0}),k=[];break;case"textarea":m=yg(i,m),u=yg(i,u),k=[];break;default:typeof m.onClick!="function"&&typeof u.onClick=="function"&&(i.onclick=yd)}xg(c,u);var w;c=null;for(_ in m)if(!u.hasOwnProperty(_)&&m.hasOwnProperty(_)&&m[_]!=null)if(_==="style"){var C=m[_];for(w in C)C.hasOwnProperty(w)&&(c||(c={}),c[w]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(La.hasOwnProperty(_)?k||(k=[]):(k=k||[]).push(_,null));for(_ in u){var b=u[_];if(C=m!=null?m[_]:void 0,u.hasOwnProperty(_)&&b!==C&&(b!=null||C!=null))if(_==="style")if(C){for(w in C)!C.hasOwnProperty(w)||b&&b.hasOwnProperty(w)||(c||(c={}),c[w]="");for(w in b)b.hasOwnProperty(w)&&C[w]!==b[w]&&(c||(c={}),c[w]=b[w])}else c||(k||(k=[]),k.push(_,c)),c=b;else _==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,C=C?C.__html:void 0,b!=null&&C!==b&&(k=k||[]).push(_,b)):_==="children"?typeof b!="string"&&typeof b!="number"||(k=k||[]).push(_,""+b):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(La.hasOwnProperty(_)?(b!=null&&_==="onScroll"&&Ke("scroll",i),k||C===b||(k=[])):(k=k||[]).push(_,b))}c&&(k=k||[]).push("style",c);var _=k;(s.updateQueue=_)&&(s.flags|=4)}};ZE=function(i,s,c,u){c!==u&&(s.flags|=4)};function wa(i,s){if(!Ze)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var u=null;c!==null;)c.alternate!==null&&(u=c),c=c.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function It(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,u=0;if(s)for(var m=i.child;m!==null;)c|=m.lanes|m.childLanes,u|=m.subtreeFlags&14680064,u|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)c|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=c,s}function Yz(i,s,c){var u=s.pendingProps;switch(Fp(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(s),null;case 1:return Yt(s.type)&&_d(),It(s),null;case 3:return u=s.stateNode,us(),Ye(Qt),Ye(jt),Qp(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Gc(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Kn!==null&&(sp(Kn),Kn=null))),Jg(i,s),It(s),null;case 5:Kp(s);var m=Go(Ka.current);if(c=s.type,i!==null&&s.stateNode!=null)YE(i,s,c,u,m),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!u){if(s.stateNode===null)throw Error(te(166));return It(s),null}if(i=Go(ur.current),Gc(s)){u=s.stateNode,c=s.type;var k=s.memoizedProps;switch(u[cr]=s,u[$a]=k,i=(s.mode&1)!==0,c){case"dialog":Ke("cancel",u),Ke("close",u);break;case"iframe":case"object":case"embed":Ke("load",u);break;case"video":case"audio":for(m=0;m<xa.length;m++)Ke(xa[m],u);break;case"source":Ke("error",u);break;case"img":case"image":case"link":Ke("error",u),Ke("load",u);break;case"details":Ke("toggle",u);break;case"input":D1(u,k),Ke("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!k.multiple},Ke("invalid",u);break;case"textarea":I1(u,k),Ke("invalid",u)}xg(c,k),m=null;for(var w in k)if(k.hasOwnProperty(w)){var C=k[w];w==="children"?typeof C=="string"?u.textContent!==C&&(k.suppressHydrationWarning!==!0&&$c(u.textContent,C,i),m=["children",C]):typeof C=="number"&&u.textContent!==""+C&&(k.suppressHydrationWarning!==!0&&$c(u.textContent,C,i),m=["children",""+C]):La.hasOwnProperty(w)&&C!=null&&w==="onScroll"&&Ke("scroll",u)}switch(c){case"input":zc(u),S1(u,k,!0);break;case"textarea":zc(u),T1(u);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(u.onclick=yd)}u=m,s.updateQueue=u,u!==null&&(s.flags|=4)}else{w=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=x2(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=w.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof u.is=="string"?i=w.createElement(c,{is:u.is}):(i=w.createElement(c),c==="select"&&(w=i,u.multiple?w.multiple=!0:u.size&&(w.size=u.size))):i=w.createElementNS(i,c),i[cr]=s,i[$a]=u,QE(i,s,!1,!1),s.stateNode=i;e:{switch(w=Eg(c,u),c){case"dialog":Ke("cancel",i),Ke("close",i),m=u;break;case"iframe":case"object":case"embed":Ke("load",i),m=u;break;case"video":case"audio":for(m=0;m<xa.length;m++)Ke(xa[m],i);m=u;break;case"source":Ke("error",i),m=u;break;case"img":case"image":case"link":Ke("error",i),Ke("load",i),m=u;break;case"details":Ke("toggle",i),m=u;break;case"input":D1(i,u),m=Ag(i,u),Ke("invalid",i);break;case"option":m=u;break;case"select":i._wrapperState={wasMultiple:!!u.multiple},m=tt({},u,{value:void 0}),Ke("invalid",i);break;case"textarea":I1(i,u),m=yg(i,u),Ke("invalid",i);break;default:m=u}xg(c,m),C=m;for(k in C)if(C.hasOwnProperty(k)){var b=C[k];k==="style"?S2(i,b):k==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&E2(i,b)):k==="children"?typeof b=="string"?(c!=="textarea"||b!=="")&&Oa(i,b):typeof b=="number"&&Oa(i,""+b):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(La.hasOwnProperty(k)?b!=null&&k==="onScroll"&&Ke("scroll",i):b!=null&&xp(i,k,b,w))}switch(c){case"input":zc(i),S1(i,u,!1);break;case"textarea":zc(i),T1(i);break;case"option":u.value!=null&&i.setAttribute("value",""+ho(u.value));break;case"select":i.multiple=!!u.multiple,k=u.value,k!=null?ts(i,!!u.multiple,k,!1):u.defaultValue!=null&&ts(i,!!u.multiple,u.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=yd)}switch(c){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return It(s),null;case 6:if(i&&s.stateNode!=null)ZE(i,s,i.memoizedProps,u);else{if(typeof u!="string"&&s.stateNode===null)throw Error(te(166));if(c=Go(Ka.current),Go(ur.current),Gc(s)){if(u=s.stateNode,c=s.memoizedProps,u[cr]=s,(k=u.nodeValue!==c)&&(i=mn,i!==null))switch(i.tag){case 3:$c(u.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&$c(u.nodeValue,c,(i.mode&1)!==0)}k&&(s.flags|=4)}else u=(c.nodeType===9?c:c.ownerDocument).createTextNode(u),u[cr]=s,s.stateNode=u}return It(s),null;case 13:if(Ye(Je),u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ze&&hn!==null&&s.mode&1&&!(s.flags&128))pE(),cs(),s.flags|=98560,k=!1;else if(k=Gc(s),u!==null&&u.dehydrated!==null){if(i===null){if(!k)throw Error(te(318));if(k=s.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(te(317));k[cr]=s}else cs(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;It(s),k=!1}else Kn!==null&&(sp(Kn),Kn=null),k=!0;if(!k)return s.flags&65536?s:null}return s.flags&128?(s.lanes=c,s):(u=u!==null,u!==(i!==null&&i.memoizedState!==null)&&u&&(s.child.flags|=8192,s.mode&1&&(i===null||Je.current&1?pt===0&&(pt=3):lf())),s.updateQueue!==null&&(s.flags|=4),It(s),null);case 4:return us(),Jg(i,s),i===null&&qa(s.stateNode.containerInfo),It(s),null;case 10:return qp(s.type._context),It(s),null;case 17:return Yt(s.type)&&_d(),It(s),null;case 19:if(Ye(Je),k=s.memoizedState,k===null)return It(s),null;if(u=(s.flags&128)!==0,w=k.rendering,w===null)if(u)wa(k,!1);else{if(pt!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(w=Nd(i),w!==null){for(s.flags|=128,wa(k,!1),u=w.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),s.subtreeFlags=0,u=c,c=s.child;c!==null;)k=c,i=u,k.flags&=14680066,w=k.alternate,w===null?(k.childLanes=0,k.lanes=i,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=w.childLanes,k.lanes=w.lanes,k.child=w.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=w.memoizedProps,k.memoizedState=w.memoizedState,k.updateQueue=w.updateQueue,k.type=w.type,i=w.dependencies,k.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return $e(Je,Je.current&1|2),s.child}i=i.sibling}k.tail!==null&&ct()>ms&&(s.flags|=128,u=!0,wa(k,!1),s.lanes=4194304)}else{if(!u)if(i=Nd(w),i!==null){if(s.flags|=128,u=!0,c=i.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),wa(k,!0),k.tail===null&&k.tailMode==="hidden"&&!w.alternate&&!Ze)return It(s),null}else 2*ct()-k.renderingStartTime>ms&&c!==1073741824&&(s.flags|=128,u=!0,wa(k,!1),s.lanes=4194304);k.isBackwards?(w.sibling=s.child,s.child=w):(c=k.last,c!==null?c.sibling=w:s.child=w,k.last=w)}return k.tail!==null?(s=k.tail,k.rendering=s,k.tail=s.sibling,k.renderingStartTime=ct(),s.sibling=null,c=Je.current,$e(Je,u?c&1|2:c&1),s):(It(s),null);case 22:case 23:return af(),u=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==u&&(s.flags|=8192),u&&s.mode&1?un&1073741824&&(It(s),s.subtreeFlags&6&&(s.flags|=8192)):It(s),null;case 24:return null;case 25:return null}throw Error(te(156,s.tag))}function Zz(i,s){switch(Fp(s),s.tag){case 1:return Yt(s.type)&&_d(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return us(),Ye(Qt),Ye(jt),Qp(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Kp(s),null;case 13:if(Ye(Je),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(te(340));cs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Ye(Je),null;case 4:return us(),null;case 10:return qp(s.type._context),null;case 22:case 23:return af(),null;case 24:return null;default:return null}}var Yc=!1,Nt=!1,Jz=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Xi(i,s){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(u){ot(i,s,u)}else c.current=null}function Xg(i,s,c){try{c()}catch(u){ot(i,s,u)}}var wx=!1;function Xz(i,s){if(Lg=Ad,i=nE(),zp(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var u=c.getSelection&&c.getSelection();if(u&&u.rangeCount!==0){c=u.anchorNode;var m=u.anchorOffset,k=u.focusNode;u=u.focusOffset;try{c.nodeType,k.nodeType}catch{c=null;break e}var w=0,C=-1,b=-1,_=0,D=0,x=i,v=null;t:for(;;){for(var S;x!==c||m!==0&&x.nodeType!==3||(C=w+m),x!==k||u!==0&&x.nodeType!==3||(b=w+u),x.nodeType===3&&(w+=x.nodeValue.length),(S=x.firstChild)!==null;)v=x,x=S;for(;;){if(x===i)break t;if(v===c&&++_===m&&(C=w),v===k&&++D===u&&(b=w),(S=x.nextSibling)!==null)break;x=v,v=x.parentNode}x=S}c=C===-1||b===-1?null:{start:C,end:b}}else c=null}c=c||{start:0,end:0}}else c=null;for(Og={focusedElem:i,selectionRange:c},Ad=!1,ue=s;ue!==null;)if(s=ue,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,ue=i;else for(;ue!==null;){s=ue;try{var B=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var N=B.memoizedProps,L=B.memoizedState,M=s.stateNode,j=M.getSnapshotBeforeUpdate(s.elementType===s.type?N:$n(s.type,N),L);M.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(V){ot(s,s.return,V)}if(i=s.sibling,i!==null){i.return=s.return,ue=i;break}ue=s.return}return B=wx,wx=!1,B}function Ba(i,s,c){var u=s.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&i)===i){var k=m.destroy;m.destroy=void 0,k!==void 0&&Xg(s,c,k)}m=m.next}while(m!==u)}}function ou(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&i)===i){var u=c.create;c.destroy=u()}c=c.next}while(c!==s)}}function ep(i){var s=i.ref;if(s!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof s=="function"?s(i):s.current=i}}function JE(i){var s=i.alternate;s!==null&&(i.alternate=null,JE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[cr],delete s[$a],delete s[Fg],delete s[Pz],delete s[Lz])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function XE(i){return i.tag===5||i.tag===3||i.tag===4}function Ax(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||XE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function tp(i,s,c){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(i,s):c.insertBefore(i,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(i,c)):(s=c,s.appendChild(i)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=yd));else if(u!==4&&(i=i.child,i!==null))for(tp(i,s,c),i=i.sibling;i!==null;)tp(i,s,c),i=i.sibling}function np(i,s,c){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(u!==4&&(i=i.child,i!==null))for(np(i,s,c),i=i.sibling;i!==null;)np(i,s,c),i=i.sibling}var xt=null,Gn=!1;function Wr(i,s,c){for(c=c.child;c!==null;)e5(i,s,c),c=c.sibling}function e5(i,s,c){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Yd,c)}catch{}switch(c.tag){case 5:Nt||Xi(c,s);case 6:var u=xt,m=Gn;xt=null,Wr(i,s,c),xt=u,Gn=m,xt!==null&&(Gn?(i=xt,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):xt.removeChild(c.stateNode));break;case 18:xt!==null&&(Gn?(i=xt,c=c.stateNode,i.nodeType===8?Xm(i.parentNode,c):i.nodeType===1&&Xm(i,c),Va(i)):Xm(xt,c.stateNode));break;case 4:u=xt,m=Gn,xt=c.stateNode.containerInfo,Gn=!0,Wr(i,s,c),xt=u,Gn=m;break;case 0:case 11:case 14:case 15:if(!Nt&&(u=c.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){m=u=u.next;do{var k=m,w=k.destroy;k=k.tag,w!==void 0&&(k&2||k&4)&&Xg(c,s,w),m=m.next}while(m!==u)}Wr(i,s,c);break;case 1:if(!Nt&&(Xi(c,s),u=c.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=c.memoizedProps,u.state=c.memoizedState,u.componentWillUnmount()}catch(C){ot(c,s,C)}Wr(i,s,c);break;case 21:Wr(i,s,c);break;case 22:c.mode&1?(Nt=(u=Nt)||c.memoizedState!==null,Wr(i,s,c),Nt=u):Wr(i,s,c);break;default:Wr(i,s,c)}}function Cx(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new Jz),s.forEach(function(u){var m=lR.bind(null,i,u);c.has(u)||(c.add(u),u.then(m,m))})}}function qn(i,s){var c=s.deletions;if(c!==null)for(var u=0;u<c.length;u++){var m=c[u];try{var k=i,w=s,C=w;e:for(;C!==null;){switch(C.tag){case 5:xt=C.stateNode,Gn=!1;break e;case 3:xt=C.stateNode.containerInfo,Gn=!0;break e;case 4:xt=C.stateNode.containerInfo,Gn=!0;break e}C=C.return}if(xt===null)throw Error(te(160));e5(k,w,m),xt=null,Gn=!1;var b=m.alternate;b!==null&&(b.return=null),m.return=null}catch(_){ot(m,s,_)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)t5(s,i),s=s.sibling}function t5(i,s){var c=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(qn(s,i),sr(i),u&4){try{Ba(3,i,i.return),ou(3,i)}catch(N){ot(i,i.return,N)}try{Ba(5,i,i.return)}catch(N){ot(i,i.return,N)}}break;case 1:qn(s,i),sr(i),u&512&&c!==null&&Xi(c,c.return);break;case 5:if(qn(s,i),sr(i),u&512&&c!==null&&Xi(c,c.return),i.flags&32){var m=i.stateNode;try{Oa(m,"")}catch(N){ot(i,i.return,N)}}if(u&4&&(m=i.stateNode,m!=null)){var k=i.memoizedProps,w=c!==null?c.memoizedProps:k,C=i.type,b=i.updateQueue;if(i.updateQueue=null,b!==null)try{C==="input"&&k.type==="radio"&&k.name!=null&&y2(m,k),Eg(C,w);var _=Eg(C,k);for(w=0;w<b.length;w+=2){var D=b[w],x=b[w+1];D==="style"?S2(m,x):D==="dangerouslySetInnerHTML"?E2(m,x):D==="children"?Oa(m,x):xp(m,D,x,_)}switch(C){case"input":Cg(m,k);break;case"textarea":_2(m,k);break;case"select":var v=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!k.multiple;var S=k.value;S!=null?ts(m,!!k.multiple,S,!1):v!==!!k.multiple&&(k.defaultValue!=null?ts(m,!!k.multiple,k.defaultValue,!0):ts(m,!!k.multiple,k.multiple?[]:"",!1))}m[$a]=k}catch(N){ot(i,i.return,N)}}break;case 6:if(qn(s,i),sr(i),u&4){if(i.stateNode===null)throw Error(te(162));m=i.stateNode,k=i.memoizedProps;try{m.nodeValue=k}catch(N){ot(i,i.return,N)}}break;case 3:if(qn(s,i),sr(i),u&4&&c!==null&&c.memoizedState.isDehydrated)try{Va(s.containerInfo)}catch(N){ot(i,i.return,N)}break;case 4:qn(s,i),sr(i);break;case 13:qn(s,i),sr(i),m=i.child,m.flags&8192&&(k=m.memoizedState!==null,m.stateNode.isHidden=k,!k||m.alternate!==null&&m.alternate.memoizedState!==null||(of=ct())),u&4&&Cx(i);break;case 22:if(D=c!==null&&c.memoizedState!==null,i.mode&1?(Nt=(_=Nt)||D,qn(s,i),Nt=_):qn(s,i),sr(i),u&8192){if(_=i.memoizedState!==null,(i.stateNode.isHidden=_)&&!D&&i.mode&1)for(ue=i,D=i.child;D!==null;){for(x=ue=D;ue!==null;){switch(v=ue,S=v.child,v.tag){case 0:case 11:case 14:case 15:Ba(4,v,v.return);break;case 1:Xi(v,v.return);var B=v.stateNode;if(typeof B.componentWillUnmount=="function"){u=v,c=v.return;try{s=u,B.props=s.memoizedProps,B.state=s.memoizedState,B.componentWillUnmount()}catch(N){ot(u,c,N)}}break;case 5:Xi(v,v.return);break;case 22:if(v.memoizedState!==null){yx(x);continue}}S!==null?(S.return=v,ue=S):yx(x)}D=D.sibling}e:for(D=null,x=i;;){if(x.tag===5){if(D===null){D=x;try{m=x.stateNode,_?(k=m.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(C=x.stateNode,b=x.memoizedProps.style,w=b!=null&&b.hasOwnProperty("display")?b.display:null,C.style.display=D2("display",w))}catch(N){ot(i,i.return,N)}}}else if(x.tag===6){if(D===null)try{x.stateNode.nodeValue=_?"":x.memoizedProps}catch(N){ot(i,i.return,N)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===i)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===i)break e;for(;x.sibling===null;){if(x.return===null||x.return===i)break e;D===x&&(D=null),x=x.return}D===x&&(D=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:qn(s,i),sr(i),u&4&&Cx(i);break;case 21:break;default:qn(s,i),sr(i)}}function sr(i){var s=i.flags;if(s&2){try{e:{for(var c=i.return;c!==null;){if(XE(c)){var u=c;break e}c=c.return}throw Error(te(160))}switch(u.tag){case 5:var m=u.stateNode;u.flags&32&&(Oa(m,""),u.flags&=-33);var k=Ax(i);np(i,k,m);break;case 3:case 4:var w=u.stateNode.containerInfo,C=Ax(i);tp(i,C,w);break;default:throw Error(te(161))}}catch(b){ot(i,i.return,b)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function eR(i,s,c){ue=i,n5(i)}function n5(i,s,c){for(var u=(i.mode&1)!==0;ue!==null;){var m=ue,k=m.child;if(m.tag===22&&u){var w=m.memoizedState!==null||Yc;if(!w){var C=m.alternate,b=C!==null&&C.memoizedState!==null||Nt;C=Yc;var _=Nt;if(Yc=w,(Nt=b)&&!_)for(ue=m;ue!==null;)w=ue,b=w.child,w.tag===22&&w.memoizedState!==null?_x(m):b!==null?(b.return=w,ue=b):_x(m);for(;k!==null;)ue=k,n5(k),k=k.sibling;ue=m,Yc=C,Nt=_}vx(i)}else m.subtreeFlags&8772&&k!==null?(k.return=m,ue=k):vx(i)}}function vx(i){for(;ue!==null;){var s=ue;if(s.flags&8772){var c=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Nt||ou(5,s);break;case 1:var u=s.stateNode;if(s.flags&4&&!Nt)if(c===null)u.componentDidMount();else{var m=s.elementType===s.type?c.memoizedProps:$n(s.type,c.memoizedProps);u.componentDidUpdate(m,c.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var k=s.updateQueue;k!==null&&sx(s,k,u);break;case 3:var w=s.updateQueue;if(w!==null){if(c=null,s.child!==null)switch(s.child.tag){case 5:c=s.child.stateNode;break;case 1:c=s.child.stateNode}sx(s,w,c)}break;case 5:var C=s.stateNode;if(c===null&&s.flags&4){c=C;var b=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&c.focus();break;case"img":b.src&&(c.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var _=s.alternate;if(_!==null){var D=_.memoizedState;if(D!==null){var x=D.dehydrated;x!==null&&Va(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Nt||s.flags&512&&ep(s)}catch(v){ot(s,s.return,v)}}if(s===i){ue=null;break}if(c=s.sibling,c!==null){c.return=s.return,ue=c;break}ue=s.return}}function yx(i){for(;ue!==null;){var s=ue;if(s===i){ue=null;break}var c=s.sibling;if(c!==null){c.return=s.return,ue=c;break}ue=s.return}}function _x(i){for(;ue!==null;){var s=ue;try{switch(s.tag){case 0:case 11:case 15:var c=s.return;try{ou(4,s)}catch(b){ot(s,c,b)}break;case 1:var u=s.stateNode;if(typeof u.componentDidMount=="function"){var m=s.return;try{u.componentDidMount()}catch(b){ot(s,m,b)}}var k=s.return;try{ep(s)}catch(b){ot(s,k,b)}break;case 5:var w=s.return;try{ep(s)}catch(b){ot(s,w,b)}}}catch(b){ot(s,s.return,b)}if(s===i){ue=null;break}var C=s.sibling;if(C!==null){C.return=s.return,ue=C;break}ue=s.return}}var tR=Math.ceil,jd=Br.ReactCurrentDispatcher,nf=Br.ReactCurrentOwner,Nn=Br.ReactCurrentBatchConfig,Pe=0,Ct=null,dt=null,Et=0,un=0,es=fo(0),pt=0,Ja=null,ti=0,iu=0,rf=0,ja=null,Gt=null,of=0,ms=1/0,_r=null,Pd=!1,rp=null,so=null,Zc=!1,Xr=null,Ld=0,Pa=0,op=null,cd=-1,dd=0;function zt(){return Pe&6?ct():cd!==-1?cd:cd=ct()}function ao(i){return i.mode&1?Pe&2&&Et!==0?Et&-Et:zz.transition!==null?(dd===0&&(dd=F2()),dd):(i=ze,i!==0||(i=window.event,i=i===void 0?16:G2(i.type)),i):1}function Yn(i,s,c,u){if(50<Pa)throw Pa=0,op=null,Error(te(185));ol(i,c,u),(!(Pe&2)||i!==Ct)&&(i===Ct&&(!(Pe&2)&&(iu|=c),pt===4&&Zr(i,Et)),Zt(i,u),c===1&&Pe===0&&!(s.mode&1)&&(ms=ct()+500,tu&&ko()))}function Zt(i,s){var c=i.callbackNode;z7(i,s);var u=wd(i,i===Ct?Et:0);if(u===0)c!==null&&B1(c),i.callbackNode=null,i.callbackPriority=0;else if(s=u&-u,i.callbackPriority!==s){if(c!=null&&B1(c),s===1)i.tag===0?Oz(xx.bind(null,i)):hE(xx.bind(null,i)),Bz(function(){!(Pe&6)&&ko()}),c=null;else{switch(V2(u)){case 1:c=Tp;break;case 4:c=z2;break;case 16:c=bd;break;case 536870912:c=R2;break;default:c=bd}c=d5(c,r5.bind(null,i))}i.callbackPriority=s,i.callbackNode=c}}function r5(i,s){if(cd=-1,dd=0,Pe&6)throw Error(te(327));var c=i.callbackNode;if(ss()&&i.callbackNode!==c)return null;var u=wd(i,i===Ct?Et:0);if(u===0)return null;if(u&30||u&i.expiredLanes||s)s=Od(i,u);else{s=u;var m=Pe;Pe|=2;var k=i5();(Ct!==i||Et!==s)&&(_r=null,ms=ct()+500,Qo(i,s));do try{oR();break}catch(C){o5(i,C)}while(!0);Hp(),jd.current=k,Pe=m,dt!==null?s=0:(Ct=null,Et=0,s=pt)}if(s!==0){if(s===2&&(m=Ng(i),m!==0&&(u=m,s=ip(i,m))),s===1)throw c=Ja,Qo(i,0),Zr(i,u),Zt(i,ct()),c;if(s===6)Zr(i,u);else{if(m=i.current.alternate,!(u&30)&&!nR(m)&&(s=Od(i,u),s===2&&(k=Ng(i),k!==0&&(u=k,s=ip(i,k))),s===1))throw c=Ja,Qo(i,0),Zr(i,u),Zt(i,ct()),c;switch(i.finishedWork=m,i.finishedLanes=u,s){case 0:case 1:throw Error(te(345));case 2:qo(i,Gt,_r);break;case 3:if(Zr(i,u),(u&130023424)===u&&(s=of+500-ct(),10<s)){if(wd(i,0)!==0)break;if(m=i.suspendedLanes,(m&u)!==u){zt(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Rg(qo.bind(null,i,Gt,_r),s);break}qo(i,Gt,_r);break;case 4:if(Zr(i,u),(u&4194240)===u)break;for(s=i.eventTimes,m=-1;0<u;){var w=31-Qn(u);k=1<<w,w=s[w],w>m&&(m=w),u&=~k}if(u=m,u=ct()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*tR(u/1960))-u,10<u){i.timeoutHandle=Rg(qo.bind(null,i,Gt,_r),u);break}qo(i,Gt,_r);break;case 5:qo(i,Gt,_r);break;default:throw Error(te(329))}}}return Zt(i,ct()),i.callbackNode===c?r5.bind(null,i):null}function ip(i,s){var c=ja;return i.current.memoizedState.isDehydrated&&(Qo(i,s).flags|=256),i=Od(i,s),i!==2&&(s=Gt,Gt=c,s!==null&&sp(s)),i}function sp(i){Gt===null?Gt=i:Gt.push.apply(Gt,i)}function nR(i){for(var s=i;;){if(s.flags&16384){var c=s.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var u=0;u<c.length;u++){var m=c[u],k=m.getSnapshot;m=m.value;try{if(!Zn(k(),m))return!1}catch{return!1}}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zr(i,s){for(s&=~rf,s&=~iu,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var c=31-Qn(s),u=1<<c;i[c]=-1,s&=~u}}function xx(i){if(Pe&6)throw Error(te(327));ss();var s=wd(i,0);if(!(s&1))return Zt(i,ct()),null;var c=Od(i,s);if(i.tag!==0&&c===2){var u=Ng(i);u!==0&&(s=u,c=ip(i,u))}if(c===1)throw c=Ja,Qo(i,0),Zr(i,s),Zt(i,ct()),c;if(c===6)throw Error(te(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,qo(i,Gt,_r),Zt(i,ct()),null}function sf(i,s){var c=Pe;Pe|=1;try{return i(s)}finally{Pe=c,Pe===0&&(ms=ct()+500,tu&&ko())}}function ni(i){Xr!==null&&Xr.tag===0&&!(Pe&6)&&ss();var s=Pe;Pe|=1;var c=Nn.transition,u=ze;try{if(Nn.transition=null,ze=1,i)return i()}finally{ze=u,Nn.transition=c,Pe=s,!(Pe&6)&&ko()}}function af(){un=es.current,Ye(es)}function Qo(i,s){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,Mz(c)),dt!==null)for(c=dt.return;c!==null;){var u=c;switch(Fp(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&_d();break;case 3:us(),Ye(Qt),Ye(jt),Qp();break;case 5:Kp(u);break;case 4:us();break;case 13:Ye(Je);break;case 19:Ye(Je);break;case 10:qp(u.type._context);break;case 22:case 23:af()}c=c.return}if(Ct=i,dt=i=lo(i.current,null),Et=un=s,pt=0,Ja=null,rf=iu=ti=0,Gt=ja=null,$o!==null){for(s=0;s<$o.length;s++)if(c=$o[s],u=c.interleaved,u!==null){c.interleaved=null;var m=u.next,k=c.pending;if(k!==null){var w=k.next;k.next=m,u.next=w}c.pending=u}$o=null}return i}function o5(i,s){do{var c=dt;try{if(Hp(),sd.current=Bd,Md){for(var u=Xe.memoizedState;u!==null;){var m=u.queue;m!==null&&(m.pending=null),u=u.next}Md=!1}if(ei=0,wt=gt=Xe=null,Ma=!1,Qa=0,nf.current=null,c===null||c.return===null){pt=1,Ja=s,dt=null;break}e:{var k=i,w=c.return,C=c,b=s;if(s=Et,C.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var _=b,D=C,x=D.tag;if(!(D.mode&1)&&(x===0||x===11||x===15)){var v=D.alternate;v?(D.updateQueue=v.updateQueue,D.memoizedState=v.memoizedState,D.lanes=v.lanes):(D.updateQueue=null,D.memoizedState=null)}var S=hx(w);if(S!==null){S.flags&=-257,mx(S,w,C,k,s),S.mode&1&&ux(k,_,s),s=S,b=_;var B=s.updateQueue;if(B===null){var N=new Set;N.add(b),s.updateQueue=N}else B.add(b);break e}else{if(!(s&1)){ux(k,_,s),lf();break e}b=Error(te(426))}}else if(Ze&&C.mode&1){var L=hx(w);if(L!==null){!(L.flags&65536)&&(L.flags|=256),mx(L,w,C,k,s),Vp(hs(b,C));break e}}k=b=hs(b,C),pt!==4&&(pt=2),ja===null?ja=[k]:ja.push(k),k=w;do{switch(k.tag){case 3:k.flags|=65536,s&=-s,k.lanes|=s;var M=VE(k,b,s);ix(k,M);break e;case 1:C=b;var j=k.type,z=k.stateNode;if(!(k.flags&128)&&(typeof j.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(so===null||!so.has(z)))){k.flags|=65536,s&=-s,k.lanes|=s;var V=UE(k,C,s);ix(k,V);break e}}k=k.return}while(k!==null)}a5(c)}catch(H){s=H,dt===c&&c!==null&&(dt=c=c.return);continue}break}while(!0)}function i5(){var i=jd.current;return jd.current=Bd,i===null?Bd:i}function lf(){(pt===0||pt===3||pt===2)&&(pt=4),Ct===null||!(ti&268435455)&&!(iu&268435455)||Zr(Ct,Et)}function Od(i,s){var c=Pe;Pe|=2;var u=i5();(Ct!==i||Et!==s)&&(_r=null,Qo(i,s));do try{rR();break}catch(m){o5(i,m)}while(!0);if(Hp(),Pe=c,jd.current=u,dt!==null)throw Error(te(261));return Ct=null,Et=0,pt}function rR(){for(;dt!==null;)s5(dt)}function oR(){for(;dt!==null&&!I7();)s5(dt)}function s5(i){var s=c5(i.alternate,i,un);i.memoizedProps=i.pendingProps,s===null?a5(i):dt=s,nf.current=null}function a5(i){var s=i;do{var c=s.alternate;if(i=s.return,s.flags&32768){if(c=Zz(c,s),c!==null){c.flags&=32767,dt=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{pt=6,dt=null;return}}else if(c=Yz(c,s,un),c!==null){dt=c;return}if(s=s.sibling,s!==null){dt=s;return}dt=s=i}while(s!==null);pt===0&&(pt=5)}function qo(i,s,c){var u=ze,m=Nn.transition;try{Nn.transition=null,ze=1,iR(i,s,c,u)}finally{Nn.transition=m,ze=u}return null}function iR(i,s,c,u){do ss();while(Xr!==null);if(Pe&6)throw Error(te(327));c=i.finishedWork;var m=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(te(177));i.callbackNode=null,i.callbackPriority=0;var k=c.lanes|c.childLanes;if(R7(i,k),i===Ct&&(dt=Ct=null,Et=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||Zc||(Zc=!0,d5(bd,function(){return ss(),null})),k=(c.flags&15990)!==0,c.subtreeFlags&15990||k){k=Nn.transition,Nn.transition=null;var w=ze;ze=1;var C=Pe;Pe|=4,nf.current=null,Xz(i,c),t5(c,i),xz(Og),Ad=!!Lg,Og=Lg=null,i.current=c,eR(c),T7(),Pe=C,ze=w,Nn.transition=k}else i.current=c;if(Zc&&(Zc=!1,Xr=i,Ld=m),k=i.pendingLanes,k===0&&(so=null),B7(c.stateNode),Zt(i,ct()),s!==null)for(u=i.onRecoverableError,c=0;c<s.length;c++)m=s[c],u(m.value,{componentStack:m.stack,digest:m.digest});if(Pd)throw Pd=!1,i=rp,rp=null,i;return Ld&1&&i.tag!==0&&ss(),k=i.pendingLanes,k&1?i===op?Pa++:(Pa=0,op=i):Pa=0,ko(),null}function ss(){if(Xr!==null){var i=V2(Ld),s=Nn.transition,c=ze;try{if(Nn.transition=null,ze=16>i?16:i,Xr===null)var u=!1;else{if(i=Xr,Xr=null,Ld=0,Pe&6)throw Error(te(331));var m=Pe;for(Pe|=4,ue=i.current;ue!==null;){var k=ue,w=k.child;if(ue.flags&16){var C=k.deletions;if(C!==null){for(var b=0;b<C.length;b++){var _=C[b];for(ue=_;ue!==null;){var D=ue;switch(D.tag){case 0:case 11:case 15:Ba(8,D,k)}var x=D.child;if(x!==null)x.return=D,ue=x;else for(;ue!==null;){D=ue;var v=D.sibling,S=D.return;if(JE(D),D===_){ue=null;break}if(v!==null){v.return=S,ue=v;break}ue=S}}}var B=k.alternate;if(B!==null){var N=B.child;if(N!==null){B.child=null;do{var L=N.sibling;N.sibling=null,N=L}while(N!==null)}}ue=k}}if(k.subtreeFlags&2064&&w!==null)w.return=k,ue=w;else e:for(;ue!==null;){if(k=ue,k.flags&2048)switch(k.tag){case 0:case 11:case 15:Ba(9,k,k.return)}var M=k.sibling;if(M!==null){M.return=k.return,ue=M;break e}ue=k.return}}var j=i.current;for(ue=j;ue!==null;){w=ue;var z=w.child;if(w.subtreeFlags&2064&&z!==null)z.return=w,ue=z;else e:for(w=j;ue!==null;){if(C=ue,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:ou(9,C)}}catch(H){ot(C,C.return,H)}if(C===w){ue=null;break e}var V=C.sibling;if(V!==null){V.return=C.return,ue=V;break e}ue=C.return}}if(Pe=m,ko(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Yd,i)}catch{}u=!0}return u}finally{ze=c,Nn.transition=s}}return!1}function Ex(i,s,c){s=hs(c,s),s=VE(i,s,1),i=io(i,s,1),s=zt(),i!==null&&(ol(i,1,s),Zt(i,s))}function ot(i,s,c){if(i.tag===3)Ex(i,i,c);else for(;s!==null;){if(s.tag===3){Ex(s,i,c);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(so===null||!so.has(u))){i=hs(c,i),i=UE(s,i,1),s=io(s,i,1),i=zt(),s!==null&&(ol(s,1,i),Zt(s,i));break}}s=s.return}}function sR(i,s,c){var u=i.pingCache;u!==null&&u.delete(s),s=zt(),i.pingedLanes|=i.suspendedLanes&c,Ct===i&&(Et&c)===c&&(pt===4||pt===3&&(Et&130023424)===Et&&500>ct()-of?Qo(i,0):rf|=c),Zt(i,s)}function l5(i,s){s===0&&(i.mode&1?(s=Vc,Vc<<=1,!(Vc&130023424)&&(Vc=4194304)):s=1);var c=zt();i=Nr(i,s),i!==null&&(ol(i,s,c),Zt(i,c))}function aR(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),l5(i,c)}function lR(i,s){var c=0;switch(i.tag){case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(c=m.retryLane);break;case 19:u=i.stateNode;break;default:throw Error(te(314))}u!==null&&u.delete(s),l5(i,c)}var c5;c5=function(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps||Qt.current)Kt=!0;else{if(!(i.lanes&c)&&!(s.flags&128))return Kt=!1,Qz(i,s,c);Kt=!!(i.flags&131072)}else Kt=!1,Ze&&s.flags&1048576&&mE(s,Dd,s.index);switch(s.lanes=0,s.tag){case 2:var u=s.type;ld(i,s),i=s.pendingProps;var m=ls(s,jt.current);is(s,c),m=Zp(null,s,u,i,m,c);var k=Jp();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Yt(u)?(k=!0,xd(s)):k=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,$p(s),m.updater=ru,s.stateNode=m,m._reactInternals=s,$g(s,u,i,c),s=Qg(null,s,u,!0,k,c)):(s.tag=0,Ze&&k&&Rp(s),Ot(null,s,m,c),s=s.child),s;case 16:u=s.elementType;e:{switch(ld(i,s),i=s.pendingProps,m=u._init,u=m(u._payload),s.type=u,m=s.tag=dR(u),i=$n(u,i),m){case 0:s=Kg(null,s,u,i,c);break e;case 1:s=fx(null,s,u,i,c);break e;case 11:s=gx(null,s,u,i,c);break e;case 14:s=px(null,s,u,$n(u.type,i),c);break e}throw Error(te(306,u,""))}return s;case 0:return u=s.type,m=s.pendingProps,m=s.elementType===u?m:$n(u,m),Kg(i,s,u,m,c);case 1:return u=s.type,m=s.pendingProps,m=s.elementType===u?m:$n(u,m),fx(i,s,u,m,c);case 3:e:{if($E(s),i===null)throw Error(te(387));u=s.pendingProps,k=s.memoizedState,m=k.element,wE(i,s),Td(s,u,null,c);var w=s.memoizedState;if(u=w.element,k.isDehydrated)if(k={element:u,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=k,s.memoizedState=k,s.flags&256){m=hs(Error(te(423)),s),s=kx(i,s,u,c,m);break e}else if(u!==m){m=hs(Error(te(424)),s),s=kx(i,s,u,c,m);break e}else for(hn=oo(s.stateNode.containerInfo.firstChild),mn=s,Ze=!0,Kn=null,c=kE(s,null,u,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(cs(),u===m){s=Mr(i,s,c);break e}Ot(i,s,u,c)}s=s.child}return s;case 5:return AE(s),i===null&&Hg(s),u=s.type,m=s.pendingProps,k=i!==null?i.memoizedProps:null,w=m.children,zg(u,m)?w=null:k!==null&&zg(u,k)&&(s.flags|=32),WE(i,s),Ot(i,s,w,c),s.child;case 6:return i===null&&Hg(s),null;case 13:return GE(i,s,c);case 4:return Gp(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=ds(s,null,u,c):Ot(i,s,u,c),s.child;case 11:return u=s.type,m=s.pendingProps,m=s.elementType===u?m:$n(u,m),gx(i,s,u,m,c);case 7:return Ot(i,s,s.pendingProps,c),s.child;case 8:return Ot(i,s,s.pendingProps.children,c),s.child;case 12:return Ot(i,s,s.pendingProps.children,c),s.child;case 10:e:{if(u=s.type._context,m=s.pendingProps,k=s.memoizedProps,w=m.value,$e(Sd,u._currentValue),u._currentValue=w,k!==null)if(Zn(k.value,w)){if(k.children===m.children&&!Qt.current){s=Mr(i,s,c);break e}}else for(k=s.child,k!==null&&(k.return=s);k!==null;){var C=k.dependencies;if(C!==null){w=k.child;for(var b=C.firstContext;b!==null;){if(b.context===u){if(k.tag===1){b=Sr(-1,c&-c),b.tag=2;var _=k.updateQueue;if(_!==null){_=_.shared;var D=_.pending;D===null?b.next=b:(b.next=D.next,D.next=b),_.pending=b}}k.lanes|=c,b=k.alternate,b!==null&&(b.lanes|=c),qg(k.return,c,s),C.lanes|=c;break}b=b.next}}else if(k.tag===10)w=k.type===s.type?null:k.child;else if(k.tag===18){if(w=k.return,w===null)throw Error(te(341));w.lanes|=c,C=w.alternate,C!==null&&(C.lanes|=c),qg(w,c,s),w=k.sibling}else w=k.child;if(w!==null)w.return=k;else for(w=k;w!==null;){if(w===s){w=null;break}if(k=w.sibling,k!==null){k.return=w.return,w=k;break}w=w.return}k=w}Ot(i,s,m.children,c),s=s.child}return s;case 9:return m=s.type,u=s.pendingProps.children,is(s,c),m=Mn(m),u=u(m),s.flags|=1,Ot(i,s,u,c),s.child;case 14:return u=s.type,m=$n(u,s.pendingProps),m=$n(u.type,m),px(i,s,u,m,c);case 15:return HE(i,s,s.type,s.pendingProps,c);case 17:return u=s.type,m=s.pendingProps,m=s.elementType===u?m:$n(u,m),ld(i,s),s.tag=1,Yt(u)?(i=!0,xd(s)):i=!1,is(s,c),FE(s,u,m),$g(s,u,m,c),Qg(null,s,u,!0,i,c);case 19:return KE(i,s,c);case 22:return qE(i,s,c)}throw Error(te(156,s.tag))};function d5(i,s){return O2(i,s)}function cR(i,s,c,u){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(i,s,c,u){return new cR(i,s,c,u)}function cf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function dR(i){if(typeof i=="function")return cf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Dp)return 11;if(i===Sp)return 14}return 2}function lo(i,s){var c=i.alternate;return c===null?(c=Tn(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function ud(i,s,c,u,m,k){var w=2;if(u=i,typeof i=="function")cf(i)&&(w=1);else if(typeof i=="string")w=5;else e:switch(i){case qi:return Yo(c.children,m,k,s);case Ep:w=8,m|=8;break;case fg:return i=Tn(12,c,s,m|2),i.elementType=fg,i.lanes=k,i;case kg:return i=Tn(13,c,s,m),i.elementType=kg,i.lanes=k,i;case bg:return i=Tn(19,c,s,m),i.elementType=bg,i.lanes=k,i;case A2:return su(c,m,k,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case b2:w=10;break e;case w2:w=9;break e;case Dp:w=11;break e;case Sp:w=14;break e;case Kr:w=16,u=null;break e}throw Error(te(130,i==null?i:typeof i,""))}return s=Tn(w,c,s,m),s.elementType=i,s.type=u,s.lanes=k,s}function Yo(i,s,c,u){return i=Tn(7,i,u,s),i.lanes=c,i}function su(i,s,c,u){return i=Tn(22,i,u,s),i.elementType=A2,i.lanes=c,i.stateNode={isHidden:!1},i}function ag(i,s,c){return i=Tn(6,i,null,s),i.lanes=c,i}function lg(i,s,c){return s=Tn(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function uR(i,s,c,u,m){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Um(0),this.expirationTimes=Um(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Um(0),this.identifierPrefix=u,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function df(i,s,c,u,m,k,w,C,b){return i=new uR(i,s,c,C,b),s===1?(s=1,k===!0&&(s|=8)):s=0,k=Tn(3,null,null,s),i.current=k,k.stateNode=i,k.memoizedState={element:u,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},$p(k),i}function hR(i,s,c){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hi,key:u==null?null:""+u,children:i,containerInfo:s,implementation:c}}function u5(i){if(!i)return mo;i=i._reactInternals;e:{if(ii(i)!==i||i.tag!==1)throw Error(te(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Yt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(te(171))}if(i.tag===1){var c=i.type;if(Yt(c))return uE(i,c,s)}return s}function h5(i,s,c,u,m,k,w,C,b){return i=df(c,u,!0,i,m,k,w,C,b),i.context=u5(null),c=i.current,u=zt(),m=ao(c),k=Sr(u,m),k.callback=s??null,io(c,k,m),i.current.lanes=m,ol(i,m,u),Zt(i,u),i}function au(i,s,c,u){var m=s.current,k=zt(),w=ao(m);return c=u5(c),s.context===null?s.context=c:s.pendingContext=c,s=Sr(k,w),s.payload={element:i},u=u===void 0?null:u,u!==null&&(s.callback=u),i=io(m,s,w),i!==null&&(Yn(i,m,w,k),id(i,m,w)),w}function zd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Dx(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function uf(i,s){Dx(i,s),(i=i.alternate)&&Dx(i,s)}function mR(){return null}var m5=typeof reportError=="function"?reportError:function(i){console.error(i)};function hf(i){this._internalRoot=i}lu.prototype.render=hf.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(te(409));au(i,s,null,null)};lu.prototype.unmount=hf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;ni(function(){au(null,i,null,null)}),s[Tr]=null}};function lu(i){this._internalRoot=i}lu.prototype.unstable_scheduleHydration=function(i){if(i){var s=q2();i={blockedOn:null,target:i,priority:s};for(var c=0;c<Yr.length&&s!==0&&s<Yr[c].priority;c++);Yr.splice(c,0,i),c===0&&$2(i)}};function mf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function cu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Sx(){}function gR(i,s,c,u,m){if(m){if(typeof u=="function"){var k=u;u=function(){var _=zd(w);k.call(_)}}var w=h5(s,u,i,0,null,!1,!1,"",Sx);return i._reactRootContainer=w,i[Tr]=w.current,qa(i.nodeType===8?i.parentNode:i),ni(),w}for(;m=i.lastChild;)i.removeChild(m);if(typeof u=="function"){var C=u;u=function(){var _=zd(b);C.call(_)}}var b=df(i,0,!1,null,null,!1,!1,"",Sx);return i._reactRootContainer=b,i[Tr]=b.current,qa(i.nodeType===8?i.parentNode:i),ni(function(){au(s,b,c,u)}),b}function du(i,s,c,u,m){var k=c._reactRootContainer;if(k){var w=k;if(typeof m=="function"){var C=m;m=function(){var b=zd(w);C.call(b)}}au(s,w,i,m)}else w=gR(c,s,i,m,u);return zd(w)}U2=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var c=_a(s.pendingLanes);c!==0&&(Np(s,c|1),Zt(s,ct()),!(Pe&6)&&(ms=ct()+500,ko()))}break;case 13:ni(function(){var u=Nr(i,1);if(u!==null){var m=zt();Yn(u,i,1,m)}}),uf(i,1)}};Mp=function(i){if(i.tag===13){var s=Nr(i,134217728);if(s!==null){var c=zt();Yn(s,i,134217728,c)}uf(i,134217728)}};H2=function(i){if(i.tag===13){var s=ao(i),c=Nr(i,s);if(c!==null){var u=zt();Yn(c,i,s,u)}uf(i,s)}};q2=function(){return ze};W2=function(i,s){var c=ze;try{return ze=i,s()}finally{ze=c}};Sg=function(i,s,c){switch(s){case"input":if(Cg(i,c),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<c.length;s++){var u=c[s];if(u!==i&&u.form===i.form){var m=eu(u);if(!m)throw Error(te(90));v2(u),Cg(u,m)}}}break;case"textarea":_2(i,c);break;case"select":s=c.value,s!=null&&ts(i,!!c.multiple,s,!1)}};N2=sf;M2=ni;var pR={usingClientEntryPoint:!1,Events:[sl,Ki,eu,I2,T2,sf]},Aa={findFiberByHostInstance:Wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fR={bundleType:Aa.bundleType,version:Aa.version,rendererPackageName:Aa.rendererPackageName,rendererConfig:Aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=P2(i),i===null?null:i.stateNode},findFiberByHostInstance:Aa.findFiberByHostInstance||mR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{Yd=Jc.inject(fR),dr=Jc}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pR;fn.createPortal=function(i,s){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mf(s))throw Error(te(200));return hR(i,s,null,c)};fn.createRoot=function(i,s){if(!mf(i))throw Error(te(299));var c=!1,u="",m=m5;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=df(i,1,!1,null,null,c,!1,u,m),i[Tr]=s.current,qa(i.nodeType===8?i.parentNode:i),new hf(s)};fn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(te(188)):(i=Object.keys(i).join(","),Error(te(268,i)));return i=P2(s),i=i===null?null:i.stateNode,i};fn.flushSync=function(i){return ni(i)};fn.hydrate=function(i,s,c){if(!cu(s))throw Error(te(200));return du(null,i,s,!0,c)};fn.hydrateRoot=function(i,s,c){if(!mf(i))throw Error(te(405));var u=c!=null&&c.hydratedSources||null,m=!1,k="",w=m5;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(k=c.identifierPrefix),c.onRecoverableError!==void 0&&(w=c.onRecoverableError)),s=h5(s,null,i,1,c??null,m,!1,k,w),i[Tr]=s.current,qa(i),u)for(i=0;i<u.length;i++)c=u[i],m=c._getVersion,m=m(c._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[c,m]:s.mutableSourceEagerHydrationData.push(c,m);return new lu(s)};fn.render=function(i,s,c){if(!cu(s))throw Error(te(200));return du(null,i,s,!1,c)};fn.unmountComponentAtNode=function(i){if(!cu(i))throw Error(te(40));return i._reactRootContainer?(ni(function(){du(null,null,i,!1,function(){i._reactRootContainer=null,i[Tr]=null})}),!0):!1};fn.unstable_batchedUpdates=sf;fn.unstable_renderSubtreeIntoContainer=function(i,s,c,u){if(!cu(c))throw Error(te(200));if(i==null||i._reactInternals===void 0)throw Error(te(38));return du(i,s,c,!1,u)};fn.version="18.3.1-next-f1338f8080-20240426";function g5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g5)}catch(i){console.error(i)}}g5(),g2.exports=fn;var kR=g2.exports,p5,Ix=kR;p5=Ix.createRoot,Ix.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xa(){return Xa=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var c=arguments[s];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(i[u]=c[u])}return i},Xa.apply(this,arguments)}var eo;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(eo||(eo={}));const Tx="popstate";function bR(i){i===void 0&&(i={});function s(u,m){let{pathname:k,search:w,hash:C}=u.location;return ap("",{pathname:k,search:w,hash:C},m.state&&m.state.usr||null,m.state&&m.state.key||"default")}function c(u,m){return typeof m=="string"?m:Rd(m)}return AR(s,c,null,i)}function et(i,s){if(i===!1||i===null||typeof i>"u")throw new Error(s)}function f5(i,s){if(!i){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function wR(){return Math.random().toString(36).substr(2,8)}function Nx(i,s){return{usr:i.state,key:i.key,idx:s}}function ap(i,s,c,u){return c===void 0&&(c=null),Xa({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof s=="string"?As(s):s,{state:c,key:s&&s.key||u||wR()})}function Rd(i){let{pathname:s="/",search:c="",hash:u=""}=i;return c&&c!=="?"&&(s+=c.charAt(0)==="?"?c:"?"+c),u&&u!=="#"&&(s+=u.charAt(0)==="#"?u:"#"+u),s}function As(i){let s={};if(i){let c=i.indexOf("#");c>=0&&(s.hash=i.substr(c),i=i.substr(0,c));let u=i.indexOf("?");u>=0&&(s.search=i.substr(u),i=i.substr(0,u)),i&&(s.pathname=i)}return s}function AR(i,s,c,u){u===void 0&&(u={});let{window:m=document.defaultView,v5Compat:k=!1}=u,w=m.history,C=eo.Pop,b=null,_=D();_==null&&(_=0,w.replaceState(Xa({},w.state,{idx:_}),""));function D(){return(w.state||{idx:null}).idx}function x(){C=eo.Pop;let L=D(),M=L==null?null:L-_;_=L,b&&b({action:C,location:N.location,delta:M})}function v(L,M){C=eo.Push;let j=ap(N.location,L,M);_=D()+1;let z=Nx(j,_),V=N.createHref(j);try{w.pushState(z,"",V)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;m.location.assign(V)}k&&b&&b({action:C,location:N.location,delta:1})}function S(L,M){C=eo.Replace;let j=ap(N.location,L,M);_=D();let z=Nx(j,_),V=N.createHref(j);w.replaceState(z,"",V),k&&b&&b({action:C,location:N.location,delta:0})}function B(L){let M=m.location.origin!=="null"?m.location.origin:m.location.href,j=typeof L=="string"?L:Rd(L);return j=j.replace(/ $/,"%20"),et(M,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,M)}let N={get action(){return C},get location(){return i(m,w)},listen(L){if(b)throw new Error("A history only accepts one active listener");return m.addEventListener(Tx,x),b=L,()=>{m.removeEventListener(Tx,x),b=null}},createHref(L){return s(m,L)},createURL:B,encodeLocation(L){let M=B(L);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:v,replace:S,go(L){return w.go(L)}};return N}var Mx;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(Mx||(Mx={}));function CR(i,s,c){return c===void 0&&(c="/"),vR(i,s,c,!1)}function vR(i,s,c,u){let m=typeof s=="string"?As(s):s,k=gs(m.pathname||"/",c);if(k==null)return null;let w=k5(i);yR(w);let C=null;for(let b=0;C==null&&b<w.length;++b){let _=jR(k);C=MR(w[b],_,u)}return C}function k5(i,s,c,u){s===void 0&&(s=[]),c===void 0&&(c=[]),u===void 0&&(u="");let m=(k,w,C)=>{let b={relativePath:C===void 0?k.path||"":C,caseSensitive:k.caseSensitive===!0,childrenIndex:w,route:k};b.relativePath.startsWith("/")&&(et(b.relativePath.startsWith(u),'Absolute route path "'+b.relativePath+'" nested under path '+('"'+u+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),b.relativePath=b.relativePath.slice(u.length));let _=co([u,b.relativePath]),D=c.concat(b);k.children&&k.children.length>0&&(et(k.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),k5(k.children,s,D,_)),!(k.path==null&&!k.index)&&s.push({path:_,score:TR(_,k.index),routesMeta:D})};return i.forEach((k,w)=>{var C;if(k.path===""||!((C=k.path)!=null&&C.includes("?")))m(k,w);else for(let b of b5(k.path))m(k,w,b)}),s}function b5(i){let s=i.split("/");if(s.length===0)return[];let[c,...u]=s,m=c.endsWith("?"),k=c.replace(/\?$/,"");if(u.length===0)return m?[k,""]:[k];let w=b5(u.join("/")),C=[];return C.push(...w.map(b=>b===""?k:[k,b].join("/"))),m&&C.push(...w),C.map(b=>i.startsWith("/")&&b===""?"/":b)}function yR(i){i.sort((s,c)=>s.score!==c.score?c.score-s.score:NR(s.routesMeta.map(u=>u.childrenIndex),c.routesMeta.map(u=>u.childrenIndex)))}const _R=/^:[\w-]+$/,xR=3,ER=2,DR=1,SR=10,IR=-2,Bx=i=>i==="*";function TR(i,s){let c=i.split("/"),u=c.length;return c.some(Bx)&&(u+=IR),s&&(u+=ER),c.filter(m=>!Bx(m)).reduce((m,k)=>m+(_R.test(k)?xR:k===""?DR:SR),u)}function NR(i,s){return i.length===s.length&&i.slice(0,-1).every((u,m)=>u===s[m])?i[i.length-1]-s[s.length-1]:0}function MR(i,s,c){let{routesMeta:u}=i,m={},k="/",w=[];for(let C=0;C<u.length;++C){let b=u[C],_=C===u.length-1,D=k==="/"?s:s.slice(k.length)||"/",x=Fd({path:b.relativePath,caseSensitive:b.caseSensitive,end:_},D),v=b.route;if(!x&&_&&c&&!u[u.length-1].route.index&&(x=Fd({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},D)),!x)return null;Object.assign(m,x.params),w.push({params:m,pathname:co([k,x.pathname]),pathnameBase:zR(co([k,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(k=co([k,x.pathnameBase]))}return w}function Fd(i,s){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[c,u]=BR(i.path,i.caseSensitive,i.end),m=s.match(c);if(!m)return null;let k=m[0],w=k.replace(/(.)\/+$/,"$1"),C=m.slice(1);return{params:u.reduce((_,D,x)=>{let{paramName:v,isOptional:S}=D;if(v==="*"){let N=C[x]||"";w=k.slice(0,k.length-N.length).replace(/(.)\/+$/,"$1")}const B=C[x];return S&&!B?_[v]=void 0:_[v]=(B||"").replace(/%2F/g,"/"),_},{}),pathname:k,pathnameBase:w,pattern:i}}function BR(i,s,c){s===void 0&&(s=!1),c===void 0&&(c=!0),f5(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let u=[],m="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(w,C,b)=>(u.push({paramName:C,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(u.push({paramName:"*"}),m+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?m+="\\/*$":i!==""&&i!=="/"&&(m+="(?:(?=\\/|$))"),[new RegExp(m,s?void 0:"i"),u]}function jR(i){try{return i.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return f5(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),i}}function gs(i,s){if(s==="/")return i;if(!i.toLowerCase().startsWith(s.toLowerCase()))return null;let c=s.endsWith("/")?s.length-1:s.length,u=i.charAt(c);return u&&u!=="/"?null:i.slice(c)||"/"}function PR(i,s){s===void 0&&(s="/");let{pathname:c,search:u="",hash:m=""}=typeof i=="string"?As(i):i;return{pathname:c?c.startsWith("/")?c:LR(c,s):s,search:RR(u),hash:FR(m)}}function LR(i,s){let c=s.replace(/\/+$/,"").split("/");return i.split("/").forEach(m=>{m===".."?c.length>1&&c.pop():m!=="."&&c.push(m)}),c.length>1?c.join("/"):"/"}function cg(i,s,c,u){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(u)+"].  Please separate it out to the ")+("`to."+c+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OR(i){return i.filter((s,c)=>c===0||s.route.path&&s.route.path.length>0)}function gf(i,s){let c=OR(i);return s?c.map((u,m)=>m===c.length-1?u.pathname:u.pathnameBase):c.map(u=>u.pathnameBase)}function pf(i,s,c,u){u===void 0&&(u=!1);let m;typeof i=="string"?m=As(i):(m=Xa({},i),et(!m.pathname||!m.pathname.includes("?"),cg("?","pathname","search",m)),et(!m.pathname||!m.pathname.includes("#"),cg("#","pathname","hash",m)),et(!m.search||!m.search.includes("#"),cg("#","search","hash",m)));let k=i===""||m.pathname==="",w=k?"/":m.pathname,C;if(w==null)C=c;else{let x=s.length-1;if(!u&&w.startsWith("..")){let v=w.split("/");for(;v[0]==="..";)v.shift(),x-=1;m.pathname=v.join("/")}C=x>=0?s[x]:"/"}let b=PR(m,C),_=w&&w!=="/"&&w.endsWith("/"),D=(k||w===".")&&c.endsWith("/");return!b.pathname.endsWith("/")&&(_||D)&&(b.pathname+="/"),b}const co=i=>i.join("/").replace(/\/\/+/g,"/"),zR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),RR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,FR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function VR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const w5=["post","put","patch","delete"];new Set(w5);const UR=["get",...w5];new Set(UR);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function el(){return el=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var c=arguments[s];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(i[u]=c[u])}return i},el.apply(this,arguments)}const uu=F.createContext(null),A5=F.createContext(null),jr=F.createContext(null),hu=F.createContext(null),Pr=F.createContext({outlet:null,matches:[],isDataRoute:!1}),C5=F.createContext(null);function HR(i,s){let{relative:c}=s===void 0?{}:s;Cs()||et(!1);let{basename:u,navigator:m}=F.useContext(jr),{hash:k,pathname:w,search:C}=mu(i,{relative:c}),b=w;return u!=="/"&&(b=w==="/"?u:co([u,w])),m.createHref({pathname:b,search:C,hash:k})}function Cs(){return F.useContext(hu)!=null}function bo(){return Cs()||et(!1),F.useContext(hu).location}function v5(i){F.useContext(jr).static||F.useLayoutEffect(i)}function Xt(){let{isDataRoute:i}=F.useContext(Pr);return i?n8():qR()}function qR(){Cs()||et(!1);let i=F.useContext(uu),{basename:s,future:c,navigator:u}=F.useContext(jr),{matches:m}=F.useContext(Pr),{pathname:k}=bo(),w=JSON.stringify(gf(m,c.v7_relativeSplatPath)),C=F.useRef(!1);return v5(()=>{C.current=!0}),F.useCallback(function(_,D){if(D===void 0&&(D={}),!C.current)return;if(typeof _=="number"){u.go(_);return}let x=pf(_,JSON.parse(w),k,D.relative==="path");i==null&&s!=="/"&&(x.pathname=x.pathname==="/"?s:co([s,x.pathname])),(D.replace?u.replace:u.push)(x,D.state,D)},[s,u,w,k,i])}function y5(){let{matches:i}=F.useContext(Pr),s=i[i.length-1];return s?s.params:{}}function mu(i,s){let{relative:c}=s===void 0?{}:s,{future:u}=F.useContext(jr),{matches:m}=F.useContext(Pr),{pathname:k}=bo(),w=JSON.stringify(gf(m,u.v7_relativeSplatPath));return F.useMemo(()=>pf(i,JSON.parse(w),k,c==="path"),[i,w,k,c])}function WR(i,s){return $R(i,s)}function $R(i,s,c,u){Cs()||et(!1);let{navigator:m,static:k}=F.useContext(jr),{matches:w}=F.useContext(Pr),C=w[w.length-1],b=C?C.params:{};C&&C.pathname;let _=C?C.pathnameBase:"/";C&&C.route;let D=bo(),x;if(s){var v;let M=typeof s=="string"?As(s):s;_==="/"||(v=M.pathname)!=null&&v.startsWith(_)||et(!1),x=M}else x=D;let S=x.pathname||"/",B=S;if(_!=="/"){let M=_.replace(/^\//,"").split("/");B="/"+S.replace(/^\//,"").split("/").slice(M.length).join("/")}let N=!k&&c&&c.matches&&c.matches.length>0?c.matches:CR(i,{pathname:B}),L=ZR(N&&N.map(M=>Object.assign({},M,{params:Object.assign({},b,M.params),pathname:co([_,m.encodeLocation?m.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?_:co([_,m.encodeLocation?m.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),w,c,u);return s&&L?F.createElement(hu.Provider,{value:{location:el({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:eo.Pop}},L):L}function GR(){let i=t8(),s=VR(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),c=i instanceof Error?i.stack:null,m={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},s),c?F.createElement("pre",{style:m},c):null,null)}const KR=F.createElement(GR,null);class QR extends F.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,c){return c.location!==s.location||c.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:c.error,location:c.location,revalidation:s.revalidation||c.revalidation}}componentDidCatch(s,c){console.error("React Router caught the following error during render",s,c)}render(){return this.state.error!==void 0?F.createElement(Pr.Provider,{value:this.props.routeContext},F.createElement(C5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YR(i){let{routeContext:s,match:c,children:u}=i,m=F.useContext(uu);return m&&m.static&&m.staticContext&&(c.route.errorElement||c.route.ErrorBoundary)&&(m.staticContext._deepestRenderedBoundaryId=c.route.id),F.createElement(Pr.Provider,{value:s},u)}function ZR(i,s,c,u){var m;if(s===void 0&&(s=[]),c===void 0&&(c=null),u===void 0&&(u=null),i==null){var k;if(!c)return null;if(c.errors)i=c.matches;else if((k=u)!=null&&k.v7_partialHydration&&s.length===0&&!c.initialized&&c.matches.length>0)i=c.matches;else return null}let w=i,C=(m=c)==null?void 0:m.errors;if(C!=null){let D=w.findIndex(x=>x.route.id&&(C==null?void 0:C[x.route.id])!==void 0);D>=0||et(!1),w=w.slice(0,Math.min(w.length,D+1))}let b=!1,_=-1;if(c&&u&&u.v7_partialHydration)for(let D=0;D<w.length;D++){let x=w[D];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(_=D),x.route.id){let{loaderData:v,errors:S}=c,B=x.route.loader&&v[x.route.id]===void 0&&(!S||S[x.route.id]===void 0);if(x.route.lazy||B){b=!0,_>=0?w=w.slice(0,_+1):w=[w[0]];break}}}return w.reduceRight((D,x,v)=>{let S,B=!1,N=null,L=null;c&&(S=C&&x.route.id?C[x.route.id]:void 0,N=x.route.errorElement||KR,b&&(_<0&&v===0?(B=!0,L=null):_===v&&(B=!0,L=x.route.hydrateFallbackElement||null)));let M=s.concat(w.slice(0,v+1)),j=()=>{let z;return S?z=N:B?z=L:x.route.Component?z=F.createElement(x.route.Component,null):x.route.element?z=x.route.element:z=D,F.createElement(YR,{match:x,routeContext:{outlet:D,matches:M,isDataRoute:c!=null},children:z})};return c&&(x.route.ErrorBoundary||x.route.errorElement||v===0)?F.createElement(QR,{location:c.location,revalidation:c.revalidation,component:N,error:S,children:j(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):j()},null)}var _5=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(_5||{}),Vd=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(Vd||{});function JR(i){let s=F.useContext(uu);return s||et(!1),s}function XR(i){let s=F.useContext(A5);return s||et(!1),s}function e8(i){let s=F.useContext(Pr);return s||et(!1),s}function x5(i){let s=e8(),c=s.matches[s.matches.length-1];return c.route.id||et(!1),c.route.id}function t8(){var i;let s=F.useContext(C5),c=XR(Vd.UseRouteError),u=x5(Vd.UseRouteError);return s!==void 0?s:(i=c.errors)==null?void 0:i[u]}function n8(){let{router:i}=JR(_5.UseNavigateStable),s=x5(Vd.UseNavigateStable),c=F.useRef(!1);return v5(()=>{c.current=!0}),F.useCallback(function(m,k){k===void 0&&(k={}),c.current&&(typeof m=="number"?i.navigate(m):i.navigate(m,el({fromRouteId:s},k)))},[i,s])}function r8(i,s){i==null||i.v7_startTransition,i==null||i.v7_relativeSplatPath}function ff(i){let{to:s,replace:c,state:u,relative:m}=i;Cs()||et(!1);let{future:k,static:w}=F.useContext(jr),{matches:C}=F.useContext(Pr),{pathname:b}=bo(),_=Xt(),D=pf(s,gf(C,k.v7_relativeSplatPath),b,m==="path"),x=JSON.stringify(D);return F.useEffect(()=>_(JSON.parse(x),{replace:c,state:u,relative:m}),[_,x,m,c,u]),null}function Qe(i){et(!1)}function o8(i){let{basename:s="/",children:c=null,location:u,navigationType:m=eo.Pop,navigator:k,static:w=!1,future:C}=i;Cs()&&et(!1);let b=s.replace(/^\/*/,"/"),_=F.useMemo(()=>({basename:b,navigator:k,static:w,future:el({v7_relativeSplatPath:!1},C)}),[b,C,k,w]);typeof u=="string"&&(u=As(u));let{pathname:D="/",search:x="",hash:v="",state:S=null,key:B="default"}=u,N=F.useMemo(()=>{let L=gs(D,b);return L==null?null:{location:{pathname:L,search:x,hash:v,state:S,key:B},navigationType:m}},[b,D,x,v,S,B,m]);return N==null?null:F.createElement(jr.Provider,{value:_},F.createElement(hu.Provider,{children:c,value:N}))}function E5(i){let{children:s,location:c}=i;return WR(lp(s),c)}new Promise(()=>{});function lp(i,s){s===void 0&&(s=[]);let c=[];return F.Children.forEach(i,(u,m)=>{if(!F.isValidElement(u))return;let k=[...s,m];if(u.type===F.Fragment){c.push.apply(c,lp(u.props.children,k));return}u.type!==Qe&&et(!1),!u.props.index||!u.props.children||et(!1);let w={id:u.props.id||k.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,Component:u.props.Component,index:u.props.index,path:u.props.path,loader:u.props.loader,action:u.props.action,errorElement:u.props.errorElement,ErrorBoundary:u.props.ErrorBoundary,hasErrorBoundary:u.props.ErrorBoundary!=null||u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle,lazy:u.props.lazy};u.props.children&&(w.children=lp(u.props.children,k)),c.push(w)}),c}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ud(){return Ud=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var c=arguments[s];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(i[u]=c[u])}return i},Ud.apply(this,arguments)}function D5(i,s){if(i==null)return{};var c={},u=Object.keys(i),m,k;for(k=0;k<u.length;k++)m=u[k],!(s.indexOf(m)>=0)&&(c[m]=i[m]);return c}function i8(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function s8(i,s){return i.button===0&&(!s||s==="_self")&&!i8(i)}function cp(i){return i===void 0&&(i=""),new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((s,c)=>{let u=i[c];return s.concat(Array.isArray(u)?u.map(m=>[c,m]):[[c,u]])},[]))}function a8(i,s){let c=cp(i);return s&&s.forEach((u,m)=>{c.has(m)||s.getAll(m).forEach(k=>{c.append(m,k)})}),c}const l8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],c8=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],d8="6";try{window.__reactRouterVersion=d8}catch{}const u8=F.createContext({isTransitioning:!1}),h8="startTransition",jx=s7[h8];function Px(i){let{basename:s,children:c,future:u,window:m}=i,k=F.useRef();k.current==null&&(k.current=bR({window:m,v5Compat:!0}));let w=k.current,[C,b]=F.useState({action:w.action,location:w.location}),{v7_startTransition:_}=u||{},D=F.useCallback(x=>{_&&jx?jx(()=>b(x)):b(x)},[b,_]);return F.useLayoutEffect(()=>w.listen(D),[w,D]),F.useEffect(()=>r8(u),[u]),F.createElement(o8,{basename:s,children:c,location:C.location,navigationType:C.action,navigator:w,future:u})}const m8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bt=F.forwardRef(function(s,c){let{onClick:u,relative:m,reloadDocument:k,replace:w,state:C,target:b,to:_,preventScrollReset:D,viewTransition:x}=s,v=D5(s,l8),{basename:S}=F.useContext(jr),B,N=!1;if(typeof _=="string"&&g8.test(_)&&(B=_,m8))try{let z=new URL(window.location.href),V=_.startsWith("//")?new URL(z.protocol+_):new URL(_),H=gs(V.pathname,S);V.origin===z.origin&&H!=null?_=H+V.search+V.hash:N=!0}catch{}let L=HR(_,{relative:m}),M=k8(_,{replace:w,state:C,target:b,preventScrollReset:D,relative:m,viewTransition:x});function j(z){u&&u(z),z.defaultPrevented||M(z)}return F.createElement("a",Ud({},v,{href:B||L,onClick:N||k?u:j,ref:c,target:b}))}),p8=F.forwardRef(function(s,c){let{"aria-current":u="page",caseSensitive:m=!1,className:k="",end:w=!1,style:C,to:b,viewTransition:_,children:D}=s,x=D5(s,c8),v=mu(b,{relative:x.relative}),S=bo(),B=F.useContext(A5),{navigator:N,basename:L}=F.useContext(jr),M=B!=null&&w8(v)&&_===!0,j=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,z=S.pathname,V=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;m||(z=z.toLowerCase(),V=V?V.toLowerCase():null,j=j.toLowerCase()),V&&L&&(V=gs(V,L)||V);const H=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let J=z===j||!w&&z.startsWith(j)&&z.charAt(H)==="/",P=V!=null&&(V===j||!w&&V.startsWith(j)&&V.charAt(j.length)==="/"),$={isActive:J,isPending:P,isTransitioning:M},ae=J?u:void 0,ne;typeof k=="function"?ne=k($):ne=[k,J?"active":null,P?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let pe=typeof C=="function"?C($):C;return F.createElement(Bt,Ud({},x,{"aria-current":ae,className:ne,ref:c,style:pe,to:b,viewTransition:_}),typeof D=="function"?D($):D)});var dp;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(dp||(dp={}));var Lx;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(Lx||(Lx={}));function f8(i){let s=F.useContext(uu);return s||et(!1),s}function k8(i,s){let{target:c,replace:u,state:m,preventScrollReset:k,relative:w,viewTransition:C}=s===void 0?{}:s,b=Xt(),_=bo(),D=mu(i,{relative:w});return F.useCallback(x=>{if(s8(x,c)){x.preventDefault();let v=u!==void 0?u:Rd(_)===Rd(D);b(i,{replace:v,state:m,preventScrollReset:k,relative:w,viewTransition:C})}},[_,b,D,u,m,c,i,k,w,C])}function b8(i){let s=F.useRef(cp(i)),c=F.useRef(!1),u=bo(),m=F.useMemo(()=>a8(u.search,c.current?null:s.current),[u.search]),k=Xt(),w=F.useCallback((C,b)=>{const _=cp(typeof C=="function"?C(m):C);c.current=!0,k("?"+_,b)},[k,m]);return[m,w]}function w8(i,s){s===void 0&&(s={});let c=F.useContext(u8);c==null&&et(!1);let{basename:u}=f8(dp.useViewTransitionState),m=mu(i,{relative:s.relative});if(!c.isTransitioning)return!1;let k=gs(c.currentLocation.pathname,u)||c.currentLocation.pathname,w=gs(c.nextLocation.pathname,u)||c.nextLocation.pathname;return Fd(m.pathname,w)!=null||Fd(m.pathname,k)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var A8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ve=(i,s)=>{const c=F.forwardRef(({color:u="currentColor",size:m=24,strokeWidth:k=2,absoluteStrokeWidth:w,className:C="",children:b,..._},D)=>F.createElement("svg",{ref:D,...A8,width:m,height:m,stroke:u,strokeWidth:w?Number(k)*24/Number(m):k,className:["lucide",`lucide-${C8(i)}`,C].join(" "),..._},[...s.map(([x,v])=>F.createElement(x,v)),...Array.isArray(b)?b:[b]]));return c.displayName=`${i}`,c};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=ve("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=ve("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=ve("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=ve("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=ve("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=ve("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=ve("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=ve("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=ve("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=ve("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=ve("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=ve("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=ve("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=ve("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=ve("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=ve("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=ve("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=ve("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=ve("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=ve("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=ve("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=ve("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=ve("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=ve("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),L5=F.createContext(void 0);function z8({children:i}){const[s,c]=F.useState(()=>{const m=localStorage.getItem("theme");return m==="dark"||m==="light"?m:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});F.useEffect(()=>{localStorage.setItem("theme",s),s==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[s]);const u=()=>{c(m=>m==="light"?"dark":"light")};return f.jsx(L5.Provider,{value:{theme:s,toggleTheme:u},children:i})}function O5(){const i=F.useContext(L5);if(i===void 0)throw new Error("useTheme must be used within a ThemeProvider");return i}function z5(i,s){return function(){return i.apply(s,arguments)}}const{toString:R8}=Object.prototype,{getPrototypeOf:wf}=Object,fu=(i=>s=>{const c=R8.call(s);return i[c]||(i[c]=c.slice(8,-1).toLowerCase())})(Object.create(null)),Jn=i=>(i=i.toLowerCase(),s=>fu(s)===i),ku=i=>s=>typeof s===i,{isArray:vs}=Array,nl=ku("undefined");function F8(i){return i!==null&&!nl(i)&&i.constructor!==null&&!nl(i.constructor)&&gn(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const R5=Jn("ArrayBuffer");function V8(i){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(i):s=i&&i.buffer&&R5(i.buffer),s}const U8=ku("string"),gn=ku("function"),F5=ku("number"),bu=i=>i!==null&&typeof i=="object",H8=i=>i===!0||i===!1,hd=i=>{if(fu(i)!=="object")return!1;const s=wf(i);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},q8=Jn("Date"),W8=Jn("File"),$8=Jn("Blob"),G8=Jn("FileList"),K8=i=>bu(i)&&gn(i.pipe),Q8=i=>{let s;return i&&(typeof FormData=="function"&&i instanceof FormData||gn(i.append)&&((s=fu(i))==="formdata"||s==="object"&&gn(i.toString)&&i.toString()==="[object FormData]"))},Y8=Jn("URLSearchParams"),[Z8,J8,X8,e9]=["ReadableStream","Request","Response","Headers"].map(Jn),t9=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dl(i,s,{allOwnKeys:c=!1}={}){if(i===null||typeof i>"u")return;let u,m;if(typeof i!="object"&&(i=[i]),vs(i))for(u=0,m=i.length;u<m;u++)s.call(null,i[u],u,i);else{const k=c?Object.getOwnPropertyNames(i):Object.keys(i),w=k.length;let C;for(u=0;u<w;u++)C=k[u],s.call(null,i[C],C,i)}}function V5(i,s){s=s.toLowerCase();const c=Object.keys(i);let u=c.length,m;for(;u-- >0;)if(m=c[u],s===m.toLowerCase())return m;return null}const Ko=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,U5=i=>!nl(i)&&i!==Ko;function mp(){const{caseless:i}=U5(this)&&this||{},s={},c=(u,m)=>{const k=i&&V5(s,m)||m;hd(s[k])&&hd(u)?s[k]=mp(s[k],u):hd(u)?s[k]=mp({},u):vs(u)?s[k]=u.slice():s[k]=u};for(let u=0,m=arguments.length;u<m;u++)arguments[u]&&dl(arguments[u],c);return s}const n9=(i,s,c,{allOwnKeys:u}={})=>(dl(s,(m,k)=>{c&&gn(m)?i[k]=z5(m,c):i[k]=m},{allOwnKeys:u}),i),r9=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),o9=(i,s,c,u)=>{i.prototype=Object.create(s.prototype,u),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:s.prototype}),c&&Object.assign(i.prototype,c)},i9=(i,s,c,u)=>{let m,k,w;const C={};if(s=s||{},i==null)return s;do{for(m=Object.getOwnPropertyNames(i),k=m.length;k-- >0;)w=m[k],(!u||u(w,i,s))&&!C[w]&&(s[w]=i[w],C[w]=!0);i=c!==!1&&wf(i)}while(i&&(!c||c(i,s))&&i!==Object.prototype);return s},s9=(i,s,c)=>{i=String(i),(c===void 0||c>i.length)&&(c=i.length),c-=s.length;const u=i.indexOf(s,c);return u!==-1&&u===c},a9=i=>{if(!i)return null;if(vs(i))return i;let s=i.length;if(!F5(s))return null;const c=new Array(s);for(;s-- >0;)c[s]=i[s];return c},l9=(i=>s=>i&&s instanceof i)(typeof Uint8Array<"u"&&wf(Uint8Array)),c9=(i,s)=>{const u=(i&&i[Symbol.iterator]).call(i);let m;for(;(m=u.next())&&!m.done;){const k=m.value;s.call(i,k[0],k[1])}},d9=(i,s)=>{let c;const u=[];for(;(c=i.exec(s))!==null;)u.push(c);return u},u9=Jn("HTMLFormElement"),h9=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(c,u,m){return u.toUpperCase()+m}),zx=(({hasOwnProperty:i})=>(s,c)=>i.call(s,c))(Object.prototype),m9=Jn("RegExp"),H5=(i,s)=>{const c=Object.getOwnPropertyDescriptors(i),u={};dl(c,(m,k)=>{let w;(w=s(m,k,i))!==!1&&(u[k]=w||m)}),Object.defineProperties(i,u)},g9=i=>{H5(i,(s,c)=>{if(gn(i)&&["arguments","caller","callee"].indexOf(c)!==-1)return!1;const u=i[c];if(gn(u)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+c+"'")})}})},p9=(i,s)=>{const c={},u=m=>{m.forEach(k=>{c[k]=!0})};return vs(i)?u(i):u(String(i).split(s)),c},f9=()=>{},k9=(i,s)=>i!=null&&Number.isFinite(i=+i)?i:s;function b9(i){return!!(i&&gn(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const w9=i=>{const s=new Array(10),c=(u,m)=>{if(bu(u)){if(s.indexOf(u)>=0)return;if(!("toJSON"in u)){s[m]=u;const k=vs(u)?[]:{};return dl(u,(w,C)=>{const b=c(w,m+1);!nl(b)&&(k[C]=b)}),s[m]=void 0,k}}return u};return c(i,0)},A9=Jn("AsyncFunction"),C9=i=>i&&(bu(i)||gn(i))&&gn(i.then)&&gn(i.catch),q5=((i,s)=>i?setImmediate:s?((c,u)=>(Ko.addEventListener("message",({source:m,data:k})=>{m===Ko&&k===c&&u.length&&u.shift()()},!1),m=>{u.push(m),Ko.postMessage(c,"*")}))(`axios@${Math.random()}`,[]):c=>setTimeout(c))(typeof setImmediate=="function",gn(Ko.postMessage)),v9=typeof queueMicrotask<"u"?queueMicrotask.bind(Ko):typeof process<"u"&&process.nextTick||q5,Y={isArray:vs,isArrayBuffer:R5,isBuffer:F8,isFormData:Q8,isArrayBufferView:V8,isString:U8,isNumber:F5,isBoolean:H8,isObject:bu,isPlainObject:hd,isReadableStream:Z8,isRequest:J8,isResponse:X8,isHeaders:e9,isUndefined:nl,isDate:q8,isFile:W8,isBlob:$8,isRegExp:m9,isFunction:gn,isStream:K8,isURLSearchParams:Y8,isTypedArray:l9,isFileList:G8,forEach:dl,merge:mp,extend:n9,trim:t9,stripBOM:r9,inherits:o9,toFlatObject:i9,kindOf:fu,kindOfTest:Jn,endsWith:s9,toArray:a9,forEachEntry:c9,matchAll:d9,isHTMLForm:u9,hasOwnProperty:zx,hasOwnProp:zx,reduceDescriptors:H5,freezeMethods:g9,toObjectSet:p9,toCamelCase:h9,noop:f9,toFiniteNumber:k9,findKey:V5,global:Ko,isContextDefined:U5,isSpecCompliantForm:b9,toJSONObject:w9,isAsyncFn:A9,isThenable:C9,setImmediate:q5,asap:v9};function Ce(i,s,c,u,m){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",s&&(this.code=s),c&&(this.config=c),u&&(this.request=u),m&&(this.response=m,this.status=m.status?m.status:null)}Y.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const W5=Ce.prototype,$5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{$5[i]={value:i}});Object.defineProperties(Ce,$5);Object.defineProperty(W5,"isAxiosError",{value:!0});Ce.from=(i,s,c,u,m,k)=>{const w=Object.create(W5);return Y.toFlatObject(i,w,function(b){return b!==Error.prototype},C=>C!=="isAxiosError"),Ce.call(w,i.message,s,c,u,m),w.cause=i,w.name=i.name,k&&Object.assign(w,k),w};const y9=null;function gp(i){return Y.isPlainObject(i)||Y.isArray(i)}function G5(i){return Y.endsWith(i,"[]")?i.slice(0,-2):i}function Rx(i,s,c){return i?i.concat(s).map(function(m,k){return m=G5(m),!c&&k?"["+m+"]":m}).join(c?".":""):s}function _9(i){return Y.isArray(i)&&!i.some(gp)}const x9=Y.toFlatObject(Y,{},null,function(s){return/^is[A-Z]/.test(s)});function wu(i,s,c){if(!Y.isObject(i))throw new TypeError("target must be an object");s=s||new FormData,c=Y.toFlatObject(c,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,L){return!Y.isUndefined(L[N])});const u=c.metaTokens,m=c.visitor||D,k=c.dots,w=c.indexes,b=(c.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(s);if(!Y.isFunction(m))throw new TypeError("visitor must be a function");function _(B){if(B===null)return"";if(Y.isDate(B))return B.toISOString();if(!b&&Y.isBlob(B))throw new Ce("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(B)||Y.isTypedArray(B)?b&&typeof Blob=="function"?new Blob([B]):Buffer.from(B):B}function D(B,N,L){let M=B;if(B&&!L&&typeof B=="object"){if(Y.endsWith(N,"{}"))N=u?N:N.slice(0,-2),B=JSON.stringify(B);else if(Y.isArray(B)&&_9(B)||(Y.isFileList(B)||Y.endsWith(N,"[]"))&&(M=Y.toArray(B)))return N=G5(N),M.forEach(function(z,V){!(Y.isUndefined(z)||z===null)&&s.append(w===!0?Rx([N],V,k):w===null?N:N+"[]",_(z))}),!1}return gp(B)?!0:(s.append(Rx(L,N,k),_(B)),!1)}const x=[],v=Object.assign(x9,{defaultVisitor:D,convertValue:_,isVisitable:gp});function S(B,N){if(!Y.isUndefined(B)){if(x.indexOf(B)!==-1)throw Error("Circular reference detected in "+N.join("."));x.push(B),Y.forEach(B,function(M,j){(!(Y.isUndefined(M)||M===null)&&m.call(s,M,Y.isString(j)?j.trim():j,N,v))===!0&&S(M,N?N.concat(j):[j])}),x.pop()}}if(!Y.isObject(i))throw new TypeError("data must be an object");return S(i),s}function Fx(i){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(u){return s[u]})}function Af(i,s){this._pairs=[],i&&wu(i,this,s)}const K5=Af.prototype;K5.append=function(s,c){this._pairs.push([s,c])};K5.toString=function(s){const c=s?function(u){return s.call(this,u,Fx)}:Fx;return this._pairs.map(function(m){return c(m[0])+"="+c(m[1])},"").join("&")};function E9(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Q5(i,s,c){if(!s)return i;const u=c&&c.encode||E9;Y.isFunction(c)&&(c={serialize:c});const m=c&&c.serialize;let k;if(m?k=m(s,c):k=Y.isURLSearchParams(s)?s.toString():new Af(s,c).toString(u),k){const w=i.indexOf("#");w!==-1&&(i=i.slice(0,w)),i+=(i.indexOf("?")===-1?"?":"&")+k}return i}class Vx{constructor(){this.handlers=[]}use(s,c,u){return this.handlers.push({fulfilled:s,rejected:c,synchronous:u?u.synchronous:!1,runWhen:u?u.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){Y.forEach(this.handlers,function(u){u!==null&&s(u)})}}const Y5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},D9=typeof URLSearchParams<"u"?URLSearchParams:Af,S9=typeof FormData<"u"?FormData:null,I9=typeof Blob<"u"?Blob:null,T9={isBrowser:!0,classes:{URLSearchParams:D9,FormData:S9,Blob:I9},protocols:["http","https","file","blob","url","data"]},Cf=typeof window<"u"&&typeof document<"u",pp=typeof navigator=="object"&&navigator||void 0,N9=Cf&&(!pp||["ReactNative","NativeScript","NS"].indexOf(pp.product)<0),M9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",B9=Cf&&window.location.href||"http://localhost",j9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Cf,hasStandardBrowserEnv:N9,hasStandardBrowserWebWorkerEnv:M9,navigator:pp,origin:B9},Symbol.toStringTag,{value:"Module"})),Mt={...j9,...T9};function P9(i,s){return wu(i,new Mt.classes.URLSearchParams,Object.assign({visitor:function(c,u,m,k){return Mt.isNode&&Y.isBuffer(c)?(this.append(u,c.toString("base64")),!1):k.defaultVisitor.apply(this,arguments)}},s))}function L9(i){return Y.matchAll(/\w+|\[(\w*)]/g,i).map(s=>s[0]==="[]"?"":s[1]||s[0])}function O9(i){const s={},c=Object.keys(i);let u;const m=c.length;let k;for(u=0;u<m;u++)k=c[u],s[k]=i[k];return s}function Z5(i){function s(c,u,m,k){let w=c[k++];if(w==="__proto__")return!0;const C=Number.isFinite(+w),b=k>=c.length;return w=!w&&Y.isArray(m)?m.length:w,b?(Y.hasOwnProp(m,w)?m[w]=[m[w],u]:m[w]=u,!C):((!m[w]||!Y.isObject(m[w]))&&(m[w]=[]),s(c,u,m[w],k)&&Y.isArray(m[w])&&(m[w]=O9(m[w])),!C)}if(Y.isFormData(i)&&Y.isFunction(i.entries)){const c={};return Y.forEachEntry(i,(u,m)=>{s(L9(u),m,c,0)}),c}return null}function z9(i,s,c){if(Y.isString(i))try{return(s||JSON.parse)(i),Y.trim(i)}catch(u){if(u.name!=="SyntaxError")throw u}return(0,JSON.stringify)(i)}const ul={transitional:Y5,adapter:["xhr","http","fetch"],transformRequest:[function(s,c){const u=c.getContentType()||"",m=u.indexOf("application/json")>-1,k=Y.isObject(s);if(k&&Y.isHTMLForm(s)&&(s=new FormData(s)),Y.isFormData(s))return m?JSON.stringify(Z5(s)):s;if(Y.isArrayBuffer(s)||Y.isBuffer(s)||Y.isStream(s)||Y.isFile(s)||Y.isBlob(s)||Y.isReadableStream(s))return s;if(Y.isArrayBufferView(s))return s.buffer;if(Y.isURLSearchParams(s))return c.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let C;if(k){if(u.indexOf("application/x-www-form-urlencoded")>-1)return P9(s,this.formSerializer).toString();if((C=Y.isFileList(s))||u.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return wu(C?{"files[]":s}:s,b&&new b,this.formSerializer)}}return k||m?(c.setContentType("application/json",!1),z9(s)):s}],transformResponse:[function(s){const c=this.transitional||ul.transitional,u=c&&c.forcedJSONParsing,m=this.responseType==="json";if(Y.isResponse(s)||Y.isReadableStream(s))return s;if(s&&Y.isString(s)&&(u&&!this.responseType||m)){const w=!(c&&c.silentJSONParsing)&&m;try{return JSON.parse(s)}catch(C){if(w)throw C.name==="SyntaxError"?Ce.from(C,Ce.ERR_BAD_RESPONSE,this,null,this.response):C}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mt.classes.FormData,Blob:Mt.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],i=>{ul.headers[i]={}});const R9=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),F9=i=>{const s={};let c,u,m;return i&&i.split(`
`).forEach(function(w){m=w.indexOf(":"),c=w.substring(0,m).trim().toLowerCase(),u=w.substring(m+1).trim(),!(!c||s[c]&&R9[c])&&(c==="set-cookie"?s[c]?s[c].push(u):s[c]=[u]:s[c]=s[c]?s[c]+", "+u:u)}),s},Ux=Symbol("internals");function Ca(i){return i&&String(i).trim().toLowerCase()}function md(i){return i===!1||i==null?i:Y.isArray(i)?i.map(md):String(i)}function V9(i){const s=Object.create(null),c=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let u;for(;u=c.exec(i);)s[u[1]]=u[2];return s}const U9=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function dg(i,s,c,u,m){if(Y.isFunction(u))return u.call(this,s,c);if(m&&(s=c),!!Y.isString(s)){if(Y.isString(u))return s.indexOf(u)!==-1;if(Y.isRegExp(u))return u.test(s)}}function H9(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,c,u)=>c.toUpperCase()+u)}function q9(i,s){const c=Y.toCamelCase(" "+s);["get","set","has"].forEach(u=>{Object.defineProperty(i,u+c,{value:function(m,k,w){return this[u].call(this,s,m,k,w)},configurable:!0})})}class Jt{constructor(s){s&&this.set(s)}set(s,c,u){const m=this;function k(C,b,_){const D=Ca(b);if(!D)throw new Error("header name must be a non-empty string");const x=Y.findKey(m,D);(!x||m[x]===void 0||_===!0||_===void 0&&m[x]!==!1)&&(m[x||b]=md(C))}const w=(C,b)=>Y.forEach(C,(_,D)=>k(_,D,b));if(Y.isPlainObject(s)||s instanceof this.constructor)w(s,c);else if(Y.isString(s)&&(s=s.trim())&&!U9(s))w(F9(s),c);else if(Y.isHeaders(s))for(const[C,b]of s.entries())k(b,C,u);else s!=null&&k(c,s,u);return this}get(s,c){if(s=Ca(s),s){const u=Y.findKey(this,s);if(u){const m=this[u];if(!c)return m;if(c===!0)return V9(m);if(Y.isFunction(c))return c.call(this,m,u);if(Y.isRegExp(c))return c.exec(m);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,c){if(s=Ca(s),s){const u=Y.findKey(this,s);return!!(u&&this[u]!==void 0&&(!c||dg(this,this[u],u,c)))}return!1}delete(s,c){const u=this;let m=!1;function k(w){if(w=Ca(w),w){const C=Y.findKey(u,w);C&&(!c||dg(u,u[C],C,c))&&(delete u[C],m=!0)}}return Y.isArray(s)?s.forEach(k):k(s),m}clear(s){const c=Object.keys(this);let u=c.length,m=!1;for(;u--;){const k=c[u];(!s||dg(this,this[k],k,s,!0))&&(delete this[k],m=!0)}return m}normalize(s){const c=this,u={};return Y.forEach(this,(m,k)=>{const w=Y.findKey(u,k);if(w){c[w]=md(m),delete c[k];return}const C=s?H9(k):String(k).trim();C!==k&&delete c[k],c[C]=md(m),u[C]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const c=Object.create(null);return Y.forEach(this,(u,m)=>{u!=null&&u!==!1&&(c[m]=s&&Y.isArray(u)?u.join(", "):u)}),c}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,c])=>s+": "+c).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...c){const u=new this(s);return c.forEach(m=>u.set(m)),u}static accessor(s){const u=(this[Ux]=this[Ux]={accessors:{}}).accessors,m=this.prototype;function k(w){const C=Ca(w);u[C]||(q9(m,w),u[C]=!0)}return Y.isArray(s)?s.forEach(k):k(s),this}}Jt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(Jt.prototype,({value:i},s)=>{let c=s[0].toUpperCase()+s.slice(1);return{get:()=>i,set(u){this[c]=u}}});Y.freezeMethods(Jt);function ug(i,s){const c=this||ul,u=s||c,m=Jt.from(u.headers);let k=u.data;return Y.forEach(i,function(C){k=C.call(c,k,m.normalize(),s?s.status:void 0)}),m.normalize(),k}function J5(i){return!!(i&&i.__CANCEL__)}function ys(i,s,c){Ce.call(this,i??"canceled",Ce.ERR_CANCELED,s,c),this.name="CanceledError"}Y.inherits(ys,Ce,{__CANCEL__:!0});function X5(i,s,c){const u=c.config.validateStatus;!c.status||!u||u(c.status)?i(c):s(new Ce("Request failed with status code "+c.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(c.status/100)-4],c.config,c.request,c))}function W9(i){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return s&&s[1]||""}function $9(i,s){i=i||10;const c=new Array(i),u=new Array(i);let m=0,k=0,w;return s=s!==void 0?s:1e3,function(b){const _=Date.now(),D=u[k];w||(w=_),c[m]=b,u[m]=_;let x=k,v=0;for(;x!==m;)v+=c[x++],x=x%i;if(m=(m+1)%i,m===k&&(k=(k+1)%i),_-w<s)return;const S=D&&_-D;return S?Math.round(v*1e3/S):void 0}}function G9(i,s){let c=0,u=1e3/s,m,k;const w=(_,D=Date.now())=>{c=D,m=null,k&&(clearTimeout(k),k=null),i.apply(null,_)};return[(..._)=>{const D=Date.now(),x=D-c;x>=u?w(_,D):(m=_,k||(k=setTimeout(()=>{k=null,w(m)},u-x)))},()=>m&&w(m)]}const Wd=(i,s,c=3)=>{let u=0;const m=$9(50,250);return G9(k=>{const w=k.loaded,C=k.lengthComputable?k.total:void 0,b=w-u,_=m(b),D=w<=C;u=w;const x={loaded:w,total:C,progress:C?w/C:void 0,bytes:b,rate:_||void 0,estimated:_&&C&&D?(C-w)/_:void 0,event:k,lengthComputable:C!=null,[s?"download":"upload"]:!0};i(x)},c)},Hx=(i,s)=>{const c=i!=null;return[u=>s[0]({lengthComputable:c,total:i,loaded:u}),s[1]]},qx=i=>(...s)=>Y.asap(()=>i(...s)),K9=Mt.hasStandardBrowserEnv?((i,s)=>c=>(c=new URL(c,Mt.origin),i.protocol===c.protocol&&i.host===c.host&&(s||i.port===c.port)))(new URL(Mt.origin),Mt.navigator&&/(msie|trident)/i.test(Mt.navigator.userAgent)):()=>!0,Q9=Mt.hasStandardBrowserEnv?{write(i,s,c,u,m,k){const w=[i+"="+encodeURIComponent(s)];Y.isNumber(c)&&w.push("expires="+new Date(c).toGMTString()),Y.isString(u)&&w.push("path="+u),Y.isString(m)&&w.push("domain="+m),k===!0&&w.push("secure"),document.cookie=w.join("; ")},read(i){const s=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Y9(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function Z9(i,s){return s?i.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):i}function eD(i,s,c){let u=!Y9(s);return i&&(u||c==!1)?Z9(i,s):s}const Wx=i=>i instanceof Jt?{...i}:i;function ri(i,s){s=s||{};const c={};function u(_,D,x,v){return Y.isPlainObject(_)&&Y.isPlainObject(D)?Y.merge.call({caseless:v},_,D):Y.isPlainObject(D)?Y.merge({},D):Y.isArray(D)?D.slice():D}function m(_,D,x,v){if(Y.isUndefined(D)){if(!Y.isUndefined(_))return u(void 0,_,x,v)}else return u(_,D,x,v)}function k(_,D){if(!Y.isUndefined(D))return u(void 0,D)}function w(_,D){if(Y.isUndefined(D)){if(!Y.isUndefined(_))return u(void 0,_)}else return u(void 0,D)}function C(_,D,x){if(x in s)return u(_,D);if(x in i)return u(void 0,_)}const b={url:k,method:k,data:k,baseURL:w,transformRequest:w,transformResponse:w,paramsSerializer:w,timeout:w,timeoutMessage:w,withCredentials:w,withXSRFToken:w,adapter:w,responseType:w,xsrfCookieName:w,xsrfHeaderName:w,onUploadProgress:w,onDownloadProgress:w,decompress:w,maxContentLength:w,maxBodyLength:w,beforeRedirect:w,transport:w,httpAgent:w,httpsAgent:w,cancelToken:w,socketPath:w,responseEncoding:w,validateStatus:C,headers:(_,D,x)=>m(Wx(_),Wx(D),x,!0)};return Y.forEach(Object.keys(Object.assign({},i,s)),function(D){const x=b[D]||m,v=x(i[D],s[D],D);Y.isUndefined(v)&&x!==C||(c[D]=v)}),c}const tD=i=>{const s=ri({},i);let{data:c,withXSRFToken:u,xsrfHeaderName:m,xsrfCookieName:k,headers:w,auth:C}=s;s.headers=w=Jt.from(w),s.url=Q5(eD(s.baseURL,s.url,s.allowAbsoluteUrls),i.params,i.paramsSerializer),C&&w.set("Authorization","Basic "+btoa((C.username||"")+":"+(C.password?unescape(encodeURIComponent(C.password)):"")));let b;if(Y.isFormData(c)){if(Mt.hasStandardBrowserEnv||Mt.hasStandardBrowserWebWorkerEnv)w.setContentType(void 0);else if((b=w.getContentType())!==!1){const[_,...D]=b?b.split(";").map(x=>x.trim()).filter(Boolean):[];w.setContentType([_||"multipart/form-data",...D].join("; "))}}if(Mt.hasStandardBrowserEnv&&(u&&Y.isFunction(u)&&(u=u(s)),u||u!==!1&&K9(s.url))){const _=m&&k&&Q9.read(k);_&&w.set(m,_)}return s},J9=typeof XMLHttpRequest<"u",X9=J9&&function(i){return new Promise(function(c,u){const m=tD(i);let k=m.data;const w=Jt.from(m.headers).normalize();let{responseType:C,onUploadProgress:b,onDownloadProgress:_}=m,D,x,v,S,B;function N(){S&&S(),B&&B(),m.cancelToken&&m.cancelToken.unsubscribe(D),m.signal&&m.signal.removeEventListener("abort",D)}let L=new XMLHttpRequest;L.open(m.method.toUpperCase(),m.url,!0),L.timeout=m.timeout;function M(){if(!L)return;const z=Jt.from("getAllResponseHeaders"in L&&L.getAllResponseHeaders()),H={data:!C||C==="text"||C==="json"?L.responseText:L.response,status:L.status,statusText:L.statusText,headers:z,config:i,request:L};X5(function(P){c(P),N()},function(P){u(P),N()},H),L=null}"onloadend"in L?L.onloadend=M:L.onreadystatechange=function(){!L||L.readyState!==4||L.status===0&&!(L.responseURL&&L.responseURL.indexOf("file:")===0)||setTimeout(M)},L.onabort=function(){L&&(u(new Ce("Request aborted",Ce.ECONNABORTED,i,L)),L=null)},L.onerror=function(){u(new Ce("Network Error",Ce.ERR_NETWORK,i,L)),L=null},L.ontimeout=function(){let V=m.timeout?"timeout of "+m.timeout+"ms exceeded":"timeout exceeded";const H=m.transitional||Y5;m.timeoutErrorMessage&&(V=m.timeoutErrorMessage),u(new Ce(V,H.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,i,L)),L=null},k===void 0&&w.setContentType(null),"setRequestHeader"in L&&Y.forEach(w.toJSON(),function(V,H){L.setRequestHeader(H,V)}),Y.isUndefined(m.withCredentials)||(L.withCredentials=!!m.withCredentials),C&&C!=="json"&&(L.responseType=m.responseType),_&&([v,B]=Wd(_,!0),L.addEventListener("progress",v)),b&&L.upload&&([x,S]=Wd(b),L.upload.addEventListener("progress",x),L.upload.addEventListener("loadend",S)),(m.cancelToken||m.signal)&&(D=z=>{L&&(u(!z||z.type?new ys(null,i,L):z),L.abort(),L=null)},m.cancelToken&&m.cancelToken.subscribe(D),m.signal&&(m.signal.aborted?D():m.signal.addEventListener("abort",D)));const j=W9(m.url);if(j&&Mt.protocols.indexOf(j)===-1){u(new Ce("Unsupported protocol "+j+":",Ce.ERR_BAD_REQUEST,i));return}L.send(k||null)})},eF=(i,s)=>{const{length:c}=i=i?i.filter(Boolean):[];if(s||c){let u=new AbortController,m;const k=function(_){if(!m){m=!0,C();const D=_ instanceof Error?_:this.reason;u.abort(D instanceof Ce?D:new ys(D instanceof Error?D.message:D))}};let w=s&&setTimeout(()=>{w=null,k(new Ce(`timeout ${s} of ms exceeded`,Ce.ETIMEDOUT))},s);const C=()=>{i&&(w&&clearTimeout(w),w=null,i.forEach(_=>{_.unsubscribe?_.unsubscribe(k):_.removeEventListener("abort",k)}),i=null)};i.forEach(_=>_.addEventListener("abort",k));const{signal:b}=u;return b.unsubscribe=()=>Y.asap(C),b}},tF=function*(i,s){let c=i.byteLength;if(c<s){yield i;return}let u=0,m;for(;u<c;)m=u+s,yield i.slice(u,m),u=m},nF=async function*(i,s){for await(const c of rF(i))yield*tF(c,s)},rF=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const s=i.getReader();try{for(;;){const{done:c,value:u}=await s.read();if(c)break;yield u}}finally{await s.cancel()}},$x=(i,s,c,u)=>{const m=nF(i,s);let k=0,w,C=b=>{w||(w=!0,u&&u(b))};return new ReadableStream({async pull(b){try{const{done:_,value:D}=await m.next();if(_){C(),b.close();return}let x=D.byteLength;if(c){let v=k+=x;c(v)}b.enqueue(new Uint8Array(D))}catch(_){throw C(_),_}},cancel(b){return C(b),m.return()}},{highWaterMark:2})},Au=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",nD=Au&&typeof ReadableStream=="function",oF=Au&&(typeof TextEncoder=="function"?(i=>s=>i.encode(s))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),rD=(i,...s)=>{try{return!!i(...s)}catch{return!1}},iF=nD&&rD(()=>{let i=!1;const s=new Request(Mt.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!s}),Gx=64*1024,fp=nD&&rD(()=>Y.isReadableStream(new Response("").body)),$d={stream:fp&&(i=>i.body)};Au&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!$d[s]&&($d[s]=Y.isFunction(i[s])?c=>c[s]():(c,u)=>{throw new Ce(`Response type '${s}' is not supported`,Ce.ERR_NOT_SUPPORT,u)})})})(new Response);const sF=async i=>{if(i==null)return 0;if(Y.isBlob(i))return i.size;if(Y.isSpecCompliantForm(i))return(await new Request(Mt.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(i)||Y.isArrayBuffer(i))return i.byteLength;if(Y.isURLSearchParams(i)&&(i=i+""),Y.isString(i))return(await oF(i)).byteLength},aF=async(i,s)=>{const c=Y.toFiniteNumber(i.getContentLength());return c??sF(s)},lF=Au&&(async i=>{let{url:s,method:c,data:u,signal:m,cancelToken:k,timeout:w,onDownloadProgress:C,onUploadProgress:b,responseType:_,headers:D,withCredentials:x="same-origin",fetchOptions:v}=tD(i);_=_?(_+"").toLowerCase():"text";let S=eF([m,k&&k.toAbortSignal()],w),B;const N=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let L;try{if(b&&iF&&c!=="get"&&c!=="head"&&(L=await aF(D,u))!==0){let H=new Request(s,{method:"POST",body:u,duplex:"half"}),J;if(Y.isFormData(u)&&(J=H.headers.get("content-type"))&&D.setContentType(J),H.body){const[P,$]=Hx(L,Wd(qx(b)));u=$x(H.body,Gx,P,$)}}Y.isString(x)||(x=x?"include":"omit");const M="credentials"in Request.prototype;B=new Request(s,{...v,signal:S,method:c.toUpperCase(),headers:D.normalize().toJSON(),body:u,duplex:"half",credentials:M?x:void 0});let j=await fetch(B);const z=fp&&(_==="stream"||_==="response");if(fp&&(C||z&&N)){const H={};["status","statusText","headers"].forEach(ae=>{H[ae]=j[ae]});const J=Y.toFiniteNumber(j.headers.get("content-length")),[P,$]=C&&Hx(J,Wd(qx(C),!0))||[];j=new Response($x(j.body,Gx,P,()=>{$&&$(),N&&N()}),H)}_=_||"text";let V=await $d[Y.findKey($d,_)||"text"](j,i);return!z&&N&&N(),await new Promise((H,J)=>{X5(H,J,{data:V,headers:Jt.from(j.headers),status:j.status,statusText:j.statusText,config:i,request:B})})}catch(M){throw N&&N(),M&&M.name==="TypeError"&&/fetch/i.test(M.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,i,B),{cause:M.cause||M}):Ce.from(M,M&&M.code,i,B)}}),kp={http:y9,xhr:X9,fetch:lF};Y.forEach(kp,(i,s)=>{if(i){try{Object.defineProperty(i,"name",{value:s})}catch{}Object.defineProperty(i,"adapterName",{value:s})}});const Kx=i=>`- ${i}`,cF=i=>Y.isFunction(i)||i===null||i===!1,oD={getAdapter:i=>{i=Y.isArray(i)?i:[i];const{length:s}=i;let c,u;const m={};for(let k=0;k<s;k++){c=i[k];let w;if(u=c,!cF(c)&&(u=kp[(w=String(c)).toLowerCase()],u===void 0))throw new Ce(`Unknown adapter '${w}'`);if(u)break;m[w||"#"+k]=u}if(!u){const k=Object.entries(m).map(([C,b])=>`adapter ${C} `+(b===!1?"is not supported by the environment":"is not available in the build"));let w=s?k.length>1?`since :
`+k.map(Kx).join(`
`):" "+Kx(k[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+w,"ERR_NOT_SUPPORT")}return u},adapters:kp};function hg(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new ys(null,i)}function Qx(i){return hg(i),i.headers=Jt.from(i.headers),i.data=ug.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),oD.getAdapter(i.adapter||ul.adapter)(i).then(function(u){return hg(i),u.data=ug.call(i,i.transformResponse,u),u.headers=Jt.from(u.headers),u},function(u){return J5(u)||(hg(i),u&&u.response&&(u.response.data=ug.call(i,i.transformResponse,u.response),u.response.headers=Jt.from(u.response.headers))),Promise.reject(u)})}const iD="1.8.4",Cu={};["object","boolean","number","function","string","symbol"].forEach((i,s)=>{Cu[i]=function(u){return typeof u===i||"a"+(s<1?"n ":" ")+i}});const Yx={};Cu.transitional=function(s,c,u){function m(k,w){return"[Axios v"+iD+"] Transitional option '"+k+"'"+w+(u?". "+u:"")}return(k,w,C)=>{if(s===!1)throw new Ce(m(w," has been removed"+(c?" in "+c:"")),Ce.ERR_DEPRECATED);return c&&!Yx[w]&&(Yx[w]=!0,console.warn(m(w," has been deprecated since v"+c+" and will be removed in the near future"))),s?s(k,w,C):!0}};Cu.spelling=function(s){return(c,u)=>(console.warn(`${u} is likely a misspelling of ${s}`),!0)};function dF(i,s,c){if(typeof i!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const u=Object.keys(i);let m=u.length;for(;m-- >0;){const k=u[m],w=s[k];if(w){const C=i[k],b=C===void 0||w(C,k,i);if(b!==!0)throw new Ce("option "+k+" must be "+b,Ce.ERR_BAD_OPTION_VALUE);continue}if(c!==!0)throw new Ce("Unknown option "+k,Ce.ERR_BAD_OPTION)}}const gd={assertOptions:dF,validators:Cu},ar=gd.validators;class Zo{constructor(s){this.defaults=s,this.interceptors={request:new Vx,response:new Vx}}async request(s,c){try{return await this._request(s,c)}catch(u){if(u instanceof Error){let m={};Error.captureStackTrace?Error.captureStackTrace(m):m=new Error;const k=m.stack?m.stack.replace(/^.+\n/,""):"";try{u.stack?k&&!String(u.stack).endsWith(k.replace(/^.+\n.+\n/,""))&&(u.stack+=`
`+k):u.stack=k}catch{}}throw u}}_request(s,c){typeof s=="string"?(c=c||{},c.url=s):c=s||{},c=ri(this.defaults,c);const{transitional:u,paramsSerializer:m,headers:k}=c;u!==void 0&&gd.assertOptions(u,{silentJSONParsing:ar.transitional(ar.boolean),forcedJSONParsing:ar.transitional(ar.boolean),clarifyTimeoutError:ar.transitional(ar.boolean)},!1),m!=null&&(Y.isFunction(m)?c.paramsSerializer={serialize:m}:gd.assertOptions(m,{encode:ar.function,serialize:ar.function},!0)),c.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?c.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:c.allowAbsoluteUrls=!0),gd.assertOptions(c,{baseUrl:ar.spelling("baseURL"),withXsrfToken:ar.spelling("withXSRFToken")},!0),c.method=(c.method||this.defaults.method||"get").toLowerCase();let w=k&&Y.merge(k.common,k[c.method]);k&&Y.forEach(["delete","get","head","post","put","patch","common"],B=>{delete k[B]}),c.headers=Jt.concat(w,k);const C=[];let b=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(c)===!1||(b=b&&N.synchronous,C.unshift(N.fulfilled,N.rejected))});const _=[];this.interceptors.response.forEach(function(N){_.push(N.fulfilled,N.rejected)});let D,x=0,v;if(!b){const B=[Qx.bind(this),void 0];for(B.unshift.apply(B,C),B.push.apply(B,_),v=B.length,D=Promise.resolve(c);x<v;)D=D.then(B[x++],B[x++]);return D}v=C.length;let S=c;for(x=0;x<v;){const B=C[x++],N=C[x++];try{S=B(S)}catch(L){N.call(this,L);break}}try{D=Qx.call(this,S)}catch(B){return Promise.reject(B)}for(x=0,v=_.length;x<v;)D=D.then(_[x++],_[x++]);return D}getUri(s){s=ri(this.defaults,s);const c=eD(s.baseURL,s.url,s.allowAbsoluteUrls);return Q5(c,s.params,s.paramsSerializer)}}Y.forEach(["delete","get","head","options"],function(s){Zo.prototype[s]=function(c,u){return this.request(ri(u||{},{method:s,url:c,data:(u||{}).data}))}});Y.forEach(["post","put","patch"],function(s){function c(u){return function(k,w,C){return this.request(ri(C||{},{method:s,headers:u?{"Content-Type":"multipart/form-data"}:{},url:k,data:w}))}}Zo.prototype[s]=c(),Zo.prototype[s+"Form"]=c(!0)});class vf{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let c;this.promise=new Promise(function(k){c=k});const u=this;this.promise.then(m=>{if(!u._listeners)return;let k=u._listeners.length;for(;k-- >0;)u._listeners[k](m);u._listeners=null}),this.promise.then=m=>{let k;const w=new Promise(C=>{u.subscribe(C),k=C}).then(m);return w.cancel=function(){u.unsubscribe(k)},w},s(function(k,w,C){u.reason||(u.reason=new ys(k,w,C),c(u.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const c=this._listeners.indexOf(s);c!==-1&&this._listeners.splice(c,1)}toAbortSignal(){const s=new AbortController,c=u=>{s.abort(u)};return this.subscribe(c),s.signal.unsubscribe=()=>this.unsubscribe(c),s.signal}static source(){let s;return{token:new vf(function(m){s=m}),cancel:s}}}function uF(i){return function(c){return i.apply(null,c)}}function hF(i){return Y.isObject(i)&&i.isAxiosError===!0}const bp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bp).forEach(([i,s])=>{bp[s]=i});function sD(i){const s=new Zo(i),c=z5(Zo.prototype.request,s);return Y.extend(c,Zo.prototype,s,{allOwnKeys:!0}),Y.extend(c,s,null,{allOwnKeys:!0}),c.create=function(m){return sD(ri(i,m))},c}const he=sD(ul);he.Axios=Zo;he.CanceledError=ys;he.CancelToken=vf;he.isCancel=J5;he.VERSION=iD;he.toFormData=wu;he.AxiosError=Ce;he.Cancel=he.CanceledError;he.all=function(s){return Promise.all(s)};he.spread=uF;he.isAxiosError=hF;he.mergeConfig=ri;he.AxiosHeaders=Jt;he.formToJSON=i=>Z5(Y.isHTMLForm(i)?new FormData(i):i);he.getAdapter=oD.getAdapter;he.HttpStatusCode=bp;he.default=he;const aD=F.createContext(void 0);function mF({children:i}){const[s,c]=F.useState(!1),[u,m]=F.useState(null),[k,w]=F.useState(!0);F.useEffect(()=>{localStorage.getItem("token")||w(!1)},[]);const C=async(v,S)=>{const N=await fetch("http://143.198.212.38:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bussinessemail:v,password:S})});if(N.ok){const L=await N.json();console.log(L),localStorage.setItem("token",L.token),localStorage.setItem("name",L.name),localStorage.setItem("userId",L.id),localStorage.setItem("email",L.email),m(L),c(!0)}else throw await N.json(),c(!1),new Error("Invalid email or password")},b=()=>{localStorage.removeItem("token"),m(null),c(!1)},_=async v=>{if(await new Promise(S=>setTimeout(S,1e3)),!v)throw new Error("Email is required")},D=async(v,S)=>{if(await new Promise(B=>setTimeout(B,1e3)),!v||!S)throw new Error("Token and new password are required")},x=async v=>{try{const S=await he.put("http://143.198.212.38:5000/api/auth/profile",v,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});m(S.data)}catch{throw new Error("Failed to update profile")}};return f.jsx(aD.Provider,{value:{user:u,isAuthenticated:s,updateProfile:x,login:C,logout:b,resetPassword:_,completePasswordReset:D},children:i})}function wo(){const i=F.useContext(aD);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return localStorage.getItem("token")&&(i.isAuthenticated=!0),i}const lD=F.createContext(void 0);function gF({children:i}){const{isAuthenticated:s}=wo(),[c,u]=F.useState(null),[m,k]=F.useState(!1),w=F.useCallback(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),C=F.useCallback(async()=>{if(!s){u(null);return}try{k(!0);const v=await he.get("http://143.198.212.38:5000/api/cart",{headers:w()});u(v.data)}catch(v){console.error("Error fetching cart:",v),u(null)}finally{k(!1)}},[s,w]),b=F.useCallback(async(v,S,B)=>{if(!m)try{k(!0);const N=await he.post("http://143.198.212.38:5000/api/cart/add",{productId:v,quantity:S,unitPrice:B},{headers:w()});u(N.data)}catch(N){throw console.error("Error adding to cart:",N),N}finally{k(!1)}},[m,w]),_=F.useCallback(async(v,S,B)=>{if(!m)try{k(!0);const N=await he.put(`http://143.198.212.38:5000/api/cart/items/${v}`,{quantity:S,unitPrice:B},{headers:w()});u(N.data)}catch(N){throw console.error("Error updating cart item:",N),N}finally{k(!1)}},[m,w]),D=F.useCallback(async v=>{if(!m)try{k(!0);const S=await he.delete(`http://143.198.212.38:5000/api/cart/items/${v}`,{headers:w()});u(S.data)}catch(S){throw console.error("Error removing from cart:",S),S}finally{k(!1)}},[m,w]),x=F.useCallback(async()=>{if(!m)try{k(!0);const v=await he.delete("http://143.198.212.38:5000/api/cart/clear",{headers:w()});u(v.data)}catch(v){throw console.error("Error clearing cart:",v),v}finally{k(!1)}},[m,w]);return F.useEffect(()=>{s?C():u(null)},[s,C]),f.jsx(lD.Provider,{value:{cart:c,loading:m,addToCart:b,updateCartItem:_,removeFromCart:D,clearCart:x,refreshCart:C},children:i})}function vu(){const i=F.useContext(lD);if(i===void 0)throw new Error("useCart must be used within a CartProvider");return i}function pF(){const[i,s]=F.useState(""),[c,u]=F.useState([]),[m,k]=F.useState(!1),[w,C]=F.useState(!1),b=F.useRef(null),_=Xt();F.useEffect(()=>{const v=S=>{b.current&&!b.current.contains(S.target)&&C(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),F.useEffect(()=>{const S=setTimeout(async()=>{if(!i.trim()){u([]);return}k(!0);try{const B=await he.get(`http://143.198.212.38:5000/api/search?q=${encodeURIComponent(i)}`,{});u(B.data),C(!0)}catch(B){console.error("Search error:",B),u([])}finally{k(!1)}},300);return()=>clearTimeout(S)},[i]);const D=v=>{C(!1),s(""),_(`/${v.category.toLowerCase().replace(" ","-")}/${v._id}`)},x=()=>{s(""),u([]),C(!1)};return f.jsxs("div",{ref:b,className:"relative flex-1 max-w-2xl",children:[f.jsxs("div",{className:"relative",children:[f.jsx(up,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"text",value:i,onChange:v=>s(v.target.value),placeholder:"Search Products and Gifts Instantly...",className:"w-full pl-10 pr-10 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500"}),i&&f.jsx("button",{onClick:x,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-500",children:f.jsx(uo,{className:"h-5 w-5"})})]}),w&&(i||m)&&f.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 max-h-96 overflow-y-auto z-50",children:m?f.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:f.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-red-500 mx-auto"})}):c.length>0?f.jsx("div",{className:"py-2",children:c.map(v=>f.jsxs("button",{onClick:()=>D(v),className:"w-full px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-3",children:[v.images[0]&&f.jsx("img",{src:v.images[0],alt:v.name,className:"h-12 w-12 object-cover rounded"}),f.jsxs("div",{className:"flex-1 text-left",children:[f.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:v.name}),f.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:v.category})]}),f.jsxs("div",{className:"text-red-600 dark:text-red-400 font-medium",children:["RM ",v.price.toFixed(2)]})]},v._id))}):f.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"No results found"})})]})}function fF(){const{theme:i,toggleTheme:s}=O5(),{logout:c}=wo(),{cart:u}=vu(),m=Xt(),k=()=>{c(),m("/login",{replace:!0})};return f.jsx("header",{className:"sticky top-0 z-50 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 transition-colors duration-200",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex items-center justify-between h-16",children:[f.jsx("div",{className:"flex items-center",children:f.jsx(Bt,{to:"/",className:"text-3xl text-red-600 hover:text-red-500 font-medium",children:"MHG"})}),f.jsx(pF,{}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs(Bt,{to:"/cart",className:"relative p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Shopping Cart",children:[f.jsx(fs,{className:"h-5 w-5"}),u&&u.totalItems>0&&f.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:u.totalItems>99?"99+":u.totalItems})]}),f.jsx("button",{onClick:s,className:"p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Toggle theme",children:i==="light"?f.jsx(N8,{className:"h-5 w-5"}):f.jsx(O8,{className:"h-5 w-5"})}),f.jsx("button",{onClick:k,className:"flex items-center px-3 py-2 text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400","aria-label":"Logout",children:f.jsx(N5,{className:"h-5 w-5"})})]})]})})})}function yr({icon:i,text:s,to:c}){return f.jsx("li",{children:f.jsxs(p8,{to:c,className:({isActive:u})=>`
          flex items-center px-4 py-2 text-sm rounded-lg
          ${u?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}
        `,children:[Ee.cloneElement(i,{className:"h-5 w-5 mr-3"}),s]})})}function mg({title:i,children:s}){return f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"px-4 mb-2 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:i}),f.jsx("ul",{className:"space-y-1",children:s})]})}function kF(){return f.jsx("aside",{className:"w-64 flex-shrink-0 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 transition-colors duration-200",children:f.jsxs("div",{className:"h-full px-3 py-4",children:[f.jsxs(mg,{title:"SHOP",children:[f.jsx(yr,{icon:f.jsx(E8,{}),text:"Home",to:"/"}),f.jsx(yr,{icon:f.jsx(qd,{}),text:"Smart Gifting",to:"/smart-gifting"}),f.jsx(yr,{icon:f.jsx(pu,{}),text:"Smart Catalog",to:"/smart-catalog"}),f.jsx(yr,{icon:f.jsx(ll,{}),text:"Digital Gifting",to:"/digital-gifting"}),f.jsx(yr,{icon:f.jsx(kf,{}),text:"Smart Proposal",to:"/smart-proposal"})]}),f.jsx(mg,{title:"MANAGE",children:f.jsx(yr,{icon:f.jsx(Ea,{}),text:"Quotations",to:"/quotations"})}),f.jsxs(mg,{title:"ACCOUNT",children:[f.jsx(yr,{icon:f.jsx(hp,{}),text:"Profile",to:"/profile"}),f.jsx(yr,{icon:f.jsx(M5,{}),text:"Branding",to:"/branding"}),f.jsx(yr,{icon:f.jsx(P5,{}),text:"Security",to:"/security"})]})]})})}function Xc({title:i,description:s,icon:c,to:u}){return f.jsx(Bt,{to:u,className:"block",children:f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow duration-200",children:f.jsxs("div",{className:"flex flex-col items-center text-center",children:[f.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-full mb-4",children:Ee.cloneElement(c,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:i}),f.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:s}),f.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium hover:text-red-700 dark:hover:text-red-300",children:"Start now"})]})})})}function bF(){return f.jsxs("div",{children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"AI - powered procurement platform for"}),f.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300",children:"corporate gifting & merchandise"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsx(Xc,{title:"Smart Gifting",description:"AI - powered gift curator",icon:f.jsx(qd,{}),to:"/smart-gifting"}),f.jsx(Xc,{title:"Smart Catalog",description:"Customized catalog with instant mockups",icon:f.jsx(pu,{}),to:"/smart-catalog"}),f.jsx(Xc,{title:"Digital Gifting",description:"Explore digital gifting options",icon:f.jsx(B5,{}),to:"/digital-gifting"}),f.jsx(Xc,{title:"Smart Proposal",description:"Generate professional proposals",icon:f.jsx(kf,{}),to:"/smart-proposal"})]})]})}function en({message:i,type:s,onClose:c}){F.useEffect(()=>{const w=setTimeout(()=>{c()},5e3);return()=>clearTimeout(w)},[c]);const u=s==="error"?"bg-red-100 dark:bg-red-900/20":"bg-green-100 dark:bg-green-900/20",m=s==="error"?"text-red-800 dark:text-red-200":"text-green-800 dark:text-green-200",k=s==="error"?"border-red-200 dark:border-red-800":"border-green-200 dark:border-green-800";return f.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center p-4 rounded-lg border ${u} ${m} ${k}`,children:[f.jsx("span",{className:"text-sm font-medium",children:i}),f.jsx("button",{onClick:c,className:"ml-4 inline-flex items-center justify-center rounded-lg p-1.5 hover:bg-gray-100 dark:hover:bg-gray-800",children:f.jsx(uo,{className:"h-4 w-4"})})]})}function wF({title:i,titleId:s,...c},u){return F.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:u,"aria-labelledby":s},c),i?F.createElement("title",{id:s},i):null,F.createElement("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11ZM2 9a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 2 9Z",clipRule:"evenodd"}))}const AF=F.forwardRef(wF);function CF(){const[i,s]=F.useState([]),[c,u]=F.useState("130"),[m,k]=F.useState("75"),[w,C]=F.useState(""),[b,_]=F.useState(!1),[D,x]=F.useState(!1),[v,S]=F.useState(null),B=async N=>{N.preventDefault(),_(!0),x(!1);try{const M=(await he.get("http://143.198.212.38:5000/api/smart-gifting/recommendations",{params:{prompt:w,budget:c,quantity:m},headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;console.log(M.products[0].image[0]),s(M.products),x(!0),M.products.length===0&&S({text:"No matching products found. Try adjusting your criteria.",type:"error"})}catch{S({text:"Error getting recommendations. Please try again.",type:"error"})}finally{_(!1)}};return f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v&&f.jsx(en,{message:v.text,type:v.type,onClose:()=>S(null)}),f.jsx("div",{className:"flex justify-between items-center mb-6",children:f.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Smart Gifting"})}),f.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(L8,{className:"h-6 w-6 text-amber-400"}),f.jsx("h2",{className:"text-2xl font-semibold text-amber-400",children:"AI Gift Curator"})]}),f.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Get the perfect gift curation out of thousands of options in seconds"}),f.jsxs("form",{onSubmit:B,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Budget (RM)"}),f.jsx("input",{type:"number",value:c,onChange:N=>u(N.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-amber-500",min:"1",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Quantity"}),f.jsx("input",{type:"number",value:m,onChange:N=>k(N.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-amber-500",min:"1",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Model"}),f.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-amber-500",defaultValue:"giftset",children:[f.jsx("option",{value:"giftset",children:"Giftset"}),f.jsx("option",{value:"premium",children:"Premium"}),f.jsx("option",{value:"luxury",children:"Luxury"})]})]})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"relative",children:[f.jsx("textarea",{value:w,onChange:N=>C(N.target.value),placeholder:"Describe your gift requirements (e.g., corporate gifts for annual dinner, eco-friendly promotional items...)",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-amber-500",rows:3,required:!0}),f.jsx("button",{type:"submit",disabled:b,className:"absolute right-2 bottom-2 p-2 bg-amber-400 hover:bg-amber-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx(AF,{className:"h-6 w-6 text-white"})})]}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"est curation time ~16sec"})]})]})]}),f.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4",children:f.jsx("p",{className:"text-amber-600 dark:text-amber-400 text-sm",children:"Note: our smart gifting product is under active development. Both response time and quality of curation are being enhanced actively."})})]}),f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[f.jsx("h2",{className:"text-xl font-semibold text-amber-400 mb-4",children:"Curated Gift Results"}),b?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-400"})}):D?i.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(N=>f.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[f.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:N.name}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4 line-clamp-2",children:N.description}),f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("span",{className:"text-amber-400 font-semibold",children:["RM ",N.price.toFixed(2)]})})]},N._id))}):f.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500 dark:text-gray-400",children:[f.jsx(qd,{className:"h-12 w-12 mb-4 opacity-50"}),f.jsx("p",{children:"No matching products found"}),f.jsx("p",{className:"text-sm mt-2",children:"Try adjusting your search criteria"})]}):f.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500 dark:text-gray-400",children:[f.jsx(qd,{className:"h-12 w-12 mb-4 opacity-50"}),f.jsx("p",{children:"Your curated gift options will appear here"})]})]})})]})]})}function vF(){const[i,s]=F.useState([]),[c,u]=F.useState([]),[m,k]=F.useState("");F.useState(new Set);const[w,C]=F.useState(!0),[b,_]=F.useState("");F.useEffect(()=>{D()},[m]);const D=async()=>{try{const[x,v]=await Promise.all([he.get("http://143.198.212.38:5000/api/admin/products",{params:{category:"smart-catalog",subcategory:m||void 0}}),he.get("http://143.198.212.38:5000/api/admin/subcategories")]);s(x.data),u(v.data)}catch{_("Error fetching data")}finally{C(!1)}};return w?f.jsx("div",{className:"flex items-center justify-center h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-500"})}):f.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx("div",{className:"flex items-center justify-between mb-8",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 bg-amber-50 rounded-full mr-4",children:f.jsx(pu,{className:"h-6 w-6 text-amber-500"})}),f.jsx("h1",{className:"text-2xl font-bold text-amber-500",children:"Smart Catalog"})]})}),f.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-8",children:f.jsx("div",{className:"grid grid-cols-2 gap-4",children:f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subcategory"}),f.jsxs("select",{value:m,onChange:x=>k(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[f.jsx("option",{value:"",children:"All Categories"}),c.map(x=>f.jsx("option",{value:x.name,children:x.name},x._id))]})]})})}),b&&f.jsx("div",{className:"bg-red-50 text-red-500 p-4 rounded-lg mb-6",children:b}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 items-stretch",children:i.map(x=>{var v;return f.jsxs("div",{className:"bg-white rounded-lg overflow-hidden border border-gray-200 shadow-sm hover:shadow-md transition-shadow flex flex-col",children:[f.jsxs("div",{className:"aspect-square relative",children:[f.jsx("img",{src:x.images[0]||"https://via.placeholder.com/400",alt:x.name,className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute top-4 right-4 flex gap-2",children:f.jsx(Bt,{to:`/smart-catalog/${x._id}`,className:"p-2 bg-white rounded-full shadow-md hover:bg-gray-50 transition-colors",children:f.jsx(go,{className:"h-5 w-5 text-gray-600"})})})]}),f.jsxs("div",{className:"p-4",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:x.name}),f.jsx("div",{className:"flex justify-between items-center",children:f.jsxs("span",{className:"text-amber-500 font-semibold",children:["RM ",(v=x.price)==null?void 0:v.toFixed(2)]})})]})]},x._id)})})]})})}function Zx(){var me;const{id:i}=y5(),s=Xt(),{addToCart:c,cart:u}=vu(),[m,k]=F.useState(null),[w,C]=F.useState(""),[b,_]=F.useState(1),[D,x]=F.useState(0),[v,S]=F.useState(!0),[B,N]=F.useState(""),[L,M]=F.useState(!1),[j,z]=F.useState({name:"",clientName:"",clientEmail:"",products:[]}),[V,H]=F.useState(null),[J,P]=F.useState(!1),[$,ae]=F.useState(!1),ne=F.useCallback(async()=>{if(i)try{const oe=await he.get(`http://143.198.212.38:5000/api/admin/products/${i}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});k(oe.data),oe.data.images.length>0&&C(oe.data.images[0]),x(oe.data.basePrice)}catch{N("Error fetching product details")}finally{S(!1)}},[i]);F.useEffect(()=>{ne()},[ne]);const pe=F.useCallback(async()=>{if(!(!m||!i))try{const oe=await he.get(`http://143.198.212.38:5000/api/admin/products/${i}/price?quantity=${b}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});x(oe.data.price)}catch(oe){console.error("Error fetching price:",oe);const Ae=ye(b);x(Ae)}},[m,i,b]);F.useEffect(()=>{m&&pe()},[pe,m]);const ye=oe=>{if(!m)return 0;const Ae=[...m.priceTiers||[]].sort((vt,bn)=>vt.minQuantity-bn.minQuantity);for(const vt of Ae)if(oe>=vt.minQuantity&&oe<=vt.maxQuantity)return vt.price;return m.basePrice},re=F.useCallback(oe=>{m&&oe>=1&&oe<=m.quantity&&_(oe)},[m]),xe=F.useCallback(()=>{m&&b<m.quantity&&_(oe=>oe+1)},[m,b]),q=F.useCallback(()=>{b>1&&_(oe=>oe-1)},[b]),Q=F.useCallback(async()=>{var oe,Ae;if(!(!m||J))try{P(!0),await c(m._id,b,D),ae(!0),H({text:"Product added to cart successfully!",type:"success"}),setTimeout(()=>{ae(!1)},2e3)}catch(vt){H({text:((Ae=(oe=vt.response)==null?void 0:oe.data)==null?void 0:Ae.error)||"Failed to add product to cart",type:"error"})}finally{P(!1)}},[m,J,c,b,D]),de=async oe=>{if(oe.preventDefault(),!!m)try{const Ae=b*D,vt={...j,products:[{name:m.name,description:m.description,quantity:b,unitPrice:D,totalPrice:Ae,images:m.images}],totalAmount:Ae,status:"current"};await he.post("http://143.198.212.38:5000/api/quotations",vt,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),H({text:"Quotation created successfully",type:"success"}),M(!1),s("/quotations")}catch{H({text:"Failed to create quotation",type:"error"})}},K=()=>!(m!=null&&m.priceTiers)||m.priceTiers.length===0?null:f.jsxs("div",{className:"border-t border-b border-gray-200 dark:border-gray-700 py-6",children:[f.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Quantity-Based Pricing"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:m.priceTiers.map((oe,Ae)=>f.jsx("div",{className:`p-3 rounded-lg border ${b>=oe.minQuantity&&b<=oe.maxQuantity?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-700"}`,children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("span",{className:"text-sm font-medium",children:[oe.minQuantity,"-",oe.maxQuantity," units"]}),f.jsxs("span",{className:"text-lg font-bold text-red-600",children:["RM ",oe.price.toFixed(2)]})]})},Ae))})]}),ce=u==null?void 0:u.items.some(oe=>oe.productId===(m==null?void 0:m._id));return v?f.jsx("div",{className:"flex items-center justify-center h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500"})}):B||!m?f.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:f.jsx("div",{className:"bg-red-50 text-red-500 p-4 rounded-lg",children:B||"Product not found"})}):f.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[V&&f.jsx(en,{message:V.text,type:V.type,onClose:()=>H(null)}),f.jsx("div",{className:"flex items-center mb-8",children:f.jsxs(Bt,{to:`/${m.category.toLowerCase().replace(" ","-")}`,className:"flex items-center text-gray-500 hover:text-red-500",children:[f.jsx(I5,{className:"h-5 w-5 mr-1"}),"Back to ",m.category]})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:f.jsx("img",{src:w||m.images[0],alt:m.name,className:"w-full h-full object-cover"})}),m.images.length>1&&f.jsx("div",{className:"grid grid-cols-4 gap-4",children:m.images.map((oe,Ae)=>f.jsx("button",{onClick:()=>C(oe),className:`aspect-square rounded-lg overflow-hidden ${w===oe?"ring-2 ring-red-500":""}`,children:f.jsx("img",{src:oe,alt:`${m.name} ${Ae+1}`,className:"w-full h-full object-cover"})},Ae))})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:m.name}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("span",{className:"text-2xl font-bold text-red-500",children:["RM ",D==null?void 0:D.toFixed(2)]}),D!==m.basePrice&&f.jsxs("span",{className:"ml-2 text-lg text-gray-500 line-through",children:["RM ",(me=m.basePrice)==null?void 0:me.toFixed(2)]}),f.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Price for ",b," unit",b>1?"s":""]})]}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:f.jsx(_8,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})}),f.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:f.jsx(P8,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})})]})]})]}),f.jsxs("div",{className:"border-t border-b border-gray-200 dark:border-gray-700 py-6",children:[f.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Description"}),f.jsx("div",{className:"text-gray-600 dark:text-gray-300 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:m.description}})]}),K(),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Quantity"}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-gray-600 rounded-lg",children:[f.jsx("button",{onClick:q,className:"p-3 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-l-lg",disabled:b<=1,children:f.jsx(gu,{className:"h-4 w-4"})}),f.jsx("input",{type:"number",value:b,onChange:oe=>re(parseInt(oe.target.value)||1),className:"w-16 text-center border-x border-gray-300 dark:border-gray-600 bg-transparent py-2",min:"1",max:m.quantity}),f.jsx("button",{onClick:xe,className:"p-3 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-r-lg",disabled:b>=m.quantity,children:f.jsx(ps,{className:"h-4 w-4"})})]}),f.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[m.quantity," available"]})]}),f.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Total: RM ",(b*D).toFixed(2)]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("button",{onClick:Q,disabled:J||m.quantity===0||$,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center ${$?"bg-green-500 text-white":ce?"bg-gray-500 text-white":"bg-red-500 hover:bg-red-600 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:J?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Adding to Cart..."]}):$?f.jsxs(f.Fragment,{children:[f.jsx(Hd,{className:"h-5 w-5 mr-2"}),"Added to Cart!"]}):ce?f.jsxs(f.Fragment,{children:[f.jsx(fs,{className:"h-5 w-5 mr-2"}),"Already in Cart"]}):f.jsxs(f.Fragment,{children:[f.jsx(fs,{className:"h-5 w-5 mr-2"}),"Add to Cart"]})}),f.jsxs("button",{onClick:()=>M(!0),className:"w-full py-3 px-4 border border-red-500 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg font-medium transition-colors flex items-center justify-center",children:[f.jsx(ll,{className:"h-5 w-5 mr-2"}),"Request Quote"]})]})]})]}),L&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-lg w-full",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Request Quotation"}),f.jsxs("form",{onSubmit:de,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Quotation Name"}),f.jsx("input",{type:"text",value:j.name,onChange:oe=>z({...j,name:oe.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Your Name"}),f.jsx("input",{type:"text",value:j.clientName,onChange:oe=>z({...j,clientName:oe.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),f.jsx("input",{type:"email",value:j.clientEmail,onChange:oe=>z({...j,clientEmail:oe.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg",required:!0})]}),f.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400",children:[f.jsx("span",{children:"Quantity:"}),f.jsx("span",{children:b})]}),f.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400",children:[f.jsx("span",{children:"Unit Price:"}),f.jsxs("span",{children:["RM ",D.toFixed(2)]})]}),f.jsxs("div",{className:"flex justify-between font-semibold text-gray-900 dark:text-white mt-2",children:[f.jsx("span",{children:"Total:"}),f.jsxs("span",{children:["RM ",(b*D).toFixed(2)]})]})]}),f.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>M(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),f.jsx("button",{type:"submit",className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Submit Request"})]})]})]})})]})}function yF(){const[i,s]=F.useState([]),[c,u]=F.useState([]),[m,k]=F.useState(""),[w,C]=F.useState(1),[b,_]=F.useState(!0),[D,x]=F.useState(""),v=8;F.useEffect(()=>{S()},[m]);const S=async()=>{try{const[H,J]=await Promise.all([he.get("http://143.198.212.38:5000/api/admin/products",{params:{category:"digital-gifting",subcategory:m||void 0}}),he.get("http://143.198.212.38:5000/api/admin/subcategories")]);s(H.data),u(J.data)}catch{x("Error fetching data")}finally{_(!1)}},B=w*v,N=B-v,L=i.slice(N,B),M=Math.ceil(i.length/v),j=H=>{C(H),window.scrollTo({top:0,behavior:"smooth"})},z=()=>{w<M&&j(w+1)},V=()=>{w>1&&j(w-1)};return b?f.jsx("div",{className:"flex items-center justify-center h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-500"})}):f.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx("div",{className:"flex items-center justify-between mb-8",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 bg-amber-50 rounded-full mr-4",children:f.jsx(B5,{className:"h-6 w-6 text-amber-500"})}),f.jsx("h1",{className:"text-2xl font-bold text-amber-500",children:"Digital Gifts"})]})}),c.length>0&&f.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-8",children:f.jsx("div",{className:"flex gap-4",children:f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),f.jsxs("select",{value:m,onChange:H=>k(H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[f.jsx("option",{value:"",children:"All Categories"}),c.map(H=>f.jsx("option",{value:H.name,children:H.name},H._id))]})]})})}),D&&f.jsx("div",{className:"bg-red-50 text-red-500 p-4 rounded-lg mb-6",children:D}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-8",children:L.map(H=>f.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[f.jsxs("div",{className:"relative aspect-[4/3]",children:[f.jsx("img",{src:H.images[0]||"https://via.placeholder.com/400",alt:H.name,className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute top-4 right-4 flex gap-2",children:f.jsx(Bt,{to:`/digital-gifting/${H._id}`,className:"p-2 bg-white rounded-full shadow-md hover:bg-gray-50 transition-colors",children:f.jsx(go,{className:"h-5 w-5 text-gray-600"})})})]}),f.jsx("div",{className:"p-4",children:f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:H.name})})]},H._id))}),M>1&&f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx("button",{onClick:V,disabled:w===1,className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx(I5,{className:"h-5 w-5"})}),Array.from({length:M},(H,J)=>J+1).map(H=>f.jsx("button",{onClick:()=>j(H),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${w===H?"bg-amber-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:H},H)),f.jsx("button",{onClick:z,disabled:w===M,className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx(y8,{className:"h-5 w-5"})})]})]})})}function _F(){const i=Xt(),[s,c]=F.useState([]),[u,m]=F.useState(!0),[k,w]=F.useState(null),[C,b]=F.useState(null),[_,D]=F.useState(null);F.useEffect(()=>{x()},[]);const x=async()=>{try{const N=await he.get("http://143.198.212.38:5000/api/proposals",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});c(N.data)}catch{w({text:"Failed to fetch proposals",type:"error"})}finally{m(!1)}},v=async N=>{if(window.confirm("Are you sure you want to delete this proposal?"))try{b(N),await he.delete(`http://143.198.212.38:5000/api/proposals/${N}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),w({text:"Proposal deleted successfully",type:"success"}),c(L=>L.filter(M=>M._id!==N))}catch{w({text:"Failed to delete proposal",type:"error"})}finally{b(null)}},S=async N=>{try{D(N);const L=await he.get(`http://143.198.212.38:5000/api/proposals/${N}/pdf`,{responseType:"blob",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),M=window.URL.createObjectURL(new Blob([L.data])),j=document.createElement("a");j.href=M,j.setAttribute("download",`proposal-${N}.pdf`),document.body.appendChild(j),j.click(),j.remove(),window.URL.revokeObjectURL(M)}catch{w({text:"Failed to download PDF",type:"error"})}finally{D(null)}},B=N=>{switch(N){case"draft":return"bg-gray-100 text-gray-600";case"sent":return"bg-blue-100 text-blue-600";case"viewed":return"bg-yellow-100 text-yellow-600";case"accepted":return"bg-green-100 text-green-600";default:return"bg-gray-100 text-gray-600"}};return u?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx(At,{className:"h-8 w-8 animate-spin text-red-600"})}):f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 bg-amber-50 rounded-full mr-4",children:f.jsx(kf,{className:"h-6 w-6 text-amber-500"})}),f.jsx("h1",{className:"text-2xl font-bold text-amber-500",children:"Smart Proposal"})]}),f.jsxs("button",{onClick:()=>i("/smart-proposal/create"),className:"inline-flex items-center px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg text-sm font-medium transition-colors",children:[f.jsx(bf,{className:"h-4 w-4 mr-2"}),"Create New Proposal"]})]}),k&&f.jsx(en,{message:k.text,type:k.type,onClose:()=>w(null)}),f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[f.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 dark:text-gray-400",children:"Name"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 dark:text-gray-400",children:"Client"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 dark:text-gray-400",children:"Date"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 dark:text-gray-400",children:"Amount"}),f.jsx("th",{className:"px-6 py-4 text-right text-sm font-medium text-gray-500 dark:text-gray-400",children:"Actions"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:s.map(N=>f.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:N.name})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:N.clientName})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(N.date).toLocaleDateString()})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${B(N.status)}`,children:N.status.charAt(0).toUpperCase()+N.status.slice(1)})}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:["RM ",N.totalAmount.toLocaleString("en-US",{minimumFractionDigits:2})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[f.jsx("button",{onClick:()=>S(N._id),disabled:_===N._id,className:"p-2 text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 disabled:opacity-50",title:"Download PDF",children:_===N._id?f.jsx(At,{className:"h-5 w-5 animate-spin"}):f.jsx(T5,{className:"h-5 w-5"})}),f.jsx("button",{onClick:()=>v(N._id),disabled:C===N._id,className:"p-2 text-gray-400 hover:text-red-500 disabled:opacity-50",title:"Delete",children:C===N._id?f.jsx(At,{className:"h-5 w-5 animate-spin"}):f.jsx(cl,{className:"h-5 w-5"})})]})})]},N._id))})]})})})]})}function xF(){var xe;const i=Xt(),s=bo(),{cart:c,clearCart:u}=vu(),[m,k]=F.useState({name:"",clientName:"",clientEmail:"",products:[]}),[w,C]=F.useState(!1),[b,_]=F.useState(null),[D,x]=F.useState(!1),[v,S]=F.useState([]),[B,N]=F.useState([]),[L,M]=F.useState(""),[j,z]=F.useState(new Set),[V,H]=F.useState(!1),J=(xe=s.state)==null?void 0:xe.fromCart;F.useEffect(()=>{if(J&&c&&c.items.length>0){const q=c.items.map(Q=>({name:Q.name,description:Q.description,quantity:Q.quantity,unitPrice:Q.unitPrice,totalPrice:Q.totalPrice,images:Q.images}));k(Q=>({...Q,products:q}))}},[J,c]),F.useEffect(()=>{D&&P()},[D]),F.useEffect(()=>{if(L.trim()==="")N(v);else{const q=v.filter(Q=>Q.name.toLowerCase().includes(L.toLowerCase())||Q.description.toLowerCase().includes(L.toLowerCase())||Q.category.toLowerCase().includes(L.toLowerCase())||Q.subcategory.toLowerCase().includes(L.toLowerCase()));N(q)}},[L,v]);const P=async()=>{try{H(!0);const q=await he.get("http://143.198.212.38:5000/api/admin/products",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});S(q.data),N(q.data)}catch{_({text:"Failed to fetch products",type:"error"})}finally{H(!1)}},$=q=>{z(Q=>{const de=new Set(Q);return de.has(q)?de.delete(q):de.add(q),de})},ae=()=>{const q=v.filter(Q=>j.has(Q._id)).map(Q=>({name:Q.name,description:Q.description,quantity:1,unitPrice:Q.price,totalPrice:Q.price,images:Q.images}));k(Q=>({...Q,products:[...Q.products,...q]})),z(new Set),x(!1),M("")},ne=()=>{k(q=>({...q,products:[...q.products,{name:"",description:"",quantity:1,unitPrice:0,totalPrice:0,images:[]}]}))},pe=q=>{k(Q=>({...Q,products:Q.products.filter((de,K)=>K!==q)}))},ye=(q,Q,de)=>{k(K=>{const ce=[...K.products];return ce[q]={...ce[q],[Q]:de,totalPrice:Q==="quantity"||Q==="unitPrice"?Number(de)*(Q==="quantity"?ce[q].unitPrice:ce[q].quantity):ce[q].totalPrice},{...K,products:ce}})},re=async(q,Q=!0)=>{var de,K;if(q.preventDefault(),!w){if(m.products.length===0){_({text:"Please add at least one product to the proposal",type:"error"});return}try{C(!0);const ce=m.products.reduce((oe,Ae)=>oe+(Ae==null?void 0:Ae.totalPrice),0);(await he.post("http://143.198.212.38:5000/api/proposals",{...m,status:Q?"draft":"sent",totalAmount:ce},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data&&(_({text:Q?"Proposal saved as draft":"Proposal sent successfully",type:"success"}),J&&c&&c.items.length>0&&window.confirm("Proposal created! Would you like to clear your cart?")&&await u(),setTimeout(()=>{i("/smart-proposal")},1500))}catch(ce){_({text:((K=(de=ce.response)==null?void 0:de.data)==null?void 0:K.error)||"Error creating proposal",type:"error"})}finally{C(!1)}}};return f.jsxs("div",{className:"max-w-4xl mx-auto py-8",children:[b&&f.jsx(en,{message:b.text,type:b.type,onClose:()=>_(null)}),f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:J?"Create Proposal from Cart":"Create New Proposal"}),J&&f.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[f.jsx(fs,{className:"h-4 w-4 mr-1"}),(c==null?void 0:c.totalItems)||0," items from cart"]})]}),f.jsxs("form",{onSubmit:q=>re(q),className:"space-y-6",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm",children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Basic Information"}),f.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Proposal Name"}),f.jsx("input",{type:"text",value:m.name,onChange:q=>k(Q=>({...Q,name:q.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Client Name"}),f.jsx("input",{type:"text",value:m.clientName,onChange:q=>k(Q=>({...Q,clientName:q.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Client Email"}),f.jsx("input",{type:"email",value:m.clientEmail,onChange:q=>k(Q=>({...Q,clientEmail:q.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Products"}),!J&&f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{type:"button",onClick:()=>x(!0),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[f.jsx(up,{className:"h-4 w-4 mr-2"}),"Select Products"]}),f.jsxs("button",{type:"button",onClick:ne,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700",children:[f.jsx(ps,{className:"h-4 w-4 mr-2"}),"Add Custom Product"]})]})]}),m.products.length===0?f.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:J?"No items in cart to create proposal from.":"No products added yet. Use the buttons above to add products."}):f.jsx("div",{className:"space-y-4",children:m.products.map((q,Q)=>{var de;return f.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Product Name"}),f.jsx("input",{type:"text",value:q.name,onChange:K=>ye(Q,"name",K.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),f.jsx("input",{type:"text",value:q.description,onChange:K=>ye(Q,"description",K.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Quantity"}),f.jsx("input",{type:"number",value:q.quantity,onChange:K=>ye(Q,"quantity",Number(K.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0,min:"1"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Unit Price (RM)"}),f.jsx("input",{type:"number",value:q.unitPrice,onChange:K=>ye(Q,"unitPrice",Number(K.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0,min:"0",step:"0.01"})]})]}),q.images.length>0&&f.jsxs("div",{className:"mt-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Product Images"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:q.images.map((K,ce)=>f.jsx("img",{src:K,alt:`Product ${Q+1} - Image ${ce+1}`,className:"w-20 h-20 object-cover rounded-lg border border-gray-200"},ce))})]}),f.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[f.jsxs("button",{type:"button",onClick:()=>pe(Q),className:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700",children:[f.jsx(gu,{className:"h-4 w-4 mr-2"}),"Remove"]}),f.jsxs("div",{className:"text-right",children:[f.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total:"}),f.jsxs("span",{className:"ml-2 text-lg font-semibold text-gray-900 dark:text-white",children:["RM ",(de=q.totalPrice)==null?void 0:de.toFixed(2)]})]})]})]},Q)})})]}),m.products.length>0&&f.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Amount"}),f.jsxs("span",{className:"text-2xl font-bold text-red-600",children:["RM ",m.products.reduce((q,Q)=>q+Q.totalPrice,0).toFixed(2)]})]})}),f.jsxs("div",{className:"flex justify-end space-x-4",children:[f.jsx("button",{type:"submit",disabled:w,className:"inline-flex items-center px-4 py-2 border border-red-500 text-sm font-medium rounded-md text-red-500 bg-white hover:bg-red-50 dark:hover:bg-red-900/20 disabled:opacity-50 disabled:cursor-not-allowed",children:w?f.jsxs(f.Fragment,{children:[f.jsx(At,{className:"animate-spin h-4 w-4 mr-2"}),"Saving..."]}):f.jsxs(f.Fragment,{children:[f.jsx(j8,{className:"h-4 w-4 mr-2"}),"Save as Draft"]})}),f.jsx("button",{type:"button",onClick:q=>re(q,!1),disabled:w,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:w?f.jsxs(f.Fragment,{children:[f.jsx(At,{className:"animate-spin h-4 w-4 mr-2"}),"Sending..."]}):f.jsxs(f.Fragment,{children:[f.jsx(j5,{className:"h-4 w-4 mr-2"}),"Send Proposal"]})})]})]}),D&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[f.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Select Products"}),f.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:f.jsx(uo,{className:"h-5 w-5 text-gray-500"})})]}),f.jsxs("div",{className:"relative",children:[f.jsx(up,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"text",value:L,onChange:q=>M(q.target.value),placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),f.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:V?f.jsx("div",{className:"flex items-center justify-center py-8",children:f.jsx(At,{className:"h-8 w-8 animate-spin text-blue-600"})}):B.length===0?f.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No products found"}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(q=>{var Q;return f.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${j.has(q._id)?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,onClick:()=>$(q._id),children:[f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsx("h3",{className:"font-medium text-gray-900 dark:text-white text-sm",children:q.name}),j.has(q._id)&&f.jsx(Hd,{className:"h-5 w-5 text-blue-600"})]}),q.images[0]&&f.jsx("img",{src:q.images[0],alt:q.name,className:"w-full h-32 object-cover rounded mb-2"}),f.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2 line-clamp-2",children:q.description}),f.jsxs("div",{className:"flex justify-between items-center text-sm",children:[f.jsxs("span",{className:"font-semibold text-blue-600",children:["RM ",(Q=q.price)==null?void 0:Q.toFixed(2)]}),f.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:q.category})]})]},q._id)})})}),f.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[j.size," product(s) selected"]}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),f.jsx("button",{onClick:ae,disabled:j.size===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Selected Products"})]})]})})]})})]})}function EF(){Xt();const[i,s]=F.useState([]),[c,u]=F.useState([]),[m,k]=F.useState("current"),[w,C]=F.useState({current:0,open:0,accepted:0,rejected:0}),[b,_]=F.useState(!0),[D,x]=F.useState(null),[v,S]=F.useState(null),[B,N]=F.useState(null),[L,M]=F.useState(null),[j,z]=F.useState(null),[V,H]=F.useState(!1);F.useEffect(()=>{J()},[]),F.useEffect(()=>{const re=i.filter(xe=>xe.status===m);u(re)},[i,m]);const J=async()=>{try{const xe=(await he.get("http://143.198.212.38:5000/api/quotations",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;s(xe);const q=xe.reduce((Q,de)=>(Q[de.status]=(Q[de.status]||0)+1,Q),{current:0,open:0,accepted:0,rejected:0});C(q)}catch{x({text:"Failed to fetch quotations",type:"error"})}finally{_(!1)}},P=async(re,xe)=>{try{M(re),await he.put(`http://143.198.212.38:5000/api/quotations/${re}`,{status:xe},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),x({text:`Quotation ${xe} successfully`,type:"success"}),J()}catch{x({text:`Failed to ${xe} quotation`,type:"error"})}finally{M(null)}},$=re=>{z(re),H(!0)},ae=async re=>{if(window.confirm("Are you sure you want to delete this quotation?"))try{N(re),await he.delete(`http://143.198.212.38:5000/api/quotations/${re}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),x({text:"Quotation deleted successfully",type:"success"}),J()}catch{x({text:"Failed to delete quotation",type:"error"})}finally{N(null)}},ne=async re=>{try{S(re);const xe=await he.get(`http://143.198.212.38:5000/api/quotations/${re}/pdf`,{responseType:"blob",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),q=new Blob([xe.data],{type:"application/pdf"}),Q=window.URL.createObjectURL(q),de=document.createElement("a");de.href=Q,de.download=`quotation-${re}.pdf`,document.body.appendChild(de),de.click(),document.body.removeChild(de),window.URL.revokeObjectURL(Q)}catch{x({text:"Failed to download quotation",type:"error"})}finally{S(null)}},pe=re=>{switch(re){case"current":return"bg-purple-100 text-purple-600 border-purple-200";case"open":return"bg-blue-100 text-blue-600 border-blue-200";case"accepted":return"bg-green-100 text-green-600 border-green-200";case"rejected":return"bg-red-100 text-red-600 border-red-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}},ye=re=>{switch(re){case"current":return f.jsx(Ea,{className:"h-8 w-8"});case"open":return f.jsx(ll,{className:"h-8 w-8"});case"accepted":return f.jsx(Hd,{className:"h-8 w-8"});case"rejected":return f.jsx(uo,{className:"h-8 w-8"});default:return f.jsx(Ea,{className:"h-8 w-8"})}};return b?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx(At,{className:"h-8 w-8 animate-spin text-red-600"})}):f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center mb-8",children:[f.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-full mr-4",children:f.jsx(Ea,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),f.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Quotations"})]}),D&&f.jsx(en,{message:D.text,type:D.type,onClose:()=>x(null)}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[f.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl p-6 border-2 ${pe("current")}`,children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Current Quotations"}),f.jsx("p",{className:"text-3xl font-bold text-purple-600",children:w.current})]}),f.jsx("div",{className:"text-purple-600",children:ye("current")})]})}),f.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl p-6 border-2 ${pe("open")}`,children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Open Quotations"}),f.jsx("p",{className:"text-3xl font-bold text-blue-600",children:w.open})]}),f.jsx("div",{className:"text-blue-600",children:ye("open")})]})}),f.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl p-6 border-2 ${pe("accepted")}`,children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Accepted Quotations"}),f.jsx("p",{className:"text-3xl font-bold text-green-600",children:w.accepted})]}),f.jsx("div",{className:"text-green-600",children:ye("accepted")})]})}),f.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl p-6 border-2 ${pe("rejected")}`,children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Rejected Quotations"}),f.jsx("p",{className:"text-3xl font-bold text-red-600",children:w.rejected})]}),f.jsx("div",{className:"text-red-600",children:ye("rejected")})]})})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm mb-6",children:[f.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:f.jsx("nav",{className:"flex space-x-8 px-6",children:[{key:"current",label:"Current"},{key:"open",label:"Open"},{key:"accepted",label:"Accepted"},{key:"rejected",label:"Rejected"}].map(re=>f.jsx("button",{onClick:()=>k(re.key),className:`py-4 px-1 border-b-2 font-medium text-sm ${m===re.key?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:re.label},re.key))})}),f.jsx("div",{className:"overflow-x-auto",children:c.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(Ea,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),f.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["No ",m," quotations found"]})]}):f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[f.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 dark:text-gray-400",children:"Name"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 dark:text-gray-400",children:"Client"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 dark:text-gray-400",children:"Date"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 dark:text-gray-400",children:"Amount"}),f.jsx("th",{className:"px-6 py-4 text-right text-sm font-medium text-gray-500 dark:text-gray-400",children:"Actions"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:c.map(re=>f.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:re.name})}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[f.jsx("div",{children:re.clientName}),f.jsx("div",{className:"text-xs",children:re.clientEmail})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(re.createdAt).toLocaleDateString()})}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:["RM ",re.totalAmount.toLocaleString("en-US",{minimumFractionDigits:2})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[f.jsx("button",{onClick:()=>$(re),className:"p-2 text-gray-400 hover:text-blue-500 dark:hover:text-blue-400",title:"View Details",children:f.jsx(go,{className:"h-5 w-5"})}),m==="current"&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>P(re._id,"accepted"),disabled:L===re._id,className:"p-2 text-gray-400 hover:text-green-500 disabled:opacity-50",title:"Accept",children:L===re._id?f.jsx(At,{className:"h-5 w-5 animate-spin"}):f.jsx(Hd,{className:"h-5 w-5"})}),f.jsx("button",{onClick:()=>P(re._id,"rejected"),disabled:L===re._id,className:"p-2 text-gray-400 hover:text-red-500 disabled:opacity-50",title:"Reject",children:f.jsx(uo,{className:"h-5 w-5"})})]}),f.jsx("button",{onClick:()=>ne(re._id),disabled:v===re._id,className:"p-2 text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 disabled:opacity-50",title:"Download PDF",children:v===re._id?f.jsx(At,{className:"h-5 w-5 animate-spin"}):f.jsx(T5,{className:"h-5 w-5"})}),f.jsx("button",{onClick:()=>ae(re._id),disabled:B===re._id,className:"p-2 text-gray-400 hover:text-red-500 disabled:opacity-50",title:"Delete",children:B===re._id?f.jsx(At,{className:"h-5 w-5 animate-spin"}):f.jsx(cl,{className:"h-5 w-5"})})]})})]},re._id))})]})})]}),V&&j&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[f.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Quotation Details"}),f.jsx("button",{onClick:()=>H(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:f.jsx(uo,{className:"h-5 w-5 text-gray-500"})})]})}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:j.name}),f.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Client: ",j.clientName]}),f.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Email: ",j.clientEmail]}),f.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Date: ",new Date(j.createdAt).toLocaleDateString()]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${pe(j.status)}`,children:j.status.charAt(0).toUpperCase()+j.status.slice(1)}),f.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-2",children:["RM ",j.totalAmount.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Products"}),f.jsx("div",{className:"space-y-4",children:j.products.map((re,xe)=>f.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h5",{className:"font-medium text-gray-900 dark:text-white",children:re.name}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:re.description}),f.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[f.jsxs("span",{children:["Qty: ",re.quantity]}),f.jsxs("span",{children:["Unit Price: RM ",re.unitPrice.toFixed(2)]})]})]}),f.jsx("div",{className:"text-right",children:f.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:["RM ",re.totalPrice.toFixed(2)]})})]}),re.images.length>0&&f.jsx("div",{className:"flex space-x-2 mt-3",children:re.images.slice(0,3).map((q,Q)=>f.jsx("img",{src:q,alt:`${re.name} ${Q+1}`,className:"w-16 h-16 object-cover rounded"},Q))})]},xe))})]}),j.status==="current"&&f.jsxs("div",{className:"flex justify-end space-x-4 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[f.jsx("button",{onClick:()=>{P(j._id,"rejected"),H(!1)},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reject"}),f.jsx("button",{onClick:()=>{P(j._id,"accepted"),H(!1)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Accept"})]})]})]})})]})}function DF(){return f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center mb-8",children:[f.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-full mr-4",children:f.jsx(ll,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),f.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Orders"})]}),f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:f.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"View and manage all your orders in one place."})})]})}function SF(){wo();const[i,s]=F.useState({name:"",bussinessemail:"",company:"",phone:""}),[c,u]=F.useState(null),[m,k]=F.useState(!1),[w,C]=F.useState(null),[b,_]=F.useState(""),[D,x]=F.useState(!0);F.useEffect(()=>{v()},[]);const v=async()=>{try{const N={id:localStorage.getItem("userId")},M=(await he.post("http://143.198.212.38:5000/api/users/profile",N)).data;s({name:M.firstname||"",bussinessemail:M.bussinessemail||"",company:M.company||"",phone:M.phonenumber||"",id:localStorage.getItem("userId")||""}),M.avatar&&_(M.avatar)}catch{u({text:"Failed to fetch profile data",type:"error"})}finally{x(!1)}},S=N=>{if(N.target.files&&N.target.files[0]){const L=N.target.files[0];if(L.size>5*1024*1024){u({text:"Image size must be less than 5MB",type:"error"});return}C(L),_(URL.createObjectURL(L))}},B=async N=>{N.preventDefault(),k(!0);try{const L=new FormData;Object.entries(i).forEach(([j,z])=>{L.append(j,z)}),w&&L.append("avatar",w);const M=await he.put("http://143.198.212.38:5000/api/users/profile",L,{headers:{"Content-Type":"multipart/form-data"}});u({text:"Profile updated successfully",type:"success"}),M.data.avatar&&_(M.data.avatar)}catch{u({text:"Failed to update profile",type:"error"})}finally{k(!1)}};return D?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx(At,{className:"h-8 w-8 animate-spin text-red-600"})}):f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center mb-8",children:[f.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-full mr-4",children:f.jsx(hp,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),f.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Profile"})]}),c&&f.jsx(en,{message:c.text,type:c.type,onClose:()=>u(null)}),f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:f.jsxs("form",{onSubmit:B,className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center space-x-6",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"h-24 w-24 rounded-full bg-gray-200 dark:bg-gray-700 overflow-hidden",children:b?f.jsx("img",{src:b,alt:i.name,className:"h-full w-full object-cover"}):f.jsx(hp,{className:"h-12 w-12 text-gray-400 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})}),f.jsxs("label",{className:"absolute bottom-0 right-0 p-2 bg-red-600 rounded-full text-white hover:bg-red-700 cursor-pointer",children:[f.jsx(v8,{className:"h-4 w-4"}),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:S})]})]}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:i.name||"Your Name"}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:i.bussinessemail||"your.email@example.com"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),f.jsx("input",{type:"text",value:i.name,onChange:N=>s({...i,name:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),f.jsx("input",{type:"bussinessemail",value:i.bussinessemail,onChange:N=>s({...i,bussinessemail:N.target.value}),className:"disabled:bg-gray-100 dark:disabled:bg-gray-800 w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500 disabled",required:!0,disabled:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company"}),f.jsx("input",{type:"text",value:i.company,required:!0,onChange:N=>s({...i,company:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone"}),f.jsx("input",{type:"tel",value:i.phone,required:!0,onChange:N=>s({...i,phone:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:m?f.jsxs(f.Fragment,{children:[f.jsx(At,{className:"animate-spin h-4 w-4 mr-2"}),"Saving..."]}):"Save Changes"})})]})})]})}const Gd={x:0,y:0,width:0,height:0,unit:"px"},Fi=(i,s,c)=>Math.min(Math.max(i,s),c),IF=(...i)=>i.filter(s=>s&&typeof s=="string").join(" "),Jx=(i,s)=>i===s||i.width===s.width&&i.height===s.height&&i.x===s.x&&i.y===s.y&&i.unit===s.unit;function Vi(i,s,c){return i.unit==="%"?{...Gd,...i,unit:"%"}:{unit:"%",x:i.x?i.x/s*100:0,y:i.y?i.y/c*100:0,width:i.width?i.width/s*100:0,height:i.height?i.height/c*100:0}}function $r(i,s,c){return i.unit?i.unit==="px"?{...Gd,...i,unit:"px"}:{unit:"px",x:i.x?i.x*s/100:0,y:i.y?i.y*c/100:0,width:i.width?i.width*s/100:0,height:i.height?i.height*c/100:0}:{...Gd,...i,unit:"px"}}function Xx(i,s,c,u,m,k=0,w=0,C=u,b=m){const _={...i};let D=Math.min(k,u),x=Math.min(w,m),v=Math.min(C,u),S=Math.min(b,m);s&&(s>1?(D=w?w*s:D,x=D/s,v=C*s):(x=k?k/s:x,D=x*s,S=b/s)),_.y<0&&(_.height=Math.max(_.height+_.y,x),_.y=0),_.x<0&&(_.width=Math.max(_.width+_.x,D),_.x=0);const B=u-(_.x+_.width);B<0&&(_.x=Math.min(_.x,u-D),_.width+=B);const N=m-(_.y+_.height);if(N<0&&(_.y=Math.min(_.y,m-x),_.height+=N),_.width<D&&((c==="sw"||c=="nw")&&(_.x-=D-_.width),_.width=D),_.height<x&&((c==="nw"||c=="ne")&&(_.y-=x-_.height),_.height=x),_.width>v&&((c==="sw"||c=="nw")&&(_.x-=v-_.width),_.width=v),_.height>S&&((c==="nw"||c=="ne")&&(_.y-=S-_.height),_.height=S),s){const L=_.width/_.height;if(L<s){const M=Math.max(_.width/s,x);(c==="nw"||c=="ne")&&(_.y-=M-_.height),_.height=M}else if(L>s){const M=Math.max(_.height*s,D);(c==="sw"||c=="nw")&&(_.x-=M-_.width),_.width=M}}return _}function TF(i,s,c,u){const m={...i};return s==="ArrowLeft"?u==="nw"?(m.x-=c,m.y-=c,m.width+=c,m.height+=c):u==="w"?(m.x-=c,m.width+=c):u==="sw"?(m.x-=c,m.width+=c,m.height+=c):u==="ne"?(m.y+=c,m.width-=c,m.height-=c):u==="e"?m.width-=c:u==="se"&&(m.width-=c,m.height-=c):s==="ArrowRight"&&(u==="nw"?(m.x+=c,m.y+=c,m.width-=c,m.height-=c):u==="w"?(m.x+=c,m.width-=c):u==="sw"?(m.x+=c,m.width-=c,m.height-=c):u==="ne"?(m.y-=c,m.width+=c,m.height+=c):u==="e"?m.width+=c:u==="se"&&(m.width+=c,m.height+=c)),s==="ArrowUp"?u==="nw"?(m.x-=c,m.y-=c,m.width+=c,m.height+=c):u==="n"?(m.y-=c,m.height+=c):u==="ne"?(m.y-=c,m.width+=c,m.height+=c):u==="sw"?(m.x+=c,m.width-=c,m.height-=c):u==="s"?m.height-=c:u==="se"&&(m.width-=c,m.height-=c):s==="ArrowDown"&&(u==="nw"?(m.x+=c,m.y+=c,m.width-=c,m.height-=c):u==="n"?(m.y+=c,m.height-=c):u==="ne"?(m.y+=c,m.width-=c,m.height-=c):u==="sw"?(m.x-=c,m.width+=c,m.height+=c):u==="s"?m.height+=c:u==="se"&&(m.width+=c,m.height+=c)),m}const Ui={capture:!0,passive:!1};let NF=0;const Gr=class Wn extends F.PureComponent{constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=F.createRef(),this.mediaRef=F.createRef(),this.initChangeCalled=!1,this.instanceId=`rc-${NF++}`,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=s=>{const{crop:c,disabled:u}=this.props,m=this.getBox();if(!c)return;const k=$r(c,m.width,m.height);if(u)return;s.cancelable&&s.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const w=s.target.dataset.ord,C=!!w;let b=s.clientX,_=s.clientY,D=k.x,x=k.y;if(w){const v=s.clientX-m.x,S=s.clientY-m.y;let B=0,N=0;w==="ne"||w=="e"?(B=v-(k.x+k.width),N=S-k.y,D=k.x,x=k.y+k.height):w==="se"||w==="s"?(B=v-(k.x+k.width),N=S-(k.y+k.height),D=k.x,x=k.y):w==="sw"||w=="w"?(B=v-k.x,N=S-(k.y+k.height),D=k.x+k.width,x=k.y):(w==="nw"||w=="n")&&(B=v-k.x,N=S-k.y,D=k.x+k.width,x=k.y+k.height),b=D+m.x+B,_=x+m.y+N}this.evData={startClientX:b,startClientY:_,startCropX:D,startCropY:x,clientX:s.clientX,clientY:s.clientY,isResize:C,ord:w},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=s=>{const{crop:c,disabled:u,locked:m,keepSelection:k,onChange:w}=this.props,C=this.getBox();if(u||m||k&&c)return;s.cancelable&&s.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const b=s.clientX-C.x,_=s.clientY-C.y,D={unit:"px",x:b,y:_,width:0,height:0};this.evData={startClientX:s.clientX,startClientY:s.clientY,startCropX:b,startCropY:_,clientX:s.clientX,clientY:s.clientY,isResize:!0},this.mouseDownOnCrop=!0,w($r(D,C.width,C.height),Vi(D,C.width,C.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=s=>{const{crop:c,disabled:u,onChange:m,onDragStart:k}=this.props,w=this.getBox();if(u||!c||!this.mouseDownOnCrop)return;s.cancelable&&s.preventDefault(),this.dragStarted||(this.dragStarted=!0,k&&k(s));const{evData:C}=this;C.clientX=s.clientX,C.clientY=s.clientY;let b;C.isResize?b=this.resizeCrop():b=this.dragCrop(),Jx(c,b)||m($r(b,w.width,w.height),Vi(b,w.width,w.height))},this.onComponentKeyDown=s=>{const{crop:c,disabled:u,onChange:m,onComplete:k}=this.props;if(u)return;const w=s.key;let C=!1;if(!c)return;const b=this.getBox(),_=this.makePixelCrop(b),D=(navigator.platform.match("Mac")?s.metaKey:s.ctrlKey)?Wn.nudgeStepLarge:s.shiftKey?Wn.nudgeStepMedium:Wn.nudgeStep;if(w==="ArrowLeft"?(_.x-=D,C=!0):w==="ArrowRight"?(_.x+=D,C=!0):w==="ArrowUp"?(_.y-=D,C=!0):w==="ArrowDown"&&(_.y+=D,C=!0),C){s.cancelable&&s.preventDefault(),_.x=Fi(_.x,0,b.width-_.width),_.y=Fi(_.y,0,b.height-_.height);const x=$r(_,b.width,b.height),v=Vi(_,b.width,b.height);m(x,v),k&&k(x,v)}},this.onHandlerKeyDown=(s,c)=>{const{aspect:u=0,crop:m,disabled:k,minWidth:w=0,minHeight:C=0,maxWidth:b,maxHeight:_,onChange:D,onComplete:x}=this.props,v=this.getBox();if(k||!m)return;if(s.key==="ArrowUp"||s.key==="ArrowDown"||s.key==="ArrowLeft"||s.key==="ArrowRight")s.stopPropagation(),s.preventDefault();else return;const S=(navigator.platform.match("Mac")?s.metaKey:s.ctrlKey)?Wn.nudgeStepLarge:s.shiftKey?Wn.nudgeStepMedium:Wn.nudgeStep,B=$r(m,v.width,v.height),N=TF(B,s.key,S,c),L=Xx(N,u,c,v.width,v.height,w,C,b,_);if(!Jx(m,L)){const M=Vi(L,v.width,v.height);D(L,M),x&&x(L,M)}},this.onDocPointerDone=s=>{const{crop:c,disabled:u,onComplete:m,onDragEnd:k}=this.props,w=this.getBox();this.unbindDocMove(),!(u||!c)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,k&&k(s),m&&m($r(c,w.width,w.height),Vi(c,w.width,w.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=()=>{var s;(s=this.componentRef.current)==null||s.scrollTo(0,0)}}get document(){return document}getBox(){const s=this.mediaRef.current;if(!s)return{x:0,y:0,width:0,height:0};const{x:c,y:u,width:m,height:k}=s.getBoundingClientRect();return{x:c,y:u,width:m,height:k}}componentDidUpdate(s){const{crop:c,onComplete:u}=this.props;if(u&&!s.crop&&c){const{width:m,height:k}=this.getBox();m&&k&&u($r(c,m,k),Vi(c,m,k))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,Ui),this.document.addEventListener("pointerup",this.onDocPointerDone,Ui),this.document.addEventListener("pointercancel",this.onDocPointerDone,Ui),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,Ui),this.document.removeEventListener("pointerup",this.onDocPointerDone,Ui),this.document.removeEventListener("pointercancel",this.onDocPointerDone,Ui),this.docMoveBound=!1)}getCropStyle(){const{crop:s}=this.props;if(s)return{top:`${s.y}${s.unit}`,left:`${s.x}${s.unit}`,width:`${s.width}${s.unit}`,height:`${s.height}${s.unit}`}}dragCrop(){const{evData:s}=this,c=this.getBox(),u=this.makePixelCrop(c),m=s.clientX-s.startClientX,k=s.clientY-s.startClientY;return u.x=Fi(s.startCropX+m,0,c.width-u.width),u.y=Fi(s.startCropY+k,0,c.height-u.height),u}getPointRegion(s,c,u,m){const{evData:k}=this,w=k.clientX-s.x,C=k.clientY-s.y;let b;m&&c?b=c==="nw"||c==="n"||c==="ne":b=C<k.startCropY;let _;return u&&c?_=c==="nw"||c==="w"||c==="sw":_=w<k.startCropX,_?b?"nw":"sw":b?"ne":"se"}resolveMinDimensions(s,c,u=0,m=0){const k=Math.min(u,s.width),w=Math.min(m,s.height);return!c||!k&&!w?[k,w]:c>1?k?[k,k/c]:[w*c,w]:w?[w*c,w]:[k,k/c]}resizeCrop(){const{evData:s}=this,{aspect:c=0,maxWidth:u,maxHeight:m}=this.props,k=this.getBox(),[w,C]=this.resolveMinDimensions(k,c,this.props.minWidth,this.props.minHeight);let b=this.makePixelCrop(k);const _=this.getPointRegion(k,s.ord,w,C),D=s.ord||_;let x=s.clientX-s.startClientX,v=s.clientY-s.startClientY;(w&&D==="nw"||D==="w"||D==="sw")&&(x=Math.min(x,-w)),(C&&D==="nw"||D==="n"||D==="ne")&&(v=Math.min(v,-C));const S={unit:"px",x:0,y:0,width:0,height:0};_==="ne"?(S.x=s.startCropX,S.width=x,c?(S.height=S.width/c,S.y=s.startCropY-S.height):(S.height=Math.abs(v),S.y=s.startCropY-S.height)):_==="se"?(S.x=s.startCropX,S.y=s.startCropY,S.width=x,c?S.height=S.width/c:S.height=v):_==="sw"?(S.x=s.startCropX+x,S.y=s.startCropY,S.width=Math.abs(x),c?S.height=S.width/c:S.height=v):_==="nw"&&(S.x=s.startCropX+x,S.width=Math.abs(x),c?(S.height=S.width/c,S.y=s.startCropY-S.height):(S.height=Math.abs(v),S.y=s.startCropY+v));const B=Xx(S,c,_,k.width,k.height,w,C,u,m);return c||Wn.xyOrds.indexOf(D)>-1?b=B:Wn.xOrds.indexOf(D)>-1?(b.x=B.x,b.width=B.width):Wn.yOrds.indexOf(D)>-1&&(b.y=B.y,b.height=B.height),b.x=Fi(b.x,0,k.width-b.width),b.y=Fi(b.y,0,k.height-b.height),b}renderCropSelection(){const{ariaLabels:s=Wn.defaultProps.ariaLabels,disabled:c,locked:u,renderSelectionAddon:m,ruleOfThirds:k,crop:w}=this.props,C=this.getCropStyle();if(w)return Ee.createElement("div",{style:C,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":s.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!c&&!u&&Ee.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},Ee.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),Ee.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),Ee.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),Ee.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),Ee.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":s.nwDragHandle,onKeyDown:b=>this.onHandlerKeyDown(b,"nw"),role:"button"}),Ee.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":s.nDragHandle,onKeyDown:b=>this.onHandlerKeyDown(b,"n"),role:"button"}),Ee.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":s.neDragHandle,onKeyDown:b=>this.onHandlerKeyDown(b,"ne"),role:"button"}),Ee.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":s.eDragHandle,onKeyDown:b=>this.onHandlerKeyDown(b,"e"),role:"button"}),Ee.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":s.seDragHandle,onKeyDown:b=>this.onHandlerKeyDown(b,"se"),role:"button"}),Ee.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":s.sDragHandle,onKeyDown:b=>this.onHandlerKeyDown(b,"s"),role:"button"}),Ee.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":s.swDragHandle,onKeyDown:b=>this.onHandlerKeyDown(b,"sw"),role:"button"}),Ee.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":s.wDragHandle,onKeyDown:b=>this.onHandlerKeyDown(b,"w"),role:"button"})),m&&Ee.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:b=>b.stopPropagation()},m(this.state)),k&&Ee.createElement(Ee.Fragment,null,Ee.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),Ee.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(s){const c={...Gd,...this.props.crop||{}};return $r(c,s.width,s.height)}render(){const{aspect:s,children:c,circularCrop:u,className:m,crop:k,disabled:w,locked:C,style:b,ruleOfThirds:_}=this.props,{cropIsActive:D,newCropIsBeingDrawn:x}=this.state,v=k?this.renderCropSelection():null,S=IF("ReactCrop",m,D&&"ReactCrop--active",w&&"ReactCrop--disabled",C&&"ReactCrop--locked",x&&"ReactCrop--new-crop",k&&s&&"ReactCrop--fixed-aspect",k&&u&&"ReactCrop--circular-crop",k&&_&&"ReactCrop--rule-of-thirds",!this.dragStarted&&k&&!k.width&&!k.height&&"ReactCrop--invisible-crop",u&&"ReactCrop--no-animate");return Ee.createElement("div",{ref:this.componentRef,className:S,style:b},Ee.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},c),k?Ee.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},Ee.createElement("defs",null,Ee.createElement("mask",{id:`hole-${this.instanceId}`},Ee.createElement("rect",{width:"100%",height:"100%",fill:"white"}),u?Ee.createElement("ellipse",{cx:`${k.x+k.width/2}${k.unit}`,cy:`${k.y+k.height/2}${k.unit}`,rx:`${k.width/2}${k.unit}`,ry:`${k.height/2}${k.unit}`,fill:"black"}):Ee.createElement("rect",{x:`${k.x}${k.unit}`,y:`${k.y}${k.unit}`,width:`${k.width}${k.unit}`,height:`${k.height}${k.unit}`,fill:"black"}))),Ee.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,v)}};Gr.xOrds=["e","w"],Gr.yOrds=["n","s"],Gr.xyOrds=["nw","ne","se","sw"],Gr.nudgeStep=1,Gr.nudgeStepMedium=10,Gr.nudgeStepLarge=100,Gr.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};let MF=Gr;function BF({isOpen:i,onClose:s,onUpload:c,aspectRatio:u=1,maxSize:m={width:800,height:400}}){const[k,w]=F.useState(null),[C,b]=F.useState({unit:"%",x:0,y:0,width:100,height:100}),[_,D]=F.useState(null),x=F.useRef(null),v=L=>{if(L.target.files&&L.target.files[0]){const M=L.target.files[0],j=new FileReader;j.onload=()=>{const z=new Image;z.onload=()=>{if(z.width>m.width||z.height>m.height){alert(`Image must be smaller than ${m.width}×${m.height}px`);return}w(j.result)},z.src=j.result},j.readAsDataURL(M)}},S=F.useCallback((L,M)=>{const j=document.createElement("canvas"),z=j.getContext("2d");if(!z)throw new Error("No 2d context");const V=L.naturalWidth/L.width,H=L.naturalHeight/L.height;return j.width=M.width,j.height=M.height,z.drawImage(L,M.x*V,M.y*H,M.width*V,M.height*H,0,0,M.width,M.height),j.toDataURL("image/png")},[]),B=L=>{D(L)},N=()=>{if(_&&x.current){const L=S(x.current,_);c(L),s(),w(null),b({unit:"%",x:0,y:0,width:100,height:100})}};return i?f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-2xl w-full mx-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Upload Logo"}),f.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:f.jsx(uo,{className:"h-5 w-5 text-gray-500"})})]}),k?f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"max-h-[60vh] overflow-auto",children:f.jsx(MF,{crop:C,onChange:L=>b(L),onComplete:B,aspect:u,children:f.jsx("img",{ref:x,src:k,alt:"Upload preview",className:"max-w-full"})})}),f.jsxs("div",{className:"flex justify-end space-x-4",children:[f.jsx("button",{onClick:s,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),f.jsx("button",{onClick:N,className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg",children:"Upload"})]})]}):f.jsx("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8",children:f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx(bf,{className:"h-12 w-12 text-gray-400 mb-4"}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:"Click to upload or drag and drop"}),f.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:["PNG only (MAX. ",m.width,"×",m.height,"px)"]}),f.jsx("input",{type:"file",accept:"image/png",onChange:v,className:"hidden",id:"logo-upload"}),f.jsx("label",{htmlFor:"logo-upload",className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg cursor-pointer transition-colors",children:"Select File"})]})})]})}):null}function e2({onUpload:i,aspectRatio:s,maxSize:c}){const[u,m]=F.useState(!1);return f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg text-sm font-medium transition-colors",children:[f.jsx(bf,{className:"h-4 w-4 mr-2"}),"UPLOAD LOGO"]}),f.jsx(BF,{isOpen:u,onClose:()=>m(!1),onUpload:i,aspectRatio:s,maxSize:c})]})}function jF(){const{user:i}=wo(),[s,c]=F.useState(null),[u,m]=F.useState(null),[k,w]=F.useState({primaryColor:"#FF0000",secondaryColor:"#000000",id:""}),[C,b]=F.useState(!1),_=localStorage.getItem("userId");F.useEffect(()=>{i!=null&&i.branding&&(m(i.branding.logo||null),w({primaryColor:i.branding.primaryColor,secondaryColor:i.branding.secondaryColor,id:_}))},[i]);const D=async S=>{try{b(!0);const B=localStorage.getItem("userId"),N=new FormData,M=await(await fetch(S)).blob();N.append("logo",M),N.append("primaryColor",k.primaryColor),N.append("id",B),N.append("secondaryColor",k.secondaryColor);const j=await he.put("http://143.198.212.38:5000/api/users/branding",N);m(j.data.logo),c({text:"Branding updated successfully",type:"success"})}catch{c({text:"Failed to update branding",type:"error"})}finally{b(!1)}},x=async S=>{const{name:B,value:N}=S.target;w(L=>({...L,[B]:N}))},v=async()=>{try{b(!0),k.id=_;const S=await he.put("http://143.198.212.38:5000/api/users/branding",k);c({text:"Brand colors updated successfully",type:"success"})}catch{c({text:"Failed to update brand colors",type:"error"})}finally{b(!1)}};return f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center mb-8",children:[f.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-full mr-4",children:f.jsx(M5,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),f.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Branding"})]}),s&&f.jsx(en,{message:s.text,type:s.type,onClose:()=>c(null)}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Company Logo"}),f.jsxs("div",{className:"space-y-4",children:[u?f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:u,alt:"Company Logo",className:"max-w-full h-auto rounded-lg"}),f.jsx(e2,{onUpload:D,aspectRatio:2,maxSize:{width:800,height:400}})]}):f.jsx(e2,{onUpload:D,aspectRatio:2,maxSize:{width:800,height:400}}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Recommended size: 800x400px. PNG or JPG format."})]})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Brand Colors"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Primary Color"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("input",{type:"color",name:"primaryColor",value:k.primaryColor,onChange:x,className:"h-10 w-20"}),f.jsx("input",{type:"text",value:k.primaryColor,onChange:x,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Secondary Color"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("input",{type:"color",name:"secondaryColor",value:k.secondaryColor,onChange:x,className:"h-10 w-20"}),f.jsx("input",{type:"text",value:k.secondaryColor,onChange:x,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg"})]})]}),f.jsx("button",{onClick:v,disabled:C,className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:C?"Saving...":"Save Colors"})]})]})]})]})}function PF(){const i=Xt(),{cart:s,updateCartItem:c,removeFromCart:u,clearCart:m,loading:k}=vu(),[w,C]=F.useState(null),[b,_]=F.useState(new Set),[D,x]=F.useState(!1),[v,S]=F.useState({name:"",clientName:"",clientEmail:""}),[B,N]=F.useState(!1),L=async(V,H,J)=>{var P,$;if(!(H<1))try{_(ae=>new Set(ae).add(V)),await c(V,H,J)}catch(ae){C({text:(($=(P=ae.response)==null?void 0:P.data)==null?void 0:$.error)||"Failed to update quantity",type:"error"})}finally{_(ae=>{const ne=new Set(ae);return ne.delete(V),ne})}},M=async V=>{var H,J;try{await u(V),C({text:"Item removed from cart",type:"success"})}catch(P){C({text:((J=(H=P.response)==null?void 0:H.data)==null?void 0:J.error)||"Failed to remove item",type:"error"})}},j=async()=>{var V,H;if(window.confirm("Are you sure you want to clear your cart?"))try{await m(),C({text:"Cart cleared successfully",type:"success"})}catch(J){C({text:((H=(V=J.response)==null?void 0:V.data)==null?void 0:H.error)||"Failed to clear cart",type:"error"})}},z=async V=>{var H,J;if(V.preventDefault(),!(!s||s.items.length===0))try{N(!0);const P=s.items.map(ne=>({name:ne.name,description:ne.description,quantity:ne.quantity,unitPrice:ne.unitPrice,totalPrice:ne.totalPrice,images:ne.images})),$={...v,products:P,totalAmount:s.totalAmount,status:"draft"};(await he.post("http://143.198.212.38:5000/api/quotations",$,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data&&(C({text:"Proposal created successfully from cart items",type:"success"}),x(!1),S({name:"",clientName:"",clientEmail:""}),window.confirm("Proposal created! Would you like to clear your cart?")&&await m(),setTimeout(()=>{i("/smart-proposal")},1500))}catch(P){C({text:((J=(H=P.response)==null?void 0:H.data)==null?void 0:J.error)||"Failed to create proposal",type:"error"})}finally{N(!1)}};return k&&!s?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx(At,{className:"h-8 w-8 animate-spin text-red-500"})}):f.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[w&&f.jsx(en,{message:w.text,type:w.type,onClose:()=>C(null)}),f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsxs(Bt,{to:"/",className:"flex items-center text-gray-500 hover:text-red-500 mr-4",children:[f.jsx(S5,{className:"h-5 w-5 mr-1"}),"Continue Shopping"]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-full mr-4",children:f.jsx(fs,{className:"h-6 w-6 text-red-500"})}),f.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Shopping Cart"})]})]}),s&&s.items.length>0&&f.jsx("button",{onClick:j,className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Clear Cart"})]}),!s||s.items.length===0?f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-8 text-center",children:[f.jsx(fs,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Your cart is empty"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Add some products to get started"}),f.jsx(Bt,{to:"/smart-catalog",className:"inline-flex items-center px-6 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors",children:"Browse Products"})]}):f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsx("div",{className:"lg:col-span-2 space-y-4",children:s.items.map(V=>f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:f.jsxs("div",{className:"flex items-start space-x-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("img",{src:V.images[0]||"https://via.placeholder.com/100",alt:V.name,className:"w-20 h-20 object-cover rounded-lg"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:V.name}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:V.description}),f.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[f.jsx("span",{children:V.category}),V.subcategory&&f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"mx-2",children:"•"}),f.jsx("span",{children:V.subcategory})]})]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>L(V._id,V.quantity-1,V.unitPrice),disabled:V.quantity<=1||b.has(V._id),className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50",children:f.jsx(gu,{className:"h-4 w-4"})}),f.jsx("span",{className:"w-12 text-center font-medium",children:b.has(V._id)?f.jsx(At,{className:"h-4 w-4 animate-spin mx-auto"}):V.quantity}),f.jsx("button",{onClick:()=>L(V._id,V.quantity+1,V.unitPrice),disabled:b.has(V._id),className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50",children:f.jsx(ps,{className:"h-4 w-4"})})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:["RM ",V.totalPrice.toFixed(2)]}),f.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:["RM ",V.unitPrice.toFixed(2)," each"]}),f.jsx("button",{onClick:()=>M(V._id),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full",children:f.jsx(cl,{className:"h-4 w-4"})})]})]})},V._id))}),f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700 sticky top-24",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Order Summary"}),f.jsxs("div",{className:"space-y-3 mb-6",children:[f.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[f.jsxs("span",{children:["Items (",s.totalItems,")"]}),f.jsxs("span",{children:["RM ",s.totalAmount.toFixed(2)]})]}),f.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[f.jsx("span",{children:"Shipping"}),f.jsx("span",{children:"Free"})]}),f.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:f.jsxs("div",{className:"flex justify-between text-lg font-semibold text-gray-900 dark:text-white",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{children:["RM ",s.totalAmount.toFixed(2)]})]})})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("button",{className:"w-full py-3 px-4 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors",children:"Proceed to Checkout"}),f.jsxs("button",{onClick:()=>x(!0),className:"w-full py-3 px-4 border border-red-500 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg font-medium transition-colors flex items-center justify-center",children:[f.jsx(ll,{className:"h-5 w-5 mr-2"}),"Create Proposal"]})]})]})})]}),D&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-lg w-full",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Create Proposal from Cart"}),f.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:"×"})]}),f.jsxs("form",{onSubmit:z,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Proposal Name"}),f.jsx("input",{type:"text",value:v.name,onChange:V=>S({...v,name:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter proposal name",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Client Name"}),f.jsx("input",{type:"text",value:v.clientName,onChange:V=>S({...v,clientName:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter client name",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Client Email"}),f.jsx("input",{type:"email",value:v.clientEmail,onChange:V=>S({...v,clientEmail:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter client email",required:!0})]}),f.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-2",children:[f.jsx("span",{children:"Total Items:"}),f.jsx("span",{children:(s==null?void 0:s.totalItems)||0})]}),f.jsxs("div",{className:"flex justify-between font-semibold text-gray-900 dark:text-white",children:[f.jsx("span",{children:"Total Amount:"}),f.jsxs("span",{children:["RM ",(s==null?void 0:s.totalAmount.toFixed(2))||"0.00"]})]})]}),f.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:B,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:B?f.jsxs(f.Fragment,{children:[f.jsx(At,{className:"animate-spin h-4 w-4 mr-2"}),"Creating..."]}):f.jsxs(f.Fragment,{children:[f.jsx(j5,{className:"h-4 w-4 mr-2"}),"Create Proposal"]})})]})]})]})})]})}function LF(){wo();const[i,s]=F.useState(null),[c,u]=F.useState({currentPassword:"",newPassword:""}),[m,k]=F.useState(!1),w=async C=>{var b,_;if(C.preventDefault(),c.newPassword.length<8){s({text:"Password must be at least 8 characters long",type:"error"});return}try{k(!0),await he.put("http://143.198.212.38:5000/api/users/password",{currentPassword:c.currentPassword,newPassword:c.newPassword,id:localStorage.getItem("userId")},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),s({text:"Password updated successfully",type:"success"}),u({currentPassword:"",newPassword:""})}catch(D){s({text:((_=(b=D.response)==null?void 0:b.data)==null?void 0:_.error)||"Failed to update password",type:"error"})}finally{k(!1)}};return f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center mb-8",children:[f.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-full mr-4",children:f.jsx(P5,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),f.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Security"})]}),i&&f.jsx(en,{message:i.text,type:i.type,onClose:()=>s(null)}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"flex items-center mb-4",children:[f.jsx(S8,{className:"h-5 w-5 text-gray-400 mr-2"}),f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Change Password"})]}),f.jsxs("form",{onSubmit:w,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Current Password"}),f.jsx("input",{type:"password",value:c.currentPassword,onChange:C=>u({...c,currentPassword:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"New Password"}),f.jsx("input",{type:"password",value:c.newPassword,onChange:C=>u({...c,newPassword:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0,minLength:8})]}),f.jsx("button",{type:"submit",disabled:m,className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:m?f.jsxs(f.Fragment,{children:[f.jsx(At,{className:"animate-spin h-4 w-4 mr-2"}),"Updating..."]}):"Update Password"})]})]})})]})}function OF(){const[i,s]=F.useState([]),[c,u]=F.useState(!1),[m,k]=F.useState(null),[w,C]=F.useState(null),[b,_]=F.useState(!0),[D,x]=F.useState(!1),[v,S]=F.useState({name:"",street:"",city:"",state:"",postalCode:"",country:"",isDefault:!1});F.useEffect(()=>{B()},[]);const B=async()=>{try{const j={id:localStorage.getItem("userId")},z=await he.post("http://143.198.212.38:5000/api/users/addresses",j);s(z.data)}catch{C({text:"Failed to fetch addresses",type:"error"})}finally{_(!1)}},N=async M=>{M.preventDefault(),x(!0);try{const j={Authorization:`Bearer ${localStorage.getItem("token")}`};m?await he.put(`http://143.198.212.38:5000/api/users/addresses/${m._id}`,v,{headers:j}):await he.post("http://143.198.212.38:5000/api/users/addresses",v,{headers:j}),C({text:m?"Address updated successfully":"Address added successfully",type:"success"}),u(!1),B()}catch{C({text:"Failed to save address",type:"error"})}finally{x(!1)}},L=async M=>{if(window.confirm("Are you sure you want to delete this address?"))try{await he.delete(`http://143.198.212.38:5000/api/users/addresses/${M}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),C({text:"Address deleted successfully",type:"success"}),B()}catch{C({text:"Failed to delete address",type:"error"})}};return b?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx(At,{className:"h-8 w-8 animate-spin text-red-600"})}):f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-full mr-4",children:f.jsx(Ox,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),f.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Address Book"})]}),f.jsxs("button",{onClick:()=>{k(null),S({name:"",street:"",city:"",state:"",postalCode:"",country:"",isDefault:!1}),u(!0)},className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[f.jsx(ps,{className:"h-5 w-5 mr-2"}),"Add Address"]})]}),w&&f.jsx(en,{message:w.text,type:w.type,onClose:()=>C(null)}),i.length===0?f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-8 text-center",children:[f.jsx(Ox,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"No addresses found. Add your first address."})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(M=>f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(T8,{className:"h-5 w-5 text-gray-400 mr-2"}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:M.name})]}),M.isDefault&&f.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-xs rounded-full",children:"Default"})]}),f.jsxs("div",{className:"text-gray-600 dark:text-gray-300 space-y-1 mb-4",children:[f.jsx("p",{children:M.street}),f.jsxs("p",{children:[M.city,", ",M.state," ",M.postalCode]}),f.jsx("p",{children:M.country})]}),f.jsxs("div",{className:"flex justify-end space-x-2",children:[f.jsx("button",{onClick:()=>{k(M),S({name:M.name,street:M.street,city:M.city,state:M.state,postalCode:M.postalCode,country:M.country,isDefault:M.isDefault}),u(!0)},className:"p-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",children:f.jsx(M8,{className:"h-5 w-5"})}),f.jsx("button",{onClick:()=>L(M._id),className:"p-2 text-red-600 hover:text-red-700",children:f.jsx(cl,{className:"h-5 w-5"})})]})]},M._id))}),c&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6",children:[f.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:m?"Edit Address":"Add New Address"}),f.jsxs("form",{onSubmit:N,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address Name"}),f.jsx("input",{type:"text",value:v.name,onChange:M=>S({...v,name:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Street Address"}),f.jsx("input",{type:"text",value:v.street,onChange:M=>S({...v,street:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"City"}),f.jsx("input",{type:"text",value:v.city,onChange:M=>S({...v,city:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"State"}),f.jsx("input",{type:"text",value:v.state,onChange:M=>S({...v,state:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Postal Code"}),f.jsx("input",{type:"text",value:v.postalCode,onChange:M=>S({...v,postalCode:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Country"}),f.jsx("input",{type:"text",value:v.country,onChange:M=>S({...v,country:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"checkbox",id:"isDefault",checked:v.isDefault,onChange:M=>S({...v,isDefault:M.target.checked}),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),f.jsx("label",{htmlFor:"isDefault",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Set as default address"})]}),f.jsxs("div",{className:"flex justify-end space-x-4",children:[f.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:D,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:D?f.jsxs(f.Fragment,{children:[f.jsx(At,{className:"animate-spin h-4 w-4 mr-2"}),"Saving..."]}):m?"Update Address":"Save Address"})]})]})]})})]})}function cD(){const i="http://143.198.212.38:5000",[s,c]=F.useState(""),[u,m]=F.useState(null),[k,w]=F.useState(!1),C=async b=>{b.preventDefault(),w(!0);try{if(!(await fetch(`${i}/api/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bussinessemail:s})})).ok)throw new Error("Failed to send reset email");m({text:"Password reset instructions have been sent to your email.",type:"success"}),c("")}catch(_){m({text:_ instanceof Error?_.message:"Failed to send reset instructions.",type:"error"})}finally{w(!1)}};return f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:[u&&f.jsx(en,{message:u.text,type:u.type,onClose:()=>m(null)}),f.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-3xl font-bold text-red-600 mb-6",children:f.jsx(Bt,{to:"/",className:"text-3xl text-red-600 hover:text-red-500 font-medium",children:"MHG"})}),f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Reset your password"}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enter your email address and we'll send you instructions to reset your password."})]}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:C,children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email address"}),f.jsx("input",{id:"bussinessemail",name:"bussinessemail",type:"email",required:!0,value:s,onChange:b=>c(b.target.value),className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Enter your email"})]}),f.jsx("button",{type:"submit",disabled:k,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed",children:k?"Sending...":"Send Reset Instructions"}),f.jsxs(Bt,{to:"/login",className:"flex items-center justify-center text-sm text-red-600 hover:text-red-500 font-medium",children:[f.jsx(S5,{className:"h-4 w-4 mr-1"}),"Back to login"]})]})]})]})}function dD(){const{completePasswordReset:i}=wo(),s=Xt();b8();const{token:c}=y5(),[u,m]=F.useState({password:"",confirmPassword:""}),[k,w]=F.useState(!1),[C,b]=F.useState(!1),[_,D]=F.useState(null),[x,v]=F.useState(!1),S=async N=>{if(N.preventDefault(),!c){D({text:"Invalid or expired reset link.",type:"error"});return}if(u.password!==u.confirmPassword){D({text:"Passwords do not match.",type:"error"});return}if(u.password.length<8){D({text:"Password must be at least 8 characters long.",type:"error"});return}v(!0);try{await i(c,u.password),D({text:"Password has been reset successfully.",type:"success"}),setTimeout(()=>{s("/login")},2e3)}catch(L){D({text:L instanceof Error?L.message:"Failed to reset password.",type:"error"})}finally{v(!1)}},B=N=>{m(L=>({...L,[N.target.name]:N.target.value}))};return c?f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:[_&&f.jsx(en,{message:_.text,type:_.type,onClose:()=>D(null)}),f.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-3xl font-bold text-red-600 mb-6",children:f.jsx(Bt,{to:"/",className:"text-3xl text-red-600 hover:text-red-500 font-medium",children:"MHG"})}),f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Reset your password"}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Please enter your new password below."})]}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:S,children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"New Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{id:"password",name:"password",type:k?"text":"password",required:!0,value:u.password,onChange:B,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 pr-10",placeholder:"Enter your new password"}),f.jsx("button",{type:"button",onClick:()=>w(!k),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-500",children:k?f.jsx(tl,{className:"h-5 w-5"}):f.jsx(go,{className:"h-5 w-5"})})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm New Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:C?"text":"password",required:!0,value:u.confirmPassword,onChange:B,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 pr-10",placeholder:"Confirm your new password"}),f.jsx("button",{type:"button",onClick:()=>b(!C),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-500",children:C?f.jsx(tl,{className:"h-5 w-5"}):f.jsx(go,{className:"h-5 w-5"})})]})]})]}),f.jsx("button",{type:"submit",disabled:x,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Resetting...":"Reset Password"})]})]})]}):f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:f.jsx("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg",children:f.jsx("div",{className:"text-center text-red-600",children:"Invalid or expired reset link. Please request a new password reset."})})})}function zF(){return f.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f.jsxs(E5,{children:[f.jsx(Qe,{path:"/",element:f.jsx(bF,{})}),f.jsx(Qe,{path:"/smart-gifting",element:f.jsx(CF,{})}),f.jsx(Qe,{path:"/smart-catalog",element:f.jsx(vF,{})}),f.jsx(Qe,{path:"/smart-catalog/:id",element:f.jsx(Zx,{})}),f.jsx(Qe,{path:"/digital-gifting/:id",element:f.jsx(Zx,{})}),f.jsx(Qe,{path:"/digital-gifting",element:f.jsx(yF,{})}),f.jsx(Qe,{path:"/smart-proposal",element:f.jsx(_F,{})}),f.jsx(Qe,{path:"/smart-proposal/create",element:f.jsx(xF,{})}),f.jsx(Qe,{path:"/quotations",element:f.jsx(EF,{})}),f.jsx(Qe,{path:"/orders",element:f.jsx(DF,{})}),f.jsx(Qe,{path:"/profile",element:f.jsx(SF,{})}),f.jsx(Qe,{path:"/branding",element:f.jsx(jF,{})}),f.jsx(Qe,{path:"/security",element:f.jsx(LF,{})}),f.jsx(Qe,{path:"/address-book",element:f.jsx(OF,{})}),f.jsx(Qe,{path:"/forgot-password",element:f.jsx(cD,{})}),f.jsx(Qe,{path:"/reset-password",element:f.jsx(dD,{})}),f.jsx(Qe,{path:"/cart",element:f.jsx(PF,{})}),f.jsx(Qe,{path:"*",element:f.jsx(ff,{to:"/",replace:!0})})]})})})}function RF(){return f.jsx("footer",{className:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 transition-colors duration-200",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"MH GLOBALSdn Bhd 2024"}),f.jsx("div",{className:"flex items-center space-x-4",children:f.jsxs("button",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:[f.jsx(x8,{className:"h-5 w-5 mr-1"}),"Account Manager Support"]})})]})})})}function FF(){const{login:i,isAuthenticated:s}=wo(),[c,u]=F.useState(!1),[m,k]=F.useState(null),[w,C]=F.useState({email:"",password:"",rememberMe:!1}),b=async D=>{D.preventDefault();try{await i(w.email,w.password)}catch(x){k(x instanceof Error?x.message:"Login failed. Please try again.")}},_=D=>{const{name:x,value:v,type:S,checked:B}=D.target;C(N=>({...N,[x]:S==="checkbox"?B:v}))};return s?f.jsx(ff,{to:"/",replace:!0}):f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:[m&&f.jsx(en,{message:m,type:"error",onClose:()=>k(null)}),f.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-3xl font-bold text-red-600 mb-6",children:f.jsx(Bt,{to:"/",className:"text-3xl text-red-600 hover:text-red-500 font-medium",children:"MHG"})}),f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Enter your email and password to log in."})]}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),f.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:w.email,onChange:_,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),f.jsx(Bt,{to:"/forgot-password",className:"text-sm text-red-600 hover:text-red-500 font-medium",children:"Forgot password?"})]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{id:"password",name:"password",type:c?"text":"password",required:!0,value:w.password,onChange:_,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 pr-10"}),f.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-500",children:c?f.jsx(tl,{className:"h-5 w-5"}):f.jsx(go,{className:"h-5 w-5"})})]})]})]}),f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"remember-me",name:"rememberMe",type:"checkbox",checked:w.rememberMe,onChange:_,className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),f.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Remember me"})]})}),f.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Log in"}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"OR"}),f.jsx(Bt,{to:"/register",className:"text-sm text-red-600 hover:text-red-500 font-medium",children:"Register here"})]})]})]})]})}function VF(){const[i,s]=F.useState(!1),[c,u]=F.useState(!1),[m,k]=F.useState({firstname:"",lastname:"",bussinessemail:"",phonenumber:"",password:"",confirmPassword:"",company:"",jobRole:"",acceptTerms:!1}),w="http://143.198.212.38:5000",C=Xt(),b=async D=>{if(D.preventDefault(),m.password!==m.confirmPassword){alert("Passwords do not match");return}try{const x=await fetch(`${w}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(x.ok){const v=await x.json();alert("Registration successful!"),C("/login")}else{const v=await x.json();console.log(v)}}catch(x){UF(x instanceof Error?x.message:"Login failed. Please try again.")}console.log("Registration attempt:",m)},_=D=>{const{name:x,value:v,type:S,checked:B}=D.target;k(N=>({...N,[x]:S==="checkbox"?B:v,[x]:v}))};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:f.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-3xl font-bold text-red-600 mb-6",children:f.jsx(Bt,{to:"/",className:"text-3xl text-red-600 hover:text-red-500 font-medium",children:"MHG"})}),f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Create your account"})]}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"FirstName"}),f.jsx("input",{id:"firstname",name:"firstname",type:"text",required:!0,value:m.firstname,onChange:_,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"LastName"}),f.jsx("input",{id:"lastname",name:"lastname",type:"text",required:!0,value:m.lastname,onChange:_,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),f.jsx("input",{id:"bussinessemail",name:"bussinessemail",type:"email",required:!0,value:m.bussinessemail,onChange:_,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),f.jsx("input",{id:"phonenumber",name:"phonenumber",type:"number",required:!0,value:m.phonenumber,onChange:_,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{id:"password",name:"password",type:i?"text":"password",required:!0,value:m.password,onChange:_,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 pr-10"}),f.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-500",children:i?f.jsx(tl,{className:"h-5 w-5"}):f.jsx(go,{className:"h-5 w-5"})})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:c?"text":"password",required:!0,value:m.confirmPassword,onChange:_,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 pr-10"}),f.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-500",children:c?f.jsx(tl,{className:"h-5 w-5"}):f.jsx(go,{className:"h-5 w-5"})})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company"}),f.jsx("input",{id:"company",name:"company",type:"text",required:!0,value:m.company,onChange:_,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"jobRole",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"JobRole"}),f.jsx("input",{id:"jobRole",name:"jobRole",type:"text",required:!0,value:m.jobRole,onChange:_,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"accept-terms",name:"acceptTerms",type:"checkbox",required:!0,checked:m.acceptTerms,onChange:_,className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),f.jsx("label",{htmlFor:"accept-terms",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"I accept the terms and conditions"})]})]}),f.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Register"}),f.jsx("div",{className:"text-center",children:f.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Already have an account?"," ",f.jsx("a",{href:"/login",className:"text-red-600 hover:text-red-500 font-medium",children:"Log in"})]})})]})]})})}function UF(i){throw new Error("Function not implemented.")}function HF(){const i=Xt(),[s,c]=F.useState({email:"",password:""}),[u,m]=F.useState(""),[k,w]=F.useState(!1),C=async b=>{b.preventDefault(),m(""),w(!0);try{const _=await he.post("http://143.198.212.38:5000/api/admin/login",s);localStorage.setItem("adminToken",_.data.token),i("/admin/dashboard")}catch{m("Invalid credentials")}finally{w(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:f.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx("div",{className:"p-3 bg-amber-100 rounded-full",children:f.jsx(I8,{className:"h-6 w-6 text-amber-600"})})}),f.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Admin Login"})]}),u&&f.jsx("div",{className:"bg-red-50 text-red-500 p-3 rounded-lg text-sm",children:u}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:C,children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),f.jsx("input",{id:"email",type:"email",required:!0,value:s.email,onChange:b=>c({...s,email:b.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-amber-500 focus:border-amber-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),f.jsx("input",{id:"password",type:"password",required:!0,value:s.password,onChange:b=>c({...s,password:b.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-amber-500 focus:border-amber-500"})]})]}),f.jsx("button",{type:"submit",disabled:k,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 disabled:opacity-50",children:k?"Logging in...":"Login"})]})]})})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function qF(){const i={resolve:null,promise:null};return i.promise=new Promise(s=>{i.resolve=s}),i}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function WF(i){let s=null;return(...c)=>(s||(s={current:i(...c)}),s.current)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Tt=new Array(256).fill("").map((i,s)=>("0"+s.toString(16)).slice(-2));function $F(){const[i,s,c,u]=crypto.getRandomValues(new Uint32Array(4));return"e"+Tt[i>>0&255]+Tt[i>>8&255]+Tt[i>>16&255]+Tt[i>>24&255]+Tt[s>>0&255]+Tt[s>>8&255]+Tt[s>>16&255]+Tt[s>>24&255]+Tt[c>>0&255]+Tt[c>>8&255]+Tt[c>>16&255]+Tt[c>>24&255]+Tt[u>>0&255]+Tt[u>>8&255]+Tt[u>>16&255]+Tt[u>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function GF(i,s){const c=i.extraPlugins||[];return{...i,extraPlugins:[...c,...s.filter(u=>!c.includes(u))]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function uD(i){return!!i&&/^\d+\.\d+\.\d+/.test(i)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function hD(i){return i?["nightly","alpha","internal","nightly-","staging"].some(s=>i.includes(s)):!1}function KF(i){return uD(i)||hD(i)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function QF(i){if(!uD(i))throw new Error(`Invalid semantic version: ${i||"<blank>"}.`);const[s,c,u]=i.split(".");return{major:Number.parseInt(s,10),minor:Number.parseInt(c,10),patch:Number.parseInt(u,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function YF(i){if(hD(i))return 3;const{major:s}=QF(i);switch(!0){case s>=44:return 3;case s>=38:return 2;default:return 1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ZF(){const{CKEDITOR_VERSION:i,CKEDITOR:s}=window;return KF(i)?{source:s?"cdn":"npm",version:i}:null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function JF(){const i=ZF();return i?YF(i.version):null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function mD(i,s){switch(s||(s=JF()||void 0),s){case 1:case 2:return i===void 0;case 3:return i==="GPL";default:return!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function XF(i,s){return function(u){mD(u.config.get("licenseKey"))||u.on("collectUsageData",(m,{setUsageData:k})=>{k(`integration.${i}`,s)})}}var eV=Object.defineProperty,tV=(i,s,c)=>s in i?eV(i,s,{enumerable:!0,configurable:!0,writable:!0,value:c}):i[s]=c,$t=(i,s,c)=>tV(i,typeof s!="symbol"?s+"":s,c);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const gD=class pD{constructor(s,c){$t(this,"_lifecycle"),$t(this,"_element"),$t(this,"_releaseLock",null),$t(this,"_value",null),$t(this,"_afterMountCallbacks",[]),$t(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),$t(this,"release",WF(()=>{const{_releaseLock:u,_state:m,_element:k,_lifecycle:w}=this;m.mountingInProgress?m.mountingInProgress.then(()=>w.unmount({element:k,mountResult:this.value})).catch(C=>{console.error("Semaphore unmounting error:",C)}).then(u.resolve).then(()=>{this._value=null}):(m.destroyedBeforeInitialization=!0,u.resolve())})),this._element=s,this._lifecycle=c,this._lock()}get value(){return this._value}unsafeSetValue(s){this._value=s,this._afterMountCallbacks.forEach(c=>c(s)),this._afterMountCallbacks=[]}runAfterMount(s){const{_value:c,_afterMountCallbacks:u}=this;c?s(c):u.push(s)}_lock(){const{_semaphores:s}=pD,{_state:c,_element:u,_lifecycle:m}=this,k=s.get(u)||Promise.resolve(null),w=qF();this._releaseLock=w;const C=k.then(()=>c.destroyedBeforeInitialization?Promise.resolve(void 0):(c.mountingInProgress=m.mount().then(b=>(b&&this.unsafeSetValue(b),b)),c.mountingInProgress)).then(async b=>{b&&m.afterMount&&await m.afterMount({element:u,mountResult:b})}).then(()=>w.promise).catch(b=>{console.error("Semaphore mounting error:",b)}).then(()=>{s.get(u)===C&&s.delete(u)});s.set(u,C)}};$t(gD,"_semaphores",new Map);let nV=gD;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const rV="$__CKEditorReactContextMetadata";function oV(i,s){return{...s,[rV]:i}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const iV=Ee.createContext(null),sV=i=>!!i&&typeof i=="object"&&"status"in i&&["initializing","initialized","error"].includes(i.status),fD=i=>s=>sV(s)&&s.status===i,t2=fD("initializing"),aV=i=>fD("initialized")(i)&&i.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const lV=XF("react",{version:"9.5.0",frameworkVersion:Ee.version});/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function cV(i){return mD(i.licenseKey)?i:GF(i,[lV])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const gg="Lock from React integration (@ckeditor/ckeditor5-react)";class kD extends Ee.Component{constructor(s){super(s),$t(this,"domContainer",Ee.createRef()),$t(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:s}=window;if(!s)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[c]=s.split(".").map(Number);c>=42||s.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:s}=this;return s?s.value:null}get watchdog(){const{_semaphoreValue:s}=this;return s?s.watchdog:null}get editor(){const{_semaphoreValue:s}=this;return s?s.instance:null}shouldComponentUpdate(s){const{props:c,editorSemaphore:u}=this;return s.id!==c.id||s.disableWatchdog!==c.disableWatchdog?!0:(u&&(u.runAfterMount(({instance:m})=>{this._shouldUpdateEditorData(c,s,m)&&m.data.set(s.data)}),"disabled"in s&&u.runAfterMount(({instance:m})=>{s.disabled?m.enableReadOnlyMode(gg):m.disableReadOnlyMode(gg)})),!1)}componentDidMount(){t2(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){t2(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new nV(this.domContainer.current,{mount:async()=>this._initializeEditor(),afterMount:({mountResult:s})=>{const{onReady:c}=this.props;c&&this.domContainer.current!==null&&c(s.instance)},unmount:async({element:s,mountResult:c})=>{const{onAfterDestroy:u}=this.props;try{await this._destroyEditor(c),s.innerHTML=""}finally{u&&u(c.instance)}}})}render(){return Ee.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const s=aV(this.context)?new dV(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),c={current:0};return s.setCreator(async(u,m)=>{var k;const{editorSemaphore:w}=this,{onAfterDestroy:C}=this.props;c.current>0&&C&&((k=w==null?void 0:w.value)!=null&&k.instance)&&C(w.value.instance);const b=await this._createEditor(u,m);return w&&c.current>0&&(w.unsafeSetValue({instance:b,watchdog:s}),setTimeout(()=>{this.props.onReady&&this.props.onReady(s.editor)})),c.current++,b}),s.on("error",(u,{error:m,causesRestart:k})=>{(this.props.onError||console.error)(m,{phase:"runtime",willEditorRestart:k})}),await s.create(this.domContainer.current,this._getConfig()).catch(u=>{(this.props.onError||console.error)(u,{phase:"initialization",willEditorRestart:!1})}),{watchdog:s,instance:s.editor}}_createEditor(s,c){const{contextItemMetadata:u}=this.props;return u&&(c=oV(u,c)),this.props.editor.create(s,cV(c)).then(m=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&m.enableReadOnlyMode(gg)}const k=m.model.document,w=m.editing.view.document;return k.on("change:data",C=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(C,m)}),w.on("focus",C=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(C,m)}),w.on("blur",C=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(C,m)}),m})}async _destroyEditor(s){const{watchdog:c,instance:u}=s;return new Promise((m,k)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(c)return await c.destroy(),m();if(u)return await u.destroy(),m();m()}catch(w){console.error(w),k(w)}})})}_shouldUpdateEditorData(s,c,u){return!(s.data===c.data||u.data.get()===c.data)}_getConfig(){const s=this.props.config||{};return this.props.data&&s.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...s,initialData:s.initialData||this.props.data||""}}}$t(kD,"contextType",iV);class dV{constructor(s){$t(this,"_contextWatchdog"),$t(this,"_id"),$t(this,"_creator"),this._contextWatchdog=s,this._id=$F()}setCreator(s){this._creator=s}create(s,c){return this._contextWatchdog.add({sourceElementOrData:s,config:c,creator:this._creator,id:this._id,type:"editor"})}on(s,c){this._contextWatchdog.on("itemError",(u,{itemId:m,error:k})=>{m===this._id&&c(null,{error:k,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function bD(...i){return s=>{i.forEach(c=>{typeof c=="function"?c(s):c!=null&&(c.current=s)})}}const uV=F.memo(F.forwardRef(({id:i,semaphore:s,rootName:c},u)=>{const m=F.useRef(null);return F.useEffect(()=>{let k,w;return s.runAfterMount(({instance:C})=>{if(!m.current)return;w=C;const{ui:b,model:_}=w,D=_.document.getRoot(c);D&&w.ui.getEditableElement(c)&&w.detachEditable(D),k=b.view.createEditable(c,m.current),b.addEditable(k),C.editing.view.forceRender()}),()=>{if(w&&w.state!=="destroyed"&&m.current){const C=w.model.document.getRoot(c);/* istanbul ignore else -- @preserve */C&&w.detachEditable(C)}}},[s.revision]),Ee.createElement("div",{key:s.revision,id:i,ref:bD(u,m)})}));uV.displayName="EditorEditable";const hV=F.forwardRef(({editor:i},s)=>{const c=F.useRef(null);return F.useEffect(()=>{const u=c.current;if(!i||!u)return;const m=i.ui.view.toolbar.element;return u.appendChild(m),()=>{u.contains(m)&&u.removeChild(m)}},[i&&i.id]),Ee.createElement("div",{ref:bD(c,s)})});hV.displayName="EditorToolbarWrapper";var Kd={exports:{}};Kd.exports;(function(i,s){(function(c){const u=c.en=c.en||{};u.dictionary=Object.assign(u.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent",Insert:"Insert","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lower–roman":"Lower–roman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower–latin list style":"Toggle the lower–latin list style","Toggle the lower–roman list style":"Toggle the lower–roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper–latin list style":"Toggle the upper–latin list style","Toggle the upper–roman list style":"Toggle the upper–roman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(c,u){i.exports=u()}(self,()=>(()=>{var c={9246:(w,C,b)=>{const _=b(6931),D={};for(const v of Object.keys(_))D[_[v]]=v;const x={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};w.exports=x;for(const v of Object.keys(x)){if(!("channels"in x[v]))throw new Error("missing channels property: "+v);if(!("labels"in x[v]))throw new Error("missing channel labels property: "+v);if(x[v].labels.length!==x[v].channels)throw new Error("channel and label counts mismatch: "+v);const{channels:S,labels:B}=x[v];delete x[v].channels,delete x[v].labels,Object.defineProperty(x[v],"channels",{value:S}),Object.defineProperty(x[v],"labels",{value:B})}x.rgb.hsl=function(v){const S=v[0]/255,B=v[1]/255,N=v[2]/255,L=Math.min(S,B,N),M=Math.max(S,B,N),j=M-L;let z,V;M===L?z=0:S===M?z=(B-N)/j:B===M?z=2+(N-S)/j:N===M&&(z=4+(S-B)/j),z=Math.min(60*z,360),z<0&&(z+=360);const H=(L+M)/2;return V=M===L?0:H<=.5?j/(M+L):j/(2-M-L),[z,100*V,100*H]},x.rgb.hsv=function(v){let S,B,N,L,M;const j=v[0]/255,z=v[1]/255,V=v[2]/255,H=Math.max(j,z,V),J=H-Math.min(j,z,V),P=function($){return(H-$)/6/J+.5};return J===0?(L=0,M=0):(M=J/H,S=P(j),B=P(z),N=P(V),j===H?L=N-B:z===H?L=.3333333333333333+S-N:V===H&&(L=.6666666666666666+B-S),L<0?L+=1:L>1&&(L-=1)),[360*L,100*M,100*H]},x.rgb.hwb=function(v){const S=v[0],B=v[1];let N=v[2];const L=x.rgb.hsl(v)[0],M=1/255*Math.min(S,Math.min(B,N));return N=1-.00392156862745098*Math.max(S,Math.max(B,N)),[L,100*M,100*N]},x.rgb.cmyk=function(v){const S=v[0]/255,B=v[1]/255,N=v[2]/255,L=Math.min(1-S,1-B,1-N);return[100*((1-S-L)/(1-L)||0),100*((1-B-L)/(1-L)||0),100*((1-N-L)/(1-L)||0),100*L]},x.rgb.keyword=function(v){const S=D[v];if(S)return S;let B,N=1/0;for(const j of Object.keys(_)){const z=_[j],V=(M=z,((L=v)[0]-M[0])**2+(L[1]-M[1])**2+(L[2]-M[2])**2);V<N&&(N=V,B=j)}var L,M;return B},x.keyword.rgb=function(v){return _[v]},x.rgb.xyz=function(v){let S=v[0]/255,B=v[1]/255,N=v[2]/255;return S=S>.04045?((S+.055)/1.055)**2.4:S/12.92,B=B>.04045?((B+.055)/1.055)**2.4:B/12.92,N=N>.04045?((N+.055)/1.055)**2.4:N/12.92,[100*(.4124*S+.3576*B+.1805*N),100*(.2126*S+.7152*B+.0722*N),100*(.0193*S+.1192*B+.9505*N)]},x.rgb.lab=function(v){const S=x.rgb.xyz(v);let B=S[0],N=S[1],L=S[2];return B/=95.047,N/=100,L/=108.883,B=B>.008856?B**.3333333333333333:7.787*B+.13793103448275862,N=N>.008856?N**.3333333333333333:7.787*N+.13793103448275862,L=L>.008856?L**.3333333333333333:7.787*L+.13793103448275862,[116*N-16,500*(B-N),200*(N-L)]},x.hsl.rgb=function(v){const S=v[0]/360,B=v[1]/100,N=v[2]/100;let L,M,j;if(B===0)return j=255*N,[j,j,j];L=N<.5?N*(1+B):N+B-N*B;const z=2*N-L,V=[0,0,0];for(let H=0;H<3;H++)M=S+.3333333333333333*-(H-1),M<0&&M++,M>1&&M--,j=6*M<1?z+6*(L-z)*M:2*M<1?L:3*M<2?z+(L-z)*(.6666666666666666-M)*6:z,V[H]=255*j;return V},x.hsl.hsv=function(v){const S=v[0];let B=v[1]/100,N=v[2]/100,L=B;const M=Math.max(N,.01);return N*=2,B*=N<=1?N:2-N,L*=M<=1?M:2-M,[S,100*(N===0?2*L/(M+L):2*B/(N+B)),100*((N+B)/2)]},x.hsv.rgb=function(v){const S=v[0]/60,B=v[1]/100;let N=v[2]/100;const L=Math.floor(S)%6,M=S-Math.floor(S),j=255*N*(1-B),z=255*N*(1-B*M),V=255*N*(1-B*(1-M));switch(N*=255,L){case 0:return[N,V,j];case 1:return[z,N,j];case 2:return[j,N,V];case 3:return[j,z,N];case 4:return[V,j,N];case 5:return[N,j,z]}},x.hsv.hsl=function(v){const S=v[0],B=v[1]/100,N=v[2]/100,L=Math.max(N,.01);let M,j;j=(2-B)*N;const z=(2-B)*L;return M=B*L,M/=z<=1?z:2-z,M=M||0,j/=2,[S,100*M,100*j]},x.hwb.rgb=function(v){const S=v[0]/360;let B=v[1]/100,N=v[2]/100;const L=B+N;let M;L>1&&(B/=L,N/=L);const j=Math.floor(6*S),z=1-N;M=6*S-j,1&j&&(M=1-M);const V=B+M*(z-B);let H,J,P;switch(j){default:case 6:case 0:H=z,J=V,P=B;break;case 1:H=V,J=z,P=B;break;case 2:H=B,J=z,P=V;break;case 3:H=B,J=V,P=z;break;case 4:H=V,J=B,P=z;break;case 5:H=z,J=B,P=V}return[255*H,255*J,255*P]},x.cmyk.rgb=function(v){const S=v[0]/100,B=v[1]/100,N=v[2]/100,L=v[3]/100;return[255*(1-Math.min(1,S*(1-L)+L)),255*(1-Math.min(1,B*(1-L)+L)),255*(1-Math.min(1,N*(1-L)+L))]},x.xyz.rgb=function(v){const S=v[0]/100,B=v[1]/100,N=v[2]/100;let L,M,j;return L=3.2406*S+-1.5372*B+-.4986*N,M=-.9689*S+1.8758*B+.0415*N,j=.0557*S+-.204*B+1.057*N,L=L>.0031308?1.055*L**.4166666666666667-.055:12.92*L,M=M>.0031308?1.055*M**.4166666666666667-.055:12.92*M,j=j>.0031308?1.055*j**.4166666666666667-.055:12.92*j,L=Math.min(Math.max(0,L),1),M=Math.min(Math.max(0,M),1),j=Math.min(Math.max(0,j),1),[255*L,255*M,255*j]},x.xyz.lab=function(v){let S=v[0],B=v[1],N=v[2];return S/=95.047,B/=100,N/=108.883,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,B=B>.008856?B**.3333333333333333:7.787*B+.13793103448275862,N=N>.008856?N**.3333333333333333:7.787*N+.13793103448275862,[116*B-16,500*(S-B),200*(B-N)]},x.lab.xyz=function(v){let S,B,N;B=(v[0]+16)/116,S=v[1]/500+B,N=B-v[2]/200;const L=B**3,M=S**3,j=N**3;return B=L>.008856?L:(B-.13793103448275862)/7.787,S=M>.008856?M:(S-.13793103448275862)/7.787,N=j>.008856?j:(N-.13793103448275862)/7.787,S*=95.047,B*=100,N*=108.883,[S,B,N]},x.lab.lch=function(v){const S=v[0],B=v[1],N=v[2];let L;return L=360*Math.atan2(N,B)/2/Math.PI,L<0&&(L+=360),[S,Math.sqrt(B*B+N*N),L]},x.lch.lab=function(v){const S=v[0],B=v[1],N=v[2]/360*2*Math.PI;return[S,B*Math.cos(N),B*Math.sin(N)]},x.rgb.ansi16=function(v,S=null){const[B,N,L]=v;let M=S===null?x.rgb.hsv(v)[2]:S;if(M=Math.round(M/50),M===0)return 30;let j=30+(Math.round(L/255)<<2|Math.round(N/255)<<1|Math.round(B/255));return M===2&&(j+=60),j},x.hsv.ansi16=function(v){return x.rgb.ansi16(x.hsv.rgb(v),v[2])},x.rgb.ansi256=function(v){const S=v[0],B=v[1],N=v[2];return S===B&&B===N?S<8?16:S>248?231:Math.round((S-8)/247*24)+232:16+36*Math.round(S/255*5)+6*Math.round(B/255*5)+Math.round(N/255*5)},x.ansi16.rgb=function(v){let S=v%10;if(S===0||S===7)return v>50&&(S+=3.5),S=S/10.5*255,[S,S,S];const B=.5*(1+~~(v>50));return[(1&S)*B*255,(S>>1&1)*B*255,(S>>2&1)*B*255]},x.ansi256.rgb=function(v){if(v>=232){const B=10*(v-232)+8;return[B,B,B]}let S;return v-=16,[Math.floor(v/36)/5*255,Math.floor((S=v%36)/6)/5*255,S%6/5*255]},x.rgb.hex=function(v){const S=(((255&Math.round(v[0]))<<16)+((255&Math.round(v[1]))<<8)+(255&Math.round(v[2]))).toString(16).toUpperCase();return"000000".substring(S.length)+S},x.hex.rgb=function(v){const S=v.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!S)return[0,0,0];let B=S[0];S[0].length===3&&(B=B.split("").map(L=>L+L).join(""));const N=parseInt(B,16);return[N>>16&255,N>>8&255,255&N]},x.rgb.hcg=function(v){const S=v[0]/255,B=v[1]/255,N=v[2]/255,L=Math.max(Math.max(S,B),N),M=Math.min(Math.min(S,B),N),j=L-M;let z,V;return z=j<1?M/(1-j):0,V=j<=0?0:L===S?(B-N)/j%6:L===B?2+(N-S)/j:4+(S-B)/j,V/=6,V%=1,[360*V,100*j,100*z]},x.hsl.hcg=function(v){const S=v[1]/100,B=v[2]/100,N=B<.5?2*S*B:2*S*(1-B);let L=0;return N<1&&(L=(B-.5*N)/(1-N)),[v[0],100*N,100*L]},x.hsv.hcg=function(v){const S=v[1]/100,B=v[2]/100,N=S*B;let L=0;return N<1&&(L=(B-N)/(1-N)),[v[0],100*N,100*L]},x.hcg.rgb=function(v){const S=v[0]/360,B=v[1]/100,N=v[2]/100;if(B===0)return[255*N,255*N,255*N];const L=[0,0,0],M=S%1*6,j=M%1,z=1-j;let V=0;switch(Math.floor(M)){case 0:L[0]=1,L[1]=j,L[2]=0;break;case 1:L[0]=z,L[1]=1,L[2]=0;break;case 2:L[0]=0,L[1]=1,L[2]=j;break;case 3:L[0]=0,L[1]=z,L[2]=1;break;case 4:L[0]=j,L[1]=0,L[2]=1;break;default:L[0]=1,L[1]=0,L[2]=z}return V=(1-B)*N,[255*(B*L[0]+V),255*(B*L[1]+V),255*(B*L[2]+V)]},x.hcg.hsv=function(v){const S=v[1]/100,B=S+v[2]/100*(1-S);let N=0;return B>0&&(N=S/B),[v[0],100*N,100*B]},x.hcg.hsl=function(v){const S=v[1]/100,B=v[2]/100*(1-S)+.5*S;let N=0;return B>0&&B<.5?N=S/(2*B):B>=.5&&B<1&&(N=S/(2*(1-B))),[v[0],100*N,100*B]},x.hcg.hwb=function(v){const S=v[1]/100,B=S+v[2]/100*(1-S);return[v[0],100*(B-S),100*(1-B)]},x.hwb.hcg=function(v){const S=v[1]/100,B=1-v[2]/100,N=B-S;let L=0;return N<1&&(L=(B-N)/(1-N)),[v[0],100*N,100*L]},x.apple.rgb=function(v){return[v[0]/65535*255,v[1]/65535*255,v[2]/65535*255]},x.rgb.apple=function(v){return[v[0]/255*65535,v[1]/255*65535,v[2]/255*65535]},x.gray.rgb=function(v){return[v[0]/100*255,v[0]/100*255,v[0]/100*255]},x.gray.hsl=function(v){return[0,0,v[0]]},x.gray.hsv=x.gray.hsl,x.gray.hwb=function(v){return[0,100,v[0]]},x.gray.cmyk=function(v){return[0,0,0,v[0]]},x.gray.lab=function(v){return[v[0],0,0]},x.gray.hex=function(v){const S=255&Math.round(v[0]/100*255),B=((S<<16)+(S<<8)+S).toString(16).toUpperCase();return"000000".substring(B.length)+B},x.rgb.gray=function(v){return[(v[0]+v[1]+v[2])/3/255*100]}},9047:(w,C,b)=>{const _=b(9246),D=b(802),x={};Object.keys(_).forEach(v=>{x[v]={},Object.defineProperty(x[v],"channels",{value:_[v].channels}),Object.defineProperty(x[v],"labels",{value:_[v].labels});const S=D(v);Object.keys(S).forEach(B=>{const N=S[B];x[v][B]=function(L){const M=function(...j){const z=j[0];if(z==null)return z;z.length>1&&(j=z);const V=L(j);if(typeof V=="object")for(let H=V.length,J=0;J<H;J++)V[J]=Math.round(V[J]);return V};return"conversion"in L&&(M.conversion=L.conversion),M}(N),x[v][B].raw=function(L){const M=function(...j){const z=j[0];return z==null?z:(z.length>1&&(j=z),L(j))};return"conversion"in L&&(M.conversion=L.conversion),M}(N)})}),w.exports=x},802:(w,C,b)=>{const _=b(9246);function D(S){const B=function(){const L={},M=Object.keys(_);for(let j=M.length,z=0;z<j;z++)L[M[z]]={distance:-1,parent:null};return L}(),N=[S];for(B[S].distance=0;N.length;){const L=N.pop(),M=Object.keys(_[L]);for(let j=M.length,z=0;z<j;z++){const V=M[z],H=B[V];H.distance===-1&&(H.distance=B[L].distance+1,H.parent=L,N.unshift(V))}}return B}function x(S,B){return function(N){return B(S(N))}}function v(S,B){const N=[B[S].parent,S];let L=_[B[S].parent][S],M=B[S].parent;for(;B[M].parent;)N.unshift(B[M].parent),L=x(_[B[M].parent][M],L),M=B[M].parent;return L.conversion=N,L}w.exports=function(S){const B=D(S),N={},L=Object.keys(B);for(let M=L.length,j=0;j<M;j++){const z=L[j];B[z].parent!==null&&(N[z]=v(z,B))}return N}},6931:w=>{w.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const S=v},8708:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const S=v},1866:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const S=v},7793:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const S=v},7388:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDeC,CAjBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAcF,CAjBA,8DAOC,wCAAsB,CAAtB,sBAUD,CARC,8FACC,uBACD,CAEA,qJAEC,QACD,CAMH,yCAEC,0CAA2C,CCtB3C,eDgCD,CAZA,yHChBE,qCAAsC,CDqBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar,
			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=v},4098:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const S=v},8264:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const S=v},6269:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const S=v},265:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const S=v},5247:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const S=v},4642:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=v},3350:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-url {
	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const S=v},7378:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const S=v},3469:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const S=v},6386:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const S=v},7693:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const S=v},1559:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const S=v},2267:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const S=v},4062:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=v},7719:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const S=v},8762:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const S=v},3817:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const S=v},4808:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,k2BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const S=v},1232:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const S=v},6903:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const S=v},9968:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const S=v},7141:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const S=v},8991:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAFA,wDApEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAoEA,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAFA,wGAtGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAsGD,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const S=v},70:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const S=v},7048:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,goGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,o+GACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,g/BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not read–only.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const S=v},5651:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=v},5506:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=v},4043:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const S=v},2655:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const S=v},5032:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const S=v},2329:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const S=v},4143:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const S=v},8986:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const S=v},8795:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const S=v},8137:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const S=v},1623:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8ECxCD,eD6DC,CArBA,mMCpCA,qCDyDA,CArBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=v},5562:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const S=v},8423:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const S=v},1801:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const S=v},5727:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=v},9715:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD+ID,CC5IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eFgJD,CA/IA,wIEGE,qCF4IF,CA/IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBA0ID,CAhHC,uCA/BD,6BAgCE,eA+GF,CA9GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCClIA,+CDsIA,CCnIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDmHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CClJC,mDDuJD,CCpJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDmID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const S=v},4391:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eDgFA,CA5CA,yIChCC,qCD4ED,CA5CA,2DAKE,gBAuCF,CA5CA,2DAUE,iBAkCF,CA5CA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CA2BD,CAxBC,2ECxDD,eDuEC,CAfA,6LCpDA,qCAAsC,CDsDpC,8CAaF,CAfA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CAHC,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEpFA,kCFsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floating–point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const S=v},25:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-list-button-padding);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const S=v},7317:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const S=v},1905:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const S=v},6309:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const S=v},9819:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cEfC,oCAA8B,CFmB9B,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;

		& .ck-form__header__label {
			cursor: grab;
		}
	}

	@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=v},9822:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const S=v},8149:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=v},3629:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=v},1792:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=v},1666:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const S=v},8527:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=v},1185:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=v},7913:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const S=v},9529:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const S=v},7621:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const S=v},253:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eDmDD,CA9CA,iECDE,qCD+CF,CA9CA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CAhCC,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=v},7801:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const S=v},4962:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CA9GA,2FCDE,qCD+GF,CA3GC,mEACC,UAwCD,CAtCC,gFACC,KAoCD,CArCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBAgCF,CArCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAyBF,CArCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAQD,CAHC,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=v},5199:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& > .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=v},497:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const S=v},4:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const S=v},3344:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		padding: var(--ck-list-button-padding);
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}

		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			& > .ck-menu-bar__menu__button__arrow {
				right: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);
			}
		}

		@mixin ck-dir rtl {
			& > .ck-menu-bar__menu__button__arrow {
				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const S=v},9481:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const S=v},977:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names:[],mappings:"AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* These margins are the same as for .ck-icon. */
			margin-left: calc(-1 * var(--ck-spacing-small));
			margin-right: var(--ck-spacing-small);
		}

		/*
		 * Hovered items automatically get focused. Default focus styles look odd
		 * while moving across a huge list of items so let's get rid of them
		 */
		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}
	}

	/*
	 * First-level sub-menu item buttons.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {
		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}
	}
}


`],sourceRoot:""}]);const S=v},9108:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=v},3710:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=v},991:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const S=v},5380:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=v},8298:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const S=v},2722:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const S=v},8107:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const S=v},109:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCAAsC,CADtC,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const S=v},1671:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const S=v},2710:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const S=v},9677:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const S=v},9205:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const S=v},7676:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const S=v},695:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAYD,CARC,yGCnCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YD2CA,CGvCA,4BACC,yGHoCC,iEGlCD,CACD,CHuCA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const S=v},4095:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const S=v},8508:(w,C,b)=>{b.d(C,{A:()=>S});var _=b(9372),D=b.n(_),x=b(935),v=b.n(x)()(D());v.push([w.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const S=v},935:w=>{w.exports=function(C){var b=[];return b.toString=function(){return this.map(function(_){var D=C(_);return _[2]?"@media ".concat(_[2]," {").concat(D,"}"):D}).join("")},b.i=function(_,D,x){typeof _=="string"&&(_=[[null,_,""]]);var v={};if(x)for(var S=0;S<this.length;S++){var B=this[S][0];B!=null&&(v[B]=!0)}for(var N=0;N<_.length;N++){var L=[].concat(_[N]);x&&v[L[0]]||(D&&(L[2]?L[2]="".concat(D," and ").concat(L[2]):L[2]=D),b.push(L))}},b}},9372:w=>{function C(_,D){return function(x){if(Array.isArray(x))return x}(_)||function(x,v){var S=x&&(typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"]);if(S!=null){var B,N,L=[],M=!0,j=!1;try{for(S=S.call(x);!(M=(B=S.next()).done)&&(L.push(B.value),!v||L.length!==v);M=!0);}catch(z){j=!0,N=z}finally{try{M||S.return==null||S.return()}finally{if(j)throw N}}return L}}(_,D)||function(x,v){if(x){if(typeof x=="string")return b(x,v);var S=Object.prototype.toString.call(x).slice(8,-1);if(S==="Object"&&x.constructor&&(S=x.constructor.name),S==="Map"||S==="Set")return Array.from(x);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return b(x,v)}}(_,D)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function b(_,D){(D==null||D>_.length)&&(D=_.length);for(var x=0,v=new Array(D);x<D;x++)v[x]=_[x];return v}w.exports=function(_){var D=C(_,4),x=D[1],v=D[3];if(!v)return x;if(typeof btoa=="function"){var S=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),B="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(S),N="/*# ".concat(B," */"),L=v.sources.map(function(M){return"/*# sourceURL=".concat(v.sourceRoot||"").concat(M," */")});return[x].concat(L).concat([N]).join(`
`)}return[x].join(`
`)}},2591:(w,C,b)=>{var _,D=function(){return _===void 0&&(_=!!(window&&document&&document.all&&!window.atob)),_},x=function(){var P={};return function($){if(P[$]===void 0){var ae=document.querySelector($);if(window.HTMLIFrameElement&&ae instanceof window.HTMLIFrameElement)try{ae=ae.contentDocument.head}catch{ae=null}P[$]=ae}return P[$]}}(),v=[];function S(P){for(var $=-1,ae=0;ae<v.length;ae++)if(v[ae].identifier===P){$=ae;break}return $}function B(P,$){for(var ae={},ne=[],pe=0;pe<P.length;pe++){var ye=P[pe],re=$.base?ye[0]+$.base:ye[0],xe=ae[re]||0,q="".concat(re," ").concat(xe);ae[re]=xe+1;var Q=S(q),de={css:ye[1],media:ye[2],sourceMap:ye[3]};Q!==-1?(v[Q].references++,v[Q].updater(de)):v.push({identifier:q,updater:J(de,$),references:1}),ne.push(q)}return ne}function N(P){var $=document.createElement("style"),ae=P.attributes||{};if(ae.nonce===void 0){var ne=b.nc;ne&&(ae.nonce=ne)}if(Object.keys(ae).forEach(function(ye){$.setAttribute(ye,ae[ye])}),typeof P.insert=="function")P.insert($);else{var pe=x(P.insert||"head");if(!pe)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");pe.appendChild($)}return $}var L,M=(L=[],function(P,$){return L[P]=$,L.filter(Boolean).join(`
`)});function j(P,$,ae,ne){var pe=ae?"":ne.media?"@media ".concat(ne.media," {").concat(ne.css,"}"):ne.css;if(P.styleSheet)P.styleSheet.cssText=M($,pe);else{var ye=document.createTextNode(pe),re=P.childNodes;re[$]&&P.removeChild(re[$]),re.length?P.insertBefore(ye,re[$]):P.appendChild(ye)}}function z(P,$,ae){var ne=ae.css,pe=ae.media,ye=ae.sourceMap;if(pe?P.setAttribute("media",pe):P.removeAttribute("media"),ye&&typeof btoa<"u"&&(ne+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(ye))))," */")),P.styleSheet)P.styleSheet.cssText=ne;else{for(;P.firstChild;)P.removeChild(P.firstChild);P.appendChild(document.createTextNode(ne))}}var V=null,H=0;function J(P,$){var ae,ne,pe;if($.singleton){var ye=H++;ae=V||(V=N($)),ne=j.bind(null,ae,ye,!1),pe=j.bind(null,ae,ye,!0)}else ae=N($),ne=z.bind(null,ae,$),pe=function(){(function(re){if(re.parentNode===null)return!1;re.parentNode.removeChild(re)})(ae)};return ne(P),function(re){if(re){if(re.css===P.css&&re.media===P.media&&re.sourceMap===P.sourceMap)return;ne(P=re)}else pe()}}w.exports=function(P,$){($=$||{}).singleton||typeof $.singleton=="boolean"||($.singleton=D());var ae=B(P=P||[],$);return function(ne){if(ne=ne||[],Object.prototype.toString.call(ne)==="[object Array]"){for(var pe=0;pe<ae.length;pe++){var ye=S(ae[pe]);v[ye].references--}for(var re=B(ne,$),xe=0;xe<ae.length;xe++){var q=S(ae[xe]);v[q].references===0&&(v[q].updater(),v.splice(q,1))}ae=re}}}}},u={};function m(w){var C=u[w];if(C!==void 0)return C.exports;var b=u[w]={id:w,exports:{}};return c[w](b,b.exports,m),b.exports}m.n=w=>{var C=w&&w.__esModule?()=>w.default:()=>w;return m.d(C,{a:C}),C},m.d=(w,C)=>{for(var b in C)m.o(C,b)&&!m.o(w,b)&&Object.defineProperty(w,b,{enumerable:!0,get:C[b]})},m.o=(w,C)=>Object.prototype.hasOwnProperty.call(w,C),m.nc=void 0;var k={};return(()=>{let w;m.d(k,{default:()=>Lm});try{w={window,document}}catch{w={window:{},document:{}}}const C=w,b=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var _;const D={isMac:x(b),isWindows:(_=b,_.indexOf("windows")>-1),isGecko:function(r){return!!r.match(/gecko\/\d+/)}(b),isSafari:function(r){return r.indexOf(" applewebkit/")>-1&&r.indexOf("chrome")===-1}(b),isiOS:function(r){return!!r.match(/iphone|ipad/i)||x(r)&&navigator.maxTouchPoints>0}(b),isAndroid:function(r){return r.indexOf("android")>-1}(b),isBlink:function(r){return r.indexOf("chrome/")>-1&&r.indexOf("edge/")<0}(b),get isMediaForcedColors(){return!!C.window.matchMedia&&C.window.matchMedia("(forced-colors: active)").matches},get isMotionReduced(){return!!C.window.matchMedia&&C.window.matchMedia("(prefers-reduced-motion)").matches},features:{isRegExpUnicodePropertySupported:function(){let r=!1;try{r="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return r}()}};function x(r){return r.indexOf("macintosh")>-1}function v(r,e,t,n){t=t||function(h,g){return h===g};const o=Array.isArray(r)?r:Array.prototype.slice.call(r),a=Array.isArray(e)?e:Array.prototype.slice.call(e),l=function(h,g,p){const A=S(h,g,p);if(A===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const y=B(h,A),E=B(g,A),I=S(y,E,p),T=h.length-I,O=g.length-I;return{firstIndex:A,lastIndexOld:T,lastIndexNew:O}}(o,a,t);return n?function(h,g){const{firstIndex:p,lastIndexOld:A,lastIndexNew:y}=h;if(p===-1)return Array(g).fill("equal");let E=[];return p>0&&(E=E.concat(Array(p).fill("equal"))),y-p>0&&(E=E.concat(Array(y-p).fill("insert"))),A-p>0&&(E=E.concat(Array(A-p).fill("delete"))),y<g&&(E=E.concat(Array(g-y).fill("equal"))),E}(l,a.length):function(h,g){const p=[],{firstIndex:A,lastIndexOld:y,lastIndexNew:E}=g;return E-A>0&&p.push({index:A,type:"insert",values:h.slice(A,E)}),y-A>0&&p.push({index:A+(E-A),type:"delete",howMany:y-A}),p}(a,l)}function S(r,e,t){for(let n=0;n<Math.max(r.length,e.length);n++)if(r[n]===void 0||e[n]===void 0||!t(r[n],e[n]))return n;return-1}function B(r,e){return r.slice(e).reverse()}function N(r,e,t){t=t||function(T,O){return T===O};const n=r.length,o=e.length;if(n>200||o>200||n+o>300)return N.fastDiff(r,e,t,!0);let a,l;if(o<n){const T=r;r=e,e=T,a="delete",l="insert"}else a="insert",l="delete";const d=r.length,h=e.length,g=h-d,p={},A={};function y(T){const O=(A[T-1]!==void 0?A[T-1]:-1)+1,R=A[T+1]!==void 0?A[T+1]:-1,U=O>R?-1:1;p[T+U]&&(p[T]=p[T+U].slice(0)),p[T]||(p[T]=[]),p[T].push(O>R?a:l);let W=Math.max(O,R),Z=W-T;for(;Z<d&&W<h&&t(r[Z],e[W]);)Z++,W++,p[T].push("equal");return W}let E,I=0;do{for(E=-I;E<g;E++)A[E]=y(E);for(E=g+I;E>g;E--)A[E]=y(E);A[g]=y(g),I++}while(A[g]!==h);return p[g].slice(1)}N.fastDiff=v;const L=function(){return function r(){r.called=!0}};class M{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=L(),this.off=L()}}const j=new Array(256).fill("").map((r,e)=>("0"+e.toString(16)).slice(-2));function z(){const r=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0;return"e"+j[255&r]+j[r>>8&255]+j[r>>16&255]+j[r>>24&255]+j[255&e]+j[e>>8&255]+j[e>>16&255]+j[e>>24&255]+j[255&t]+j[t>>8&255]+j[t>>16&255]+j[t>>24&255]+j[255&n]+j[n>>8&255]+j[n>>16&255]+j[n>>24&255]}const V={get(r="normal"){return typeof r!="number"?this[r]||this.normal:r},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function H(r,e){const t=V.get(e.priority);for(let n=0;n<r.length;n++)if(V.get(r[n].priority)<t)return void r.splice(n,0,e);r.push(e)}const J="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class P extends Error{constructor(e,t,n){super(function(o,a){const l=new WeakSet,d=(p,A)=>{if(typeof A=="object"&&A!==null){if(l.has(A))return`[object ${A.constructor.name}]`;l.add(A)}return A},h=a?` ${JSON.stringify(a,d)}`:"",g=ne(o);return o+h+g}(e,n)),this.name="CKEditorError",this.context=t,this.data=n}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const n=new P(e.message,t);throw n.stack=e.stack,n}}function $(r,e){console.warn(...pe(r,e))}function ae(r,e){console.error(...pe(r,e))}function ne(r){return`
Read more: ${J}#error-${r}`}function pe(r,e){const t=ne(r);return e?[r,e,t]:[r,t]}const ye="41.4.2",re=new Date(2024,4,17);if(globalThis.CKEDITOR_VERSION)throw new P("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=ye;const xe=Symbol("listeningTo"),q=Symbol("emitterId"),Q=Symbol("delegations"),de=K(Object);function K(r){return r?class extends r{on(e,t,n){this.listenTo(this,e,t,n)}once(e,t,n){let o=!1;this.listenTo(this,e,(a,...l)=>{o||(o=!0,a.off(),t.call(this,a,...l))},n)}off(e,t){this.stopListening(this,e,t)}listenTo(e,t,n,o={}){let a,l;this[xe]||(this[xe]={});const d=this[xe];me(e)||ce(e);const h=me(e);(a=d[h])||(a=d[h]={emitter:e,callbacks:{}}),(l=a.callbacks[t])||(l=a.callbacks[t]=[]),l.push(n),function(g,p,A,y,E){p._addEventListener?p._addEventListener(A,y,E):g._addEventListener.call(p,A,y,E)}(this,e,t,n,o)}stopListening(e,t,n){const o=this[xe];let a=e&&me(e);const l=o&&a?o[a]:void 0,d=l&&t?l.callbacks[t]:void 0;if(!(!o||e&&!l||t&&!d))if(n)Ao(this,e,t,n),d.indexOf(n)!==-1&&(d.length===1?delete l.callbacks[t]:Ao(this,e,t,n));else if(d){for(;n=d.pop();)Ao(this,e,t,n);delete l.callbacks[t]}else if(l){for(t in l.callbacks)this.stopListening(e,t);delete o[a]}else{for(a in o)this.stopListening(o[a].emitter);delete this[xe]}}fire(e,...t){try{const n=e instanceof M?e:new M(this,e),o=n.name;let a=vt(this,o);if(n.path.push(this),a){const d=[n,...t];a=Array.from(a);for(let h=0;h<a.length&&(a[h].callback.apply(this,d),n.off.called&&(delete n.off.called,this._removeEventListener(o,a[h].callback)),!n.stop.called);h++);}const l=this[Q];if(l){const d=l.get(o),h=l.get("*");d&&bn(d,n,t),h&&bn(h,n,t)}return n.return}catch(n){P.rethrowUnexpectedError(n,this)}}delegate(...e){return{to:(t,n)=>{this[Q]||(this[Q]=new Map),e.forEach(o=>{const a=this[Q].get(o);a?a.set(t,n):this[Q].set(o,new Map([[t,n]]))})}}}stopDelegating(e,t){if(this[Q])if(e)if(t){const n=this[Q].get(e);n&&n.delete(t)}else this[Q].delete(e);else this[Q].clear()}_addEventListener(e,t,n){(function(l,d){const h=oe(l);if(h[d])return;let g=d,p=null;const A=[];for(;g!==""&&!h[g];)h[g]={callbacks:[],childEvents:[]},A.push(h[g]),p&&h[g].childEvents.push(p),p=g,g=g.substr(0,g.lastIndexOf(":"));if(g!==""){for(const y of A)y.callbacks=h[g].callbacks.slice();h[g].childEvents.push(p)}})(this,e);const o=Ae(this,e),a={callback:t,priority:V.get(n.priority)};for(const l of o)H(l,a)}_removeEventListener(e,t){const n=Ae(this,e);for(const o of n)for(let a=0;a<o.length;a++)o[a].callback==t&&(o.splice(a,1),a--)}}:de}function ce(r,e){r[q]||(r[q]=e||z())}function me(r){return r[q]}function oe(r){return r._events||Object.defineProperty(r,"_events",{value:{}}),r._events}function Ae(r,e){const t=oe(r)[e];if(!t)return[];let n=[t.callbacks];for(let o=0;o<t.childEvents.length;o++){const a=Ae(r,t.childEvents[o]);n=n.concat(a)}return n}function vt(r,e){let t;return r._events&&(t=r._events[e])&&t.callbacks.length?t.callbacks:e.indexOf(":")>-1?vt(r,e.substr(0,e.lastIndexOf(":"))):null}function bn(r,e,t){for(let[n,o]of r){o?typeof o=="function"&&(o=o(e.name)):o=e.name;const a=new M(e.source,o);a.path=[...e.path],n.fire(a,...t)}}function Ao(r,e,t,n){e._removeEventListener?e._removeEventListener(t,n):r._removeEventListener.call(e,t,n)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{K[r]=de.prototype[r]});const Te=function(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")},hr=Symbol("observableProperties"),hl=Symbol("boundObservables"),ml=Symbol("boundProperties"),si=Symbol("decoratedMethods"),yf=Symbol("decoratedOriginal"),_f=Re(K());function Re(r){return r?class extends r{set(e,t){if(Te(e))return void Object.keys(e).forEach(o=>{this.set(o,e[o])},this);yu(this);const n=this[hr];if(e in this&&!n.has(e))throw new P("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>n.get(e),set(o){const a=n.get(e);let l=this.fire(`set:${e}`,e,o,a);l===void 0&&(l=o),a===l&&n.has(e)||(n.set(e,l),this.fire(`change:${e}`,e,l,a))}}),this[e]=t}bind(...e){if(!e.length||!xf(e))throw new P("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new P("observable-bind-duplicate-properties",this);yu(this);const t=this[ml];e.forEach(o=>{if(t.has(o))throw new P("observable-bind-rebind",this)});const n=new Map;return e.forEach(o=>{const a={property:o,to:[]};t.set(o,a),n.set(o,a)}),{to:wD,toMany:AD,_observable:this,_bindProperties:e,_to:[],_bindings:n}}unbind(...e){if(!this[hr])return;const t=this[ml],n=this[hl];if(e.length){if(!xf(e))throw new P("observable-unbind-wrong-properties",this);e.forEach(o=>{const a=t.get(o);a&&(a.to.forEach(([l,d])=>{const h=n.get(l),g=h[d];g.delete(a),g.size||delete h[d],Object.keys(h).length||(n.delete(l),this.stopListening(l,"change"))}),t.delete(o))})}else n.forEach((o,a)=>{this.stopListening(a,"change")}),n.clear(),t.clear()}decorate(e){yu(this);const t=this[e];if(!t)throw new P("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(n,o)=>{n.return=t.apply(this,o)}),this[e]=function(...n){return this.fire(e,n)},this[e][yf]=t,this[si]||(this[si]=[]),this[si].push(e)}stopListening(e,t,n){if(!e&&this[si]){for(const o of this[si])this[o]=this[o][yf];delete this[si]}super.stopListening(e,t,n)}}:_f}function yu(r){r[hr]||(Object.defineProperty(r,hr,{value:new Map}),Object.defineProperty(r,hl,{value:new Map}),Object.defineProperty(r,ml,{value:new Map}))}function wD(...r){const e=function(...a){if(!a.length)throw new P("observable-bind-to-parse-error",null);const l={to:[]};let d;return typeof a[a.length-1]=="function"&&(l.callback=a.pop()),a.forEach(h=>{if(typeof h=="string")d.properties.push(h);else{if(typeof h!="object")throw new P("observable-bind-to-parse-error",null);d={observable:h,properties:[]},l.to.push(d)}}),l}(...r),t=Array.from(this._bindings.keys()),n=t.length;if(!e.callback&&e.to.length>1)throw new P("observable-bind-to-no-callback",this);if(n>1&&e.callback)throw new P("observable-bind-to-extra-callback",this);var o;e.to.forEach(a=>{if(a.properties.length&&a.properties.length!==n)throw new P("observable-bind-to-properties-length",this);a.properties.length||(a.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),o=this._observable,this._to.forEach(a=>{const l=o[hl];let d;l.get(a.observable)||o.listenTo(a.observable,"change",(h,g)=>{d=l.get(a.observable)[g],d&&d.forEach(p=>{Ef(o,p.property)})})}),function(a){let l;a._bindings.forEach((d,h)=>{a._to.forEach(g=>{l=g.properties[d.callback?0:a._bindProperties.indexOf(h)],d.to.push([g.observable,l]),function(p,A,y,E){const I=p[hl],T=I.get(y),O=T||{};O[E]||(O[E]=new Set),O[E].add(A),T||I.set(y,O)}(a._observable,d,g.observable,l)})})}(this),this._bindProperties.forEach(a=>{Ef(this._observable,a)})}function AD(r,e,t){if(this._bindings.size>1)throw new P("observable-bind-to-many-not-one-binding",this);this.to(...function(n,o){const a=n.map(l=>[l,o]);return Array.prototype.concat.apply([],a)}(r,e),t)}function xf(r){return r.every(e=>typeof e=="string")}function Ef(r,e){const t=r[ml].get(e);let n;t.callback?n=t.callback.apply(r,t.to.map(o=>o[0][o[1]])):(n=t.to[0],n=n[0][n[1]]),Object.prototype.hasOwnProperty.call(r,e)?r[e]=n:r.set(e,n)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{Re[r]=_f.prototype[r]});class CD{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}}function _u(r){let e=0;for(const t of r)e++;return e}function Pt(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++)if(r[n]!=e[n])return n;return r.length==e.length?"same":r.length<e.length?"prefix":"extension"}function tn(r){return!(!r||!r[Symbol.iterator])}const Df=typeof Pc=="object"&&Pc&&Pc.Object===Object&&Pc;var vD=typeof self=="object"&&self&&self.Object===Object&&self;const jn=Df||vD||Function("return this")(),Xn=jn.Symbol;var Sf=Object.prototype,yD=Sf.hasOwnProperty,_D=Sf.toString,_s=Xn?Xn.toStringTag:void 0;const xD=function(r){var e=yD.call(r,_s),t=r[_s];try{r[_s]=void 0;var n=!0}catch{}var o=_D.call(r);return n&&(e?r[_s]=t:delete r[_s]),o};var ED=Object.prototype.toString;const DD=function(r){return ED.call(r)};var If=Xn?Xn.toStringTag:void 0;const Lr=function(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":If&&If in Object(r)?xD(r):DD(r)},nn=Array.isArray,wn=function(r){return r!=null&&typeof r=="object"},Tf=function(r){return typeof r=="string"||!nn(r)&&wn(r)&&Lr(r)=="[object String]"};function An(r,e,t={},n=[]){const o=t&&t.xmlns,a=o?r.createElementNS(o,e):r.createElement(e);for(const l in t)a.setAttribute(l,t[l]);!Tf(n)&&tn(n)||(n=[n]);for(let l of n)Tf(l)&&(l=r.createTextNode(l)),a.appendChild(l);return a}const Nf=function(r,e){return function(t){return r(e(t))}},xu=Nf(Object.getPrototypeOf,Object);var SD=Function.prototype,ID=Object.prototype,Mf=SD.toString,TD=ID.hasOwnProperty,ND=Mf.call(Object);const rn=function(r){if(!wn(r)||Lr(r)!="[object Object]")return!1;var e=xu(r);if(e===null)return!0;var t=TD.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Mf.call(t)==ND},MD=function(){this.__data__=[],this.size=0},xs=function(r,e){return r===e||r!=r&&e!=e},gl=function(r,e){for(var t=r.length;t--;)if(xs(r[t][0],e))return t;return-1};var BD=Array.prototype.splice;const jD=function(r){var e=this.__data__,t=gl(e,r);return!(t<0)&&(t==e.length-1?e.pop():BD.call(e,t,1),--this.size,!0)},PD=function(r){var e=this.__data__,t=gl(e,r);return t<0?void 0:e[t][1]},LD=function(r){return gl(this.__data__,r)>-1},OD=function(r,e){var t=this.__data__,n=gl(t,r);return n<0?(++this.size,t.push([r,e])):t[n][1]=e,this};function ai(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}ai.prototype.clear=MD,ai.prototype.delete=jD,ai.prototype.get=PD,ai.prototype.has=LD,ai.prototype.set=OD;const pl=ai,zD=function(){this.__data__=new pl,this.size=0},RD=function(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t},FD=function(r){return this.__data__.get(r)},VD=function(r){return this.__data__.has(r)},Co=function(r){if(!Te(r))return!1;var e=Lr(r);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Eu=jn["__core-js_shared__"];var Bf=function(){var r=/[^.]+$/.exec(Eu&&Eu.keys&&Eu.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();const UD=function(r){return!!Bf&&Bf in r};var HD=Function.prototype.toString;const vo=function(r){if(r!=null){try{return HD.call(r)}catch{}try{return r+""}catch{}}return""};var qD=/^\[object .+?Constructor\]$/,WD=Function.prototype,$D=Object.prototype,GD=WD.toString,KD=$D.hasOwnProperty,QD=RegExp("^"+GD.call(KD).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const YD=function(r){return!(!Te(r)||UD(r))&&(Co(r)?QD:qD).test(vo(r))},ZD=function(r,e){return r==null?void 0:r[e]},yo=function(r,e){var t=ZD(r,e);return YD(t)?t:void 0},Es=yo(jn,"Map"),Ds=yo(Object,"create"),JD=function(){this.__data__=Ds?Ds(null):{},this.size=0},XD=function(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e};var eS=Object.prototype.hasOwnProperty;const tS=function(r){var e=this.__data__;if(Ds){var t=e[r];return t==="__lodash_hash_undefined__"?void 0:t}return eS.call(e,r)?e[r]:void 0};var nS=Object.prototype.hasOwnProperty;const rS=function(r){var e=this.__data__;return Ds?e[r]!==void 0:nS.call(e,r)},oS=function(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=Ds&&e===void 0?"__lodash_hash_undefined__":e,this};function li(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}li.prototype.clear=JD,li.prototype.delete=XD,li.prototype.get=tS,li.prototype.has=rS,li.prototype.set=oS;const jf=li,iS=function(){this.size=0,this.__data__={hash:new jf,map:new(Es||pl),string:new jf}},sS=function(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null},fl=function(r,e){var t=r.__data__;return sS(e)?t[typeof e=="string"?"string":"hash"]:t.map},aS=function(r){var e=fl(this,r).delete(r);return this.size-=e?1:0,e},lS=function(r){return fl(this,r).get(r)},cS=function(r){return fl(this,r).has(r)},dS=function(r,e){var t=fl(this,r),n=t.size;return t.set(r,e),this.size+=t.size==n?0:1,this};function ci(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}ci.prototype.clear=iS,ci.prototype.delete=aS,ci.prototype.get=lS,ci.prototype.has=cS,ci.prototype.set=dS;const kl=ci,uS=function(r,e){var t=this.__data__;if(t instanceof pl){var n=t.__data__;if(!Es||n.length<199)return n.push([r,e]),this.size=++t.size,this;t=this.__data__=new kl(n)}return t.set(r,e),this.size=t.size,this};function di(r){var e=this.__data__=new pl(r);this.size=e.size}di.prototype.clear=zD,di.prototype.delete=RD,di.prototype.get=FD,di.prototype.has=VD,di.prototype.set=uS;const ui=di,hS=function(r,e){for(var t=-1,n=r==null?0:r.length;++t<n&&e(r[t],t,r)!==!1;);return r},bl=function(){try{var r=yo(Object,"defineProperty");return r({},"",{}),r}catch{}}(),wl=function(r,e,t){e=="__proto__"&&bl?bl(r,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[e]=t};var mS=Object.prototype.hasOwnProperty;const Du=function(r,e,t){var n=r[e];mS.call(r,e)&&xs(n,t)&&(t!==void 0||e in r)||wl(r,e,t)},hi=function(r,e,t,n){var o=!t;t||(t={});for(var a=-1,l=e.length;++a<l;){var d=e[a],h=void 0;h===void 0&&(h=r[d]),o?wl(t,d,h):Du(t,d,h)}return t},gS=function(r,e){for(var t=-1,n=Array(r);++t<r;)n[t]=e(t);return n},Pf=function(r){return wn(r)&&Lr(r)=="[object Arguments]"};var Lf=Object.prototype,pS=Lf.hasOwnProperty,fS=Lf.propertyIsEnumerable;const Al=Pf(function(){return arguments}())?Pf:function(r){return wn(r)&&pS.call(r,"callee")&&!fS.call(r,"callee")},kS=function(){return!1};var Of=s&&!s.nodeType&&s,zf=Of&&!0&&i&&!i.nodeType&&i,Rf=zf&&zf.exports===Of?jn.Buffer:void 0;const Ss=(Rf?Rf.isBuffer:void 0)||kS;var bS=/^(?:0|[1-9]\d*)$/;const Cl=function(r,e){var t=typeof r;return!!(e=e??9007199254740991)&&(t=="number"||t!="symbol"&&bS.test(r))&&r>-1&&r%1==0&&r<e},Su=function(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=9007199254740991};var Ge={};Ge["[object Float32Array]"]=Ge["[object Float64Array]"]=Ge["[object Int8Array]"]=Ge["[object Int16Array]"]=Ge["[object Int32Array]"]=Ge["[object Uint8Array]"]=Ge["[object Uint8ClampedArray]"]=Ge["[object Uint16Array]"]=Ge["[object Uint32Array]"]=!0,Ge["[object Arguments]"]=Ge["[object Array]"]=Ge["[object ArrayBuffer]"]=Ge["[object Boolean]"]=Ge["[object DataView]"]=Ge["[object Date]"]=Ge["[object Error]"]=Ge["[object Function]"]=Ge["[object Map]"]=Ge["[object Number]"]=Ge["[object Object]"]=Ge["[object RegExp]"]=Ge["[object Set]"]=Ge["[object String]"]=Ge["[object WeakMap]"]=!1;const wS=function(r){return wn(r)&&Su(r.length)&&!!Ge[Lr(r)]},Iu=function(r){return function(e){return r(e)}};var Ff=s&&!s.nodeType&&s,Is=Ff&&!0&&i&&!i.nodeType&&i,Tu=Is&&Is.exports===Ff&&Df.process;const mi=function(){try{var r=Is&&Is.require&&Is.require("util").types;return r||Tu&&Tu.binding&&Tu.binding("util")}catch{}}();var Vf=mi&&mi.isTypedArray;const Nu=Vf?Iu(Vf):wS;var AS=Object.prototype.hasOwnProperty;const Uf=function(r,e){var t=nn(r),n=!t&&Al(r),o=!t&&!n&&Ss(r),a=!t&&!n&&!o&&Nu(r),l=t||n||o||a,d=l?gS(r.length,String):[],h=d.length;for(var g in r)!e&&!AS.call(r,g)||l&&(g=="length"||o&&(g=="offset"||g=="parent")||a&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||Cl(g,h))||d.push(g);return d};var CS=Object.prototype;const Mu=function(r){var e=r&&r.constructor;return r===(typeof e=="function"&&e.prototype||CS)},vS=Nf(Object.keys,Object);var yS=Object.prototype.hasOwnProperty;const _S=function(r){if(!Mu(r))return vS(r);var e=[];for(var t in Object(r))yS.call(r,t)&&t!="constructor"&&e.push(t);return e},vl=function(r){return r!=null&&Su(r.length)&&!Co(r)},Ts=function(r){return vl(r)?Uf(r):_S(r)},xS=function(r,e){return r&&hi(e,Ts(e),r)},ES=function(r){var e=[];if(r!=null)for(var t in Object(r))e.push(t);return e};var DS=Object.prototype.hasOwnProperty;const SS=function(r){if(!Te(r))return ES(r);var e=Mu(r),t=[];for(var n in r)(n!="constructor"||!e&&DS.call(r,n))&&t.push(n);return t},gi=function(r){return vl(r)?Uf(r,!0):SS(r)},IS=function(r,e){return r&&hi(e,gi(e),r)};var Hf=s&&!s.nodeType&&s,qf=Hf&&!0&&i&&!i.nodeType&&i,Wf=qf&&qf.exports===Hf?jn.Buffer:void 0,$f=Wf?Wf.allocUnsafe:void 0;const Gf=function(r,e){if(e)return r.slice();var t=r.length,n=$f?$f(t):new r.constructor(t);return r.copy(n),n},Kf=function(r,e){var t=-1,n=r.length;for(e||(e=Array(n));++t<n;)e[t]=r[t];return e},TS=function(r,e){for(var t=-1,n=r==null?0:r.length,o=0,a=[];++t<n;){var l=r[t];e(l,t,r)&&(a[o++]=l)}return a},Qf=function(){return[]};var NS=Object.prototype.propertyIsEnumerable,Yf=Object.getOwnPropertySymbols;const Bu=Yf?function(r){return r==null?[]:(r=Object(r),TS(Yf(r),function(e){return NS.call(r,e)}))}:Qf,MS=function(r,e){return hi(r,Bu(r),e)},Zf=function(r,e){for(var t=-1,n=e.length,o=r.length;++t<n;)r[o+t]=e[t];return r},Jf=Object.getOwnPropertySymbols?function(r){for(var e=[];r;)Zf(e,Bu(r)),r=xu(r);return e}:Qf,BS=function(r,e){return hi(r,Jf(r),e)},Xf=function(r,e,t){var n=e(r);return nn(r)?n:Zf(n,t(r))},ju=function(r){return Xf(r,Ts,Bu)},jS=function(r){return Xf(r,gi,Jf)},Pu=yo(jn,"DataView"),Lu=yo(jn,"Promise"),Ou=yo(jn,"Set"),zu=yo(jn,"WeakMap");var ek="[object Map]",tk="[object Promise]",nk="[object Set]",rk="[object WeakMap]",ok="[object DataView]",PS=vo(Pu),LS=vo(Es),OS=vo(Lu),zS=vo(Ou),RS=vo(zu),_o=Lr;(Pu&&_o(new Pu(new ArrayBuffer(1)))!=ok||Es&&_o(new Es)!=ek||Lu&&_o(Lu.resolve())!=tk||Ou&&_o(new Ou)!=nk||zu&&_o(new zu)!=rk)&&(_o=function(r){var e=Lr(r),t=e=="[object Object]"?r.constructor:void 0,n=t?vo(t):"";if(n)switch(n){case PS:return ok;case LS:return ek;case OS:return tk;case zS:return nk;case RS:return rk}return e});const Ns=_o;var FS=Object.prototype.hasOwnProperty;const VS=function(r){var e=r.length,t=new r.constructor(e);return e&&typeof r[0]=="string"&&FS.call(r,"index")&&(t.index=r.index,t.input=r.input),t},yl=jn.Uint8Array,Ru=function(r){var e=new r.constructor(r.byteLength);return new yl(e).set(new yl(r)),e},US=function(r,e){var t=e?Ru(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.byteLength)};var HS=/\w*$/;const qS=function(r){var e=new r.constructor(r.source,HS.exec(r));return e.lastIndex=r.lastIndex,e};var ik=Xn?Xn.prototype:void 0,sk=ik?ik.valueOf:void 0;const WS=function(r){return sk?Object(sk.call(r)):{}},ak=function(r,e){var t=e?Ru(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.length)},$S=function(r,e,t){var n=r.constructor;switch(e){case"[object ArrayBuffer]":return Ru(r);case"[object Boolean]":case"[object Date]":return new n(+r);case"[object DataView]":return US(r,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ak(r,t);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(r);case"[object RegExp]":return qS(r);case"[object Symbol]":return WS(r)}};var lk=Object.create;const GS=function(){function r(){}return function(e){if(!Te(e))return{};if(lk)return lk(e);r.prototype=e;var t=new r;return r.prototype=void 0,t}}(),ck=function(r){return typeof r.constructor!="function"||Mu(r)?{}:GS(xu(r))},KS=function(r){return wn(r)&&Ns(r)=="[object Map]"};var dk=mi&&mi.isMap;const QS=dk?Iu(dk):KS,YS=function(r){return wn(r)&&Ns(r)=="[object Set]"};var uk=mi&&mi.isSet;const ZS=uk?Iu(uk):YS;var hk="[object Arguments]",mk="[object Function]",gk="[object Object]",We={};We[hk]=We["[object Array]"]=We["[object ArrayBuffer]"]=We["[object DataView]"]=We["[object Boolean]"]=We["[object Date]"]=We["[object Float32Array]"]=We["[object Float64Array]"]=We["[object Int8Array]"]=We["[object Int16Array]"]=We["[object Int32Array]"]=We["[object Map]"]=We["[object Number]"]=We[gk]=We["[object RegExp]"]=We["[object Set]"]=We["[object String]"]=We["[object Symbol]"]=We["[object Uint8Array]"]=We["[object Uint8ClampedArray]"]=We["[object Uint16Array]"]=We["[object Uint32Array]"]=!0,We["[object Error]"]=We[mk]=We["[object WeakMap]"]=!1;const Fu=function r(e,t,n,o,a,l){var d,h=1&t,g=2&t,p=4&t;if(n&&(d=a?n(e,o,a,l):n(e)),d!==void 0)return d;if(!Te(e))return e;var A=nn(e);if(A){if(d=VS(e),!h)return Kf(e,d)}else{var y=Ns(e),E=y==mk||y=="[object GeneratorFunction]";if(Ss(e))return Gf(e,h);if(y==gk||y==hk||E&&!a){if(d=g||E?{}:ck(e),!h)return g?BS(e,IS(d,e)):MS(e,xS(d,e))}else{if(!We[y])return a?e:{};d=$S(e,y,h)}}l||(l=new ui);var I=l.get(e);if(I)return I;l.set(e,d),ZS(e)?e.forEach(function(O){d.add(r(O,t,n,O,e,l))}):QS(e)&&e.forEach(function(O,R){d.set(R,r(O,t,n,R,e,l))});var T=A?void 0:(p?g?jS:ju:g?gi:Ts)(e);return hS(T||e,function(O,R){T&&(O=e[R=O]),Du(d,R,r(O,t,n,R,e,l))}),d},Vu=function(r,e){return Fu(r,5,e=typeof e=="function"?e:void 0)},xo=function(r){return wn(r)&&r.nodeType===1&&!rn(r)};class pk{constructor(e,t){this._config={},t&&this.define(fk(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,n,o=!1){if(rn(t))return void this._setObjectToTarget(e,t,o);const a=t.split(".");t=a.pop();for(const l of a)rn(e[l])||(e[l]={}),e=e[l];if(rn(n))return rn(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,n,o);o&&e[t]!==void 0||(e[t]=n)}_getFromSource(e,t){const n=t.split(".");t=n.pop();for(const o of n){if(!rn(e[o])){e=null;break}e=e[o]}return e?fk(e[t]):void 0}_setObjectToTarget(e,t,n){Object.keys(t).forEach(o=>{this._setToTarget(e,o,t[o],n)})}}function fk(r){return Vu(r,JS)}function JS(r){return xo(r)||typeof r=="function"?r:void 0}function Or(r){if(r){if(r.defaultView)return r instanceof r.defaultView.Document;if(r.ownerDocument&&r.ownerDocument.defaultView)return r instanceof r.ownerDocument.defaultView.Node}return!1}function _l(r){const e=Object.prototype.toString.apply(r);return e=="[object Window]"||e=="[object global]"}const kk=Cn(K());function Cn(r){return r?class extends r{listenTo(e,t,n,o={}){if(Or(e)||_l(e)){const a={capture:!!o.useCapture,passive:!!o.usePassive},l=this._getProxyEmitter(e,a)||new XS(e,a);this.listenTo(l,t,n,o)}else super.listenTo(e,t,n,o)}stopListening(e,t,n){if(Or(e)||_l(e)){const o=this._getAllProxyEmitters(e);for(const a of o)this.stopListening(a,t,n)}else super.stopListening(e,t,n)}_getProxyEmitter(e,t){return function(n,o){const a=n[xe];return a&&a[o]?a[o].emitter:null}(this,bk(e,t))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(t=>this._getProxyEmitter(e,t)).filter(t=>!!t)}}:kk}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{Cn[r]=kk.prototype[r]});class XS extends K(){constructor(e,t){super(),ce(this,bk(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,t,n){this.attach(e),K().prototype._addEventListener.call(this,e,t,n)}_removeEventListener(e,t){K().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=n=>{this.fire(e,n)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function bk(r,e){let t=function(n){return n["data-ck-expando"]||(n["data-ck-expando"]=z())}(r);for(const n of Object.keys(e).sort())e[n]&&(t+="-"+n);return t}function wk(r){const e=r.ownerDocument.defaultView.getComputedStyle(r);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function it(r){return Object.prototype.toString.call(r)=="[object Text]"}function xl(r){return Object.prototype.toString.apply(r)=="[object Range]"}function Ak(r){return r&&r.parentNode?r.offsetParent===C.document.body?null:r.offsetParent:null}const Ck=["top","right","bottom","left","width","height"];class De{constructor(e){const t=xl(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Uu(e)||t)if(t){const n=De.getDomRangeRects(e);El(this,De.getBoundingRect(n))}else El(this,e.getBoundingClientRect());else if(_l(e)){const{innerWidth:n,innerHeight:o}=e;El(this,{top:0,right:n,bottom:o,left:0,width:n,height:o})}else El(this,e)}clone(){return new De(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const n=new De(t);return n._source=this._source,n}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(vk(e))return t;let n,o=e,a=e.parentNode||e.commonAncestorContainer;for(;a&&!vk(a);){const d=((l=a)instanceof HTMLElement?l.ownerDocument.defaultView.getComputedStyle(l).overflow:"visible")==="visible";o instanceof HTMLElement&&yk(o)==="absolute"&&(n=o);const h=yk(a);if(d||n&&(h==="relative"&&d||h!=="relative")){o=a,a=a.parentNode;continue}const g=new De(a),p=t.getIntersection(g);if(!p)return null;p.getArea()<t.getArea()&&(t=p),o=a,a=a.parentNode}var l;return t}isEqual(e){for(const t of Ck)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=C.window,n=this.clone().moveBy(e,t);if(Uu(n._source)){const o=Ak(n._source);o&&function(a,l){const d=new De(l),h=wk(l);let g=0,p=0;g-=d.left,p-=d.top,g+=l.scrollLeft,p+=l.scrollTop,g-=h.left,p-=h.top,a.moveBy(g,p)}(n,o)}return n}excludeScrollbarsAndBorders(){const e=this._source;let t,n,o;if(_l(e))t=e.innerWidth-e.document.documentElement.clientWidth,n=e.innerHeight-e.document.documentElement.clientHeight,o=e.getComputedStyle(e.document.documentElement).direction;else{const a=wk(e);t=e.offsetWidth-e.clientWidth-a.left-a.right,n=e.offsetHeight-e.clientHeight-a.top-a.bottom,o=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=a.left,this.top+=a.top,this.right-=a.right,this.bottom-=a.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,o==="ltr"?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}static getDomRangeRects(e){const t=[],n=Array.from(e.getClientRects());if(n.length)for(const o of n)t.push(new De(o));else{let o=e.startContainer;it(o)&&(o=o.parentNode);const a=new De(o.getBoundingClientRect());a.right=a.left,a.width=0,t.push(a)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const o of e)n++,t.left=Math.min(t.left,o.left),t.top=Math.min(t.top,o.top),t.right=Math.max(t.right,o.right),t.bottom=Math.max(t.bottom,o.bottom);return n==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new De(t))}}function El(r,e){for(const t of Ck)r[t]=e[t]}function vk(r){return!!Uu(r)&&r===r.ownerDocument.body}function Uu(r){return r!==null&&typeof r=="object"&&r.nodeType===1&&typeof r.getBoundingClientRect=="function"}function yk(r){return r instanceof HTMLElement?r.ownerDocument.defaultView.getComputedStyle(r).position:"static"}const st=class{constructor(r,e){st._observerInstance||st._createObserver(),this._element=r,this._callback=e,st._addElementCallback(r,e),st._observerInstance.observe(r)}get element(){return this._element}destroy(){st._deleteElementCallback(this._element,this._callback)}static _addElementCallback(r,e){st._elementCallbacks||(st._elementCallbacks=new Map);let t=st._elementCallbacks.get(r);t||(t=new Set,st._elementCallbacks.set(r,t)),t.add(e)}static _deleteElementCallback(r,e){const t=st._getElementCallbacks(r);t&&(t.delete(e),t.size||(st._elementCallbacks.delete(r),st._observerInstance.unobserve(r))),st._elementCallbacks&&!st._elementCallbacks.size&&(st._observerInstance=null,st._elementCallbacks=null)}static _getElementCallbacks(r){return st._elementCallbacks?st._elementCallbacks.get(r):null}static _createObserver(){st._observerInstance=new C.window.ResizeObserver(r=>{for(const e of r){const t=st._getElementCallbacks(e.target);if(t)for(const n of t)n(e)}})}};let Ms=st;function _k(r,e){r instanceof HTMLTextAreaElement&&(r.value=e),r.innerHTML=e}function pi(r){return e=>e+r}function Bs(r){let e=0;for(;r.previousSibling;)r=r.previousSibling,e++;return e}function xk(r,e,t){r.insertBefore(t,r.childNodes[e]||null)}function js(r){return r&&r.nodeType===Node.COMMENT_NODE}function Eo(r){return!!(r&&r.getClientRects&&r.getClientRects().length)}Ms._observerInstance=null,Ms._elementCallbacks=null;var Ek=Math.pow;function Dl({element:r,target:e,positions:t,limiter:n,fitInViewport:o,viewportOffsetConfig:a}){Co(e)&&(e=e()),Co(n)&&(n=n());const l=Ak(r),d=function(y){y=Object.assign({top:0,bottom:0,left:0,right:0},y);const E=new De(C.window);return E.top+=y.top,E.height-=y.top,E.bottom-=y.bottom,E.height-=y.bottom,E}(a),h=new De(r),g=Dk(e,d);let p;if(!g||!d.getIntersection(g))return null;const A={targetRect:g,elementRect:h,positionedElementAncestor:l,viewportRect:d};if(n||o){if(n){const y=Dk(n,d);y&&(A.limiterRect=y)}p=function(y,E){const{elementRect:I}=E,T=I.getArea(),O=y.map(W=>new Sk(W,E)).filter(W=>!!W.name);let R=0,U=null;for(const W of O){const{limiterIntersectionArea:Z,viewportIntersectionArea:le}=W;if(Z===T)return W;const fe=Ek(le,2)+Ek(Z,2);fe>R&&(R=fe,U=W)}return U}(t,A)}else p=new Sk(t[0],A);return p}function Dk(r,e){const t=new De(r).getVisible();return t?t.getIntersection(e):null}class Sk{constructor(e,t){const n=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!n)return;const{left:o,top:a,name:l,config:d}=n;this.name=l,this.config=d,this._positioningFunctionCoordinates={left:o,top:a},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function Ik(r){const e=r.parentNode;e&&e.removeChild(r)}function e4({window:r,rect:e,alignToTop:t,forceScroll:n,viewportOffset:o}){const a=e.clone().moveBy(0,o.bottom),l=e.clone().moveBy(0,-o.top),d=new De(r).excludeScrollbarsAndBorders(),h=t&&n,g=[l,a].every(I=>d.contains(I));let{scrollX:p,scrollY:A}=r;const y=p,E=A;h?A-=d.top-e.top+o.top:g||(Nk(l,d)?A-=d.top-e.top+o.top:Tk(a,d)&&(A+=t?e.top-d.top-o.top:e.bottom-d.bottom+o.bottom)),g||(Mk(e,d)?p-=d.left-e.left+o.left:Bk(e,d)&&(p+=e.right-d.right+o.right)),p==y&&A===E||r.scrollTo(p,A)}function t4({parent:r,getRect:e,alignToTop:t,forceScroll:n,ancestorOffset:o=0,limiterElement:a}){const l=Hu(r),d=t&&n;let h,g,p;const A=a||l.document.body;for(;r!=A;)g=e(),h=new De(r).excludeScrollbarsAndBorders(),p=h.contains(g),d?r.scrollTop-=h.top-g.top+o:p||(Nk(g,h)?r.scrollTop-=h.top-g.top+o:Tk(g,h)&&(r.scrollTop+=t?g.top-h.top-o:g.bottom-h.bottom+o)),p||(Mk(g,h)?r.scrollLeft-=h.left-g.left+o:Bk(g,h)&&(r.scrollLeft+=g.right-h.right+o)),r=r.parentNode}function Tk(r,e){return r.bottom>e.bottom}function Nk(r,e){return r.top<e.top}function Mk(r,e){return r.left<e.left}function Bk(r,e){return r.right>e.right}function Hu(r){return xl(r)?r.startContainer.ownerDocument.defaultView:r.ownerDocument.defaultView}function n4(r){if(xl(r)){let e=r.commonAncestorContainer;return it(e)&&(e=e.parentNode),e}return r.parentNode}function jk(r,e){const t=Hu(r),n=new De(r);if(t===e)return n;{let o=t;for(;o!=e;){const a=o.frameElement,l=new De(a).excludeScrollbarsAndBorders();n.moveBy(l.left,l.top),o=o.parent}}return n}const r4={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},o4={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Pk={37:"←",38:"↑",39:"→",40:"↓",9:"⇥",33:"Page Up",34:"Page Down"},Ie=function(){const r={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)r[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)r[e-48]=e;for(let e=112;e<=123;e++)r["f"+(e-111)]=e;return Object.assign(r,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),r}(),i4=Object.fromEntries(Object.entries(Ie).map(([r,e])=>{let t;return t=e in Pk?Pk[e]:r.charAt(0).toUpperCase()+r.slice(1),[e,t]}));function fi(r){let e;if(typeof r=="string"){if(e=Ie[r.toLowerCase()],!e)throw new P("keyboard-unknown-key",null,{key:r})}else e=r.keyCode+(r.altKey?Ie.alt:0)+(r.ctrlKey?Ie.ctrl:0)+(r.shiftKey?Ie.shift:0)+(r.metaKey?Ie.cmd:0);return e}function Ps(r){return typeof r=="string"&&(r=function(e){return e.split("+").map(t=>t.trim())}(r)),r.map(e=>typeof e=="string"?function(t){if(t.endsWith("!"))return fi(t.slice(0,-1));const n=fi(t);return(D.isMac||D.isiOS)&&n==Ie.ctrl?Ie.cmd:n}(e):e).reduce((e,t)=>t+e,0)}function Sl(r){let e=Ps(r);return Object.entries(D.isMac||D.isiOS?r4:o4).reduce((t,[n,o])=>(e&Ie[n]&&(e&=~Ie[n],t+=o),t),"")+(e?i4[e]:"")}function qu(r,e){const t=e==="ltr";switch(r){case Ie.arrowleft:return t?"left":"right";case Ie.arrowright:return t?"right":"left";case Ie.arrowup:return"up";case Ie.arrowdown:return"down"}}function He(r){return Array.isArray(r)?r:[r]}const Wu=function(r,e,t){(t!==void 0&&!xs(r[e],t)||t===void 0&&!(e in r))&&wl(r,e,t)},Lk=function(r){return function(e,t,n){for(var o=-1,a=Object(e),l=n(e),d=l.length;d--;){var h=l[++o];if(t(a[h],h,a)===!1)break}return e}}(),s4=function(r){return wn(r)&&vl(r)},Ok=function(r,e){if((e!=="constructor"||typeof r[e]!="function")&&e!="__proto__")return r[e]},a4=function(r){return hi(r,gi(r))},l4=function(r,e,t,n,o,a,l){var d=Ok(r,t),h=Ok(e,t),g=l.get(h);if(g)Wu(r,t,g);else{var p=void 0,A=p===void 0;if(A){var y=nn(h),E=!y&&Ss(h),I=!y&&!E&&Nu(h);p=h,y||E||I?nn(d)?p=d:s4(d)?p=Kf(d):E?(A=!1,p=Gf(h,!0)):I?(A=!1,p=ak(h,!0)):p=[]:rn(h)||Al(h)?(p=d,Al(d)?p=a4(d):Te(d)&&!Co(d)||(p=ck(h))):A=!1}A&&(l.set(h,p),o(p,h,n,a,l),l.delete(h)),Wu(r,t,p)}},c4=function r(e,t,n,o,a){e!==t&&Lk(t,function(l,d){if(a||(a=new ui),Te(l))l4(e,t,d,n,r,o,a);else{var h=void 0;h===void 0&&(h=l),Wu(e,d,h)}},gi)},zr=function(r){return r},d4=function(r,e,t){switch(t.length){case 0:return r.call(e);case 1:return r.call(e,t[0]);case 2:return r.call(e,t[0],t[1]);case 3:return r.call(e,t[0],t[1],t[2])}return r.apply(e,t)};var zk=Math.max;const u4=function(r,e,t){return e=zk(e===void 0?r.length-1:e,0),function(){for(var n=arguments,o=-1,a=zk(n.length-e,0),l=Array(a);++o<a;)l[o]=n[e+o];o=-1;for(var d=Array(e+1);++o<e;)d[o]=n[o];return d[e]=t(l),d4(r,this,d)}},h4=function(r){return function(){return r}},m4=bl?function(r,e){return bl(r,"toString",{configurable:!0,enumerable:!1,value:h4(e),writable:!0})}:zr;var g4=Date.now;const p4=function(r){var e=0,t=0;return function(){var n=g4(),o=16-(n-t);if(t=n,o>0){if(++e>=800)return arguments[0]}else e=0;return r.apply(void 0,arguments)}}(m4),f4=function(r,e){return p4(u4(r,e,zr),r+"")},k4=function(r,e,t){if(!Te(t))return!1;var n=typeof e;return!!(n=="number"?vl(t)&&Cl(e,t.length):n=="string"&&e in t)&&xs(t[e],r)},Rk=function(r){return f4(function(e,t){var n=-1,o=t.length,a=o>1?t[o-1]:void 0,l=o>2?t[2]:void 0;for(a=r.length>3&&typeof a=="function"?(o--,a):void 0,l&&k4(t[0],t[1],l)&&(a=o<3?void 0:a,o=1),e=Object(e);++n<o;){var d=t[n];d&&r(e,d,n,a)}return e})},$u=Rk(function(r,e,t){c4(r,e,t)});function b4(r,e,t=1,n){if(typeof t!="number")throw new P("translation-service-quantity-not-a-number",null,{quantity:t});const o=n||C.window.CKEDITOR_TRANSLATIONS,a=function(p){return Object.keys(p).length}(o);a===1&&(r=Object.keys(o)[0]);const l=e.id||e.string;if(a===0||!function(p,A,y){return!!y[p]&&!!y[p].dictionary[A]}(r,l,o))return t!==1?e.plural:e.string;const d=o[r].dictionary,h=o[r].getPluralForm||(p=>p===1?0:1),g=d[l];return typeof g=="string"?g:g[Number(h(t))]}C.window.CKEDITOR_TRANSLATIONS||(C.window.CKEDITOR_TRANSLATIONS={});const w4=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function Fk(r){return w4.includes(r)?"rtl":"ltr"}class A4{constructor({uiLanguage:e="en",contentLanguage:t,translations:n}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=Fk(this.uiLanguage),this.contentLanguageDirection=Fk(this.contentLanguage),this.translations=function(o){return Array.isArray(o)?o.reduce((a,l)=>$u(a,l)):o}(n),this.t=(o,a)=>this._t(o,a)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=He(t),typeof e=="string"&&(e={string:e});const n=e.plural?t[0]:1;return function(o,a){return o.replace(/%(\d+)/g,(l,d)=>d<a.length?a[d]:l)}(b4(this.uiLanguage,e,n,this.translations),t)}}class Pn extends K(){constructor(e={},t={}){super();const n=tn(e);if(n||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const o of e)this._items.push(o),this._itemMap.set(this._getItemIdBeforeAdding(o),o)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new P("collection-add-item-invalid-index",this);let n=0;for(const o of e){const a=this._getItemIdBeforeAdding(o),l=t+n;this._items.splice(l,0,o),this._itemMap.set(a,o),this.fire("add",o,l),n++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else{if(typeof e!="number")throw new P("collection-get-invalid-arg",this);t=this._items[e]}return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=e[this._idProperty];return t&&this._itemMap.has(t)}}getIndex(e){let t;return t=typeof e=="string"?this._itemMap.get(e):e,t?this._items.indexOf(t):-1}remove(e){const[t,n]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:n}),t}map(e,t){return this._items.map(e,t)}forEach(e,t){this._items.forEach(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new P("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(n=>new t(n))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(n=>n[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,n=(o,a,l)=>{const d=t._bindToCollection==this,h=t._bindToInternalToExternalMap.get(a);if(d&&h)this._bindToExternalToInternalMap.set(a,h),this._bindToInternalToExternalMap.set(h,a);else{const g=e(a);if(!g)return void this._skippedIndexesFromExternal.push(l);let p=l;for(const A of this._skippedIndexesFromExternal)l>A&&p--;for(const A of t._skippedIndexesFromExternal)p>=A&&p++;this._bindToExternalToInternalMap.set(a,g),this._bindToInternalToExternalMap.set(g,a),this.add(g,p);for(let A=0;A<t._skippedIndexesFromExternal.length;A++)p<=t._skippedIndexesFromExternal[A]&&t._skippedIndexesFromExternal[A]++}};for(const o of t)n(0,o,t.getIndex(o));this.listenTo(t,"add",n),this.listenTo(t,"remove",(o,a,l)=>{const d=this._bindToExternalToInternalMap.get(a);d&&this.remove(d),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((h,g)=>(l<g&&h.push(g-1),l>g&&h.push(g),h),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let n;if(t in e){if(n=e[t],typeof n!="string")throw new P("collection-add-invalid-id",this);if(this.get(n))throw new P("collection-add-item-already-exists",this)}else e[t]=n=z();return n}_remove(e){let t,n,o,a=!1;const l=this._idProperty;if(typeof e=="string"?(n=e,o=this._itemMap.get(n),a=!o,o&&(t=this._items.indexOf(o))):typeof e=="number"?(t=e,o=this._items[t],a=!o,o&&(n=o[l])):(o=e,n=o[l],t=this._items.indexOf(o),a=t==-1||!this._itemMap.get(n)),a)throw new P("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);const d=this._bindToInternalToExternalMap.get(o);return this._bindToInternalToExternalMap.delete(o),this._bindToExternalToInternalMap.delete(d),this.fire("remove",o,t),[o,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function ft(r){const e=r.next();return e.done?null:e.value}class kt extends Cn(Re()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new P("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class Lt{constructor(){this._listener=new(Cn())}listenTo(e){this._listener.listenTo(e,"keydown",(t,n)=>{this._listener.fire("_keydown:"+fi(n),n)})}set(e,t,n={}){const o=Ps(e),a=n.priority;this._listener.listenTo(this._listener,"_keydown:"+o,(l,d)=>{t(d,()=>{d.preventDefault(),d.stopPropagation(),l.stop()}),l.return=!0},{priority:a})}press(e){return!!this._listener.fire("_keydown:"+fi(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function er(r){return tn(r)?new Map(r):function(e){const t=new Map;for(const n in e)t.set(n,e[n]);return t}(r)}function Gu(r,e){let t;function n(...o){n.cancel(),t=setTimeout(()=>r(...o),e)}return n.cancel=()=>{clearTimeout(t)},n}function Ku(r,e){return!!(t=r.charAt(e-1))&&t.length==1&&/[\ud800-\udbff]/.test(t)&&function(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}(r.charAt(e));var t}function Qu(r,e){return!!(t=r.charAt(e))&&t.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t);var t}const C4=function(){const r=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,t="(?:"+r.map(n=>n.source).join("|")+")";return new RegExp(`${e}|${t}(?:‍${t})*`,"ug")}();function Vk(r,e){const t=String(r).matchAll(C4);return Array.from(t).some(n=>n.index<e&&e<n.index+n[0].length)}class vn extends Pn{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,n,o)=>{this._renderViewIntoCollectionParent(n,o)}),this.on("remove",(t,n)=>{n.element&&this._parentElement&&n.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!e.every(t=>typeof t=="string"))throw new P("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const n of this)for(const o of e)n.delegate(o).to(t);this.on("add",(n,o)=>{for(const a of e)o.delegate(a).to(t)}),this.on("remove",(n,o)=>{for(const a of e)o.stopDelegating(a,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}class Ln extends K(){constructor(e){super(),Object.assign(this,Wk(qk(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new P("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const n of t.children)Tl(n)?yield n:Yu(n)&&(yield*e(n))}(this)}static bind(e,t){return{to:(n,o)=>new v4({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:o}),if:(n,o,a)=>new Uk({observable:e,emitter:t,attribute:n,valueIfTrue:o,callback:a})}}static extend(e,t){if(e._isRendered)throw new P("template-extend-render",[this,e]);Qk(e,Wk(qk(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new P("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),Il(this.text)?this._bindToObservable({schema:this.text,updater:y4(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,n=e.revertData;for(const o in this.attributes){const a=t.getAttribute(o),l=this.attributes[o];n&&(n.attributes[o]=a);const d=Yk(l)?l[0].ns:null;if(Il(l)){const h=Yk(l)?l[0].value:l;n&&Zk(o)&&h.unshift(a),this._bindToObservable({schema:h,updater:_4(t,o,d),data:e})}else if(o=="style"&&typeof l[0]!="string")this._renderStyleAttribute(l[0],e);else{n&&a&&Zk(o)&&l.unshift(a);const h=l.map(g=>g&&g.value||g).reduce((g,p)=>g.concat(p),[]).reduce(Gk,"");ki(h)||t.setAttributeNS(d,o,h)}}}_renderStyleAttribute(e,t){const n=t.node;for(const o in e){const a=e[o];Il(a)?this._bindToObservable({schema:[a],updater:x4(n,o),data:t}):n.style[o]=a}}_renderElementChildren(e){const t=e.node,n=e.intoFragment?document.createDocumentFragment():t,o=e.isApplying;let a=0;for(const l of this.children)if(Zu(l)){if(!o){l.setParent(t);for(const d of l)n.appendChild(d.element)}}else if(Tl(l))o||(l.isRendered||l.render(),n.appendChild(l.element));else if(Or(l))n.appendChild(l);else if(o){const d={children:[],bindings:[],attributes:{}};e.revertData.children.push(d),l._renderNode({intoFragment:!1,node:n.childNodes[a++],isApplying:!0,revertData:d})}else n.appendChild(l.render());e.intoFragment&&t.appendChild(n)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const n=this.eventListeners[t].map(o=>{const[a,l]=t.split("@");return o.activateDomEventListener(a,l,e)});e.revertData&&e.revertData.bindings.push(n)}}_bindToObservable({schema:e,updater:t,data:n}){const o=n.revertData;Hk(e,t,n);const a=e.filter(l=>!ki(l)).filter(l=>l.observable).map(l=>l.activateAttributeListener(e,t,n));o&&o.bindings.push(a)}_revertTemplateFromNode(e,t){for(const o of t.bindings)for(const a of o)a();if(t.text)return void(e.textContent=t.text);const n=e;for(const o in t.attributes){const a=t.attributes[o];a===null?n.removeAttribute(o):n.setAttribute(o,a)}for(let o=0;o<t.children.length;++o)this._revertTemplateFromNode(n.childNodes[o],t.children[o])}}class Ls{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const o=()=>Hk(e,t,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,o),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,o)}}}class v4 extends Ls{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,n){const o=(a,l)=>{t&&!l.target.matches(t)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(l):this.observable.fire(this.eventNameOrFunction,l))};return this.emitter.listenTo(n.node,e,o),()=>{this.emitter.stopListening(n.node,e,o)}}}class Uk extends Ls{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!ki(super.getValue(e))&&(this.valueIfTrue||!0)}}function Il(r){return!!r&&(r.value&&(r=r.value),Array.isArray(r)?r.some(Il):r instanceof Ls)}function Hk(r,e,{node:t}){const n=function(a,l){return a.map(d=>d instanceof Ls?d.getValue(l):d)}(r,t);let o;o=r.length==1&&r[0]instanceof Uk?n[0]:n.reduce(Gk,""),ki(o)?e.remove():e.set(o)}function y4(r){return{set(e){r.textContent=e},remove(){r.textContent=""}}}function _4(r,e,t){return{set(n){r.setAttributeNS(t,e,n)},remove(){r.removeAttributeNS(t,e)}}}function x4(r,e){return{set(t){r.style[e]=t},remove(){r.style[e]=null}}}function qk(r){return Vu(r,e=>{if(e&&(e instanceof Ls||Yu(e)||Tl(e)||Zu(e)))return e})}function Wk(r){if(typeof r=="string"?r=function(e){return{text:[e]}}(r):r.text&&function(e){e.text=He(e.text)}(r),r.on&&(r.eventListeners=function(e){for(const t in e)$k(e,t);return e}(r.on),delete r.on),!r.text){r.attributes&&function(t){for(const n in t)t[n].value&&(t[n].value=He(t[n].value)),$k(t,n)}(r.attributes);const e=[];if(r.children)if(Zu(r.children))e.push(r.children);else for(const t of r.children)Yu(t)||Tl(t)||Or(t)?e.push(t):e.push(new Ln(t));r.children=e}return r}function $k(r,e){r[e]=He(r[e])}function Gk(r,e){return ki(e)?r:ki(r)?e:`${r} ${e}`}function Kk(r,e){for(const t in e)r[t]?r[t].push(...e[t]):r[t]=e[t]}function Qk(r,e){if(e.attributes&&(r.attributes||(r.attributes={}),Kk(r.attributes,e.attributes)),e.eventListeners&&(r.eventListeners||(r.eventListeners={}),Kk(r.eventListeners,e.eventListeners)),e.text&&r.text.push(...e.text),e.children&&e.children.length){if(r.children.length!=e.children.length)throw new P("ui-template-extend-children-mismatch",r);let t=0;for(const n of e.children)Qk(r.children[t++],n)}}function ki(r){return!r&&r!==0}function Tl(r){return r instanceof ge}function Yu(r){return r instanceof Ln}function Zu(r){return r instanceof vn}function Yk(r){return Te(r[0])&&r[0].ns}function Zk(r){return r=="class"||r=="style"}var E4=m(2591),ie=m.n(E4),Jk=m(7676),D4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Jk.A,D4),Jk.A.locals;class ge extends Cn(Re()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Pn,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,n)=>{n.locale=e,n.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Ln.bind(this,this)}createCollection(e){const t=new vn(e);return this._viewCollections.add(t),t}registerChild(e){tn(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){tn(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new Ln(e)}extendTemplate(e){Ln.extend(this.template,e)}render(){if(this.isRendered)throw new P("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function Nl({emitter:r,activator:e,callback:t,contextElements:n}){r.listenTo(document,"mousedown",(o,a)=>{if(!e())return;const l=typeof a.composedPath=="function"?a.composedPath():[],d=typeof n=="function"?n():n;for(const h of d)if(h.contains(a.target)||l.includes(h))return;t()})}function Ju(r){return class extends r{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function Ml({view:r}){r.listenTo(r.element,"submit",(e,t)=>{t.preventDefault(),r.fire("submit")},{useCapture:!0})}function S4({keystrokeHandler:r,focusTracker:e,gridItems:t,numberOfColumns:n,uiLanguageDirection:o}){const a=typeof n=="number"?()=>n:n;function l(g){return p=>{const A=t.find(I=>I.element===e.focusedElement),y=t.getIndex(A),E=g(y,t);t.get(E).focus(),p.stopPropagation(),p.preventDefault()}}function d(g,p){return g===p-1?0:g+1}function h(g,p){return g===0?p-1:g-1}r.set("arrowright",l((g,p)=>o==="rtl"?h(g,p.length):d(g,p.length))),r.set("arrowleft",l((g,p)=>o==="rtl"?d(g,p.length):h(g,p.length))),r.set("arrowup",l((g,p)=>{let A=g-a();return A<0&&(A=g+a()*Math.floor(p.length/a()),A>p.length-1&&(A-=a())),A})),r.set("arrowdown",l((g,p)=>{let A=g+a();return A>p.length-1&&(A=g%a()),A}))}class ee extends Re(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Xk,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Xk),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Xk(r){r.return=!1,r.stop()}class _e extends Re(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const n=e.model.document.selection,o=n.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(n);(e.isReadOnly||this._isEnabledBasedOnSelection&&!o)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",eb,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",eb),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function eb(r){r.return=!1,r.stop()}class tb extends _e{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){H(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return e&&e.command}}class nb extends K(){constructor(e,t=[],n=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const o of t)o.pluginName&&this._availablePlugins.set(o.pluginName,o);this._contextPlugins=new Map;for(const[o,a]of n)this._contextPlugins.set(o,a),this._contextPlugins.set(a,o),o.pluginName&&this._availablePlugins.set(o.pluginName,o)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let n=e;throw typeof e=="function"&&(n=e.pluginName||e.name),new P("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return t}has(e){return this._plugins.has(e)}init(e,t=[],n=[]){const o=this,a=this._context;(function I(T,O=new Set){T.forEach(R=>{h(R)&&(O.has(R)||(O.add(R),R.pluginName&&!o._availablePlugins.has(R.pluginName)&&o._availablePlugins.set(R.pluginName,R),R.requires&&I(R.requires,O)))})})(e),y(e);const l=[...function I(T,O=new Set){return T.map(R=>h(R)?R:o._availablePlugins.get(R)).reduce((R,U)=>O.has(U)?R:(O.add(U),U.requires&&(y(U.requires,U),I(U.requires,O).forEach(W=>R.add(W))),R.add(U)),new Set)}(e.filter(I=>!p(I,t)))];(function(I,T){for(const O of T){if(typeof O!="function")throw new P("plugincollection-replace-plugin-invalid-type",null,{pluginItem:O});const R=O.pluginName;if(!R)throw new P("plugincollection-replace-plugin-missing-name",null,{pluginItem:O});if(O.requires&&O.requires.length)throw new P("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:R});const U=o._availablePlugins.get(R);if(!U)throw new P("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:R});const W=I.indexOf(U);if(W===-1){if(o._contextPlugins.has(U))return;throw new P("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:R})}if(U.requires&&U.requires.length)throw new P("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:R});I.splice(W,1,O),o._availablePlugins.set(R,O)}})(l,n);const d=l.map(I=>{let T=o._contextPlugins.get(I);return T=T||new I(a),o._add(I,T),T});return E(d,"init").then(()=>E(d,"afterInit")).then(()=>d);function h(I){return typeof I=="function"}function g(I){return h(I)&&!!I.isContextPlugin}function p(I,T){return T.some(O=>O===I||A(I)===O||A(O)===I)}function A(I){return h(I)?I.pluginName||I.name:I}function y(I,T=null){I.map(O=>h(O)?O:o._availablePlugins.get(O)||O).forEach(O=>{(function(R,U){if(!h(R))throw U?new P("plugincollection-soft-required",a,{missingPlugin:R,requiredBy:A(U)}):new P("plugincollection-plugin-not-found",a,{plugin:R})})(O,T),function(R,U){if(g(U)&&!g(R))throw new P("plugincollection-context-required",a,{plugin:A(R),requiredBy:A(U)})}(O,T),function(R,U){if(U&&p(R,t))throw new P("plugincollection-required",a,{plugin:A(R),requiredBy:A(U)})}(O,T)})}function E(I,T){return I.reduce((O,R)=>R[T]?o._contextPlugins.has(R)?O:O.then(R[T].bind(R)):O,Promise.resolve())}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy!="function"||this._contextPlugins.has(t)||e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const n=e.pluginName;if(n){if(this._plugins.has(n))throw new P("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}var rb=Object.getOwnPropertySymbols,I4=Object.prototype.hasOwnProperty,T4=Object.prototype.propertyIsEnumerable;class ob{constructor(e){this._contextOwner=null;const t=e||{},{translations:n}=t,o=((d,h)=>{var g={};for(var p in d)I4.call(d,p)&&h.indexOf(p)<0&&(g[p]=d[p]);if(d!=null&&rb)for(var p of rb(d))h.indexOf(p)<0&&T4.call(d,p)&&(g[p]=d[p]);return g})(t,["translations"]);this.config=new pk(o,this.constructor.defaultConfig);const a=this.constructor.builtinPlugins;this.config.define("plugins",a),this.plugins=new nb(this,a);const l=this.config.get("language")||{};this.locale=new A4({uiLanguage:typeof l=="string"?l:l.ui,contentLanguage:this.config.get("language.content"),translations:n}),this.t=this.locale.t,this.editors=new Pn}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const n of e.concat(t)){if(typeof n!="function")throw new P("context-initplugins-constructor-only",null,{Plugin:n});if(n.isContextPlugin!==!0)throw new P("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new P("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const n=new this(e);t(n.initPlugins().then(()=>n))})}}class Bl extends Re(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class N4 extends Lt{constructor(e){super(),this.editor=e}set(e,t,n={}){if(typeof t=="string"){const o=t;t=(a,l)=>{this.editor.execute(o),l()}}super.set(e,t,n)}}var ib=m(4098),M4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(ib.A,M4),ib.A.locals;const jl=new WeakMap;let sb=!1;function ab({view:r,element:e,text:t,isDirectHost:n=!0,keepOnFocus:o=!1}){const a=r.document;function l(d){jl.get(a).set(e,{text:d,isDirectHost:n,keepOnFocus:o,hostElement:n?e:null}),r.change(h=>Xu(a,h))}jl.has(a)||(jl.set(a,new Map),a.registerPostFixer(d=>Xu(a,d)),a.on("change:isComposing",()=>{r.change(d=>Xu(a,d))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(d,h,g)=>{l(g)}),e.placeholder?l(e.placeholder):t&&l(t),t&&function(){sb||$("enableplaceholder-deprecated-text-option"),sb=!0}()}function B4(r,e){return!e.hasClass("ck-placeholder")&&(r.addClass("ck-placeholder",e),!0)}function j4(r,e){return!!e.hasClass("ck-placeholder")&&(r.removeClass("ck-placeholder",e),!0)}function P4(r,e){if(!r.isAttached()||Array.from(r.getChildren()).some(o=>!o.is("uiElement")))return!1;const t=r.document,n=t.selection.anchor;return(!t.isComposing||!n||n.parent!==r)&&(!!e||!t.isFocused||!!n&&n.parent!==r)}function Xu(r,e){const t=jl.get(r),n=[];let o=!1;for(const[a,l]of t)l.isDirectHost&&(n.push(a),lb(e,a,l)&&(o=!0));for(const[a,l]of t){if(l.isDirectHost)continue;const d=L4(a);d&&(n.includes(d)||(l.hostElement=d,lb(e,a,l)&&(o=!0)))}return o}function lb(r,e,t){const{text:n,isDirectHost:o,hostElement:a}=t;let l=!1;return a.getAttribute("data-placeholder")!==n&&(r.setAttribute("data-placeholder",n,a),l=!0),(o||e.childCount==1)&&P4(a,t.keepOnFocus)?B4(r,a)&&(l=!0):j4(r,a)&&(l=!0),l}function L4(r){if(r.childCount){const e=r.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Do{is(){throw new Error("is() method is abstract")}}const cb=function(r){return Fu(r,4)};class So extends K(Do){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new P("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),o=e.getAncestors(t);let a=0;for(;n[a]==o[a]&&n[a];)a++;return a===0?null:n[a-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),o=Pt(t,n);switch(o){case"prefix":return!0;case"extension":return!1;default:return t[o]<n[o]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=cb(this);return delete e.parent,e}}So.prototype.is=function(r){return r==="node"||r==="view:node"};class Fe extends So{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof Fe&&(this===e||this.data===e.data)}_clone(){return new Fe(this.document,this.data)}}Fe.prototype.is=function(r){return r==="$text"||r==="view:$text"||r==="text"||r==="view:text"||r==="node"||r==="view:node"};class tr extends Do{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.data.length)throw new P("view-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.data.length)throw new P("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let n=e.includeSelf?this.textNode:this.parent;for(;n!==null;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}}tr.prototype.is=function(r){return r==="$textProxy"||r==="view:$textProxy"||r==="textProxy"||r==="view:textProxy"};class nr{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const n of this._patterns){const o=db(t,n);if(o)return{element:t,pattern:n,match:o}}return null}matchAll(...e){const t=[];for(const n of e)for(const o of this._patterns){const a=db(n,o);a&&t.push({element:n,pattern:o,match:a})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e=="function"||!t||t instanceof RegExp?null:t}}function db(r,e){if(typeof e=="function")return e(r);const t={};return e.name&&(t.name=function(n,o){return n instanceof RegExp?!!o.match(n):n===o}(e.name,r.name),!t.name)||e.attributes&&(t.attributes=function(n,o){const a=new Set(o.getAttributeKeys());return rn(n)?(n.style!==void 0&&$("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&$("matcher-pattern-deprecated-attributes-class-key",n)):(a.delete("style"),a.delete("class")),eh(n,a,l=>o.getAttribute(l))}(e.attributes,r),!t.attributes)||e.classes&&(t.classes=function(n,o){return eh(n,o.getClassNames(),()=>{})}(e.classes,r),!t.classes)||e.styles&&(t.styles=function(n,o){return eh(n,o.getStyleNames(!0),a=>o.getStyle(a))}(e.styles,r),!t.styles)?null:t}function eh(r,e,t){const n=function(l){return Array.isArray(l)?l.map(d=>rn(d)?(d.key!==void 0&&d.value!==void 0||$("matcher-pattern-missing-key-or-value",d),[d.key,d.value]):[d,!0]):rn(l)?Object.entries(l):[[l,!0]]}(r),o=Array.from(e),a=[];if(n.forEach(([l,d])=>{o.forEach(h=>{(function(g,p){return g===!0||g===p||g instanceof RegExp&&p.match(g)})(l,h)&&function(g,p,A){if(g===!0)return!0;const y=A(p);return g===y||g instanceof RegExp&&!!String(y).match(g)}(d,h,t)&&a.push(h)})}),n.length&&!(a.length<n.length))return a}const Pl=function(r){return typeof r=="symbol"||wn(r)&&Lr(r)=="[object Symbol]"};var O4=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z4=/^\w*$/;const th=function(r,e){if(nn(r))return!1;var t=typeof r;return!(t!="number"&&t!="symbol"&&t!="boolean"&&r!=null&&!Pl(r))||z4.test(r)||!O4.test(r)||e!=null&&r in Object(e)};function nh(r,e){if(typeof r!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var t=function(){var n=arguments,o=e?e.apply(this,n):n[0],a=t.cache;if(a.has(o))return a.get(o);var l=r.apply(this,n);return t.cache=a.set(o,l)||a,l};return t.cache=new(nh.Cache||kl),t}nh.Cache=kl;const R4=nh,F4=function(r){var e=R4(r,function(n){return t.size===500&&t.clear(),n}),t=e.cache;return e};var V4=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,U4=/\\(\\)?/g,H4=F4(function(r){var e=[];return r.charCodeAt(0)===46&&e.push(""),r.replace(V4,function(t,n,o,a){e.push(o?a.replace(U4,"$1"):n||t)}),e});const q4=H4,W4=function(r,e){for(var t=-1,n=r==null?0:r.length,o=Array(n);++t<n;)o[t]=e(r[t],t,r);return o};var ub=Xn?Xn.prototype:void 0,hb=ub?ub.toString:void 0;const $4=function r(e){if(typeof e=="string")return e;if(nn(e))return W4(e,r)+"";if(Pl(e))return hb?hb.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},rh=function(r){return r==null?"":$4(r)},Ll=function(r,e){return nn(r)?r:th(r,e)?[r]:q4(rh(r))},G4=function(r){var e=r==null?0:r.length;return e?r[e-1]:void 0},bi=function(r){if(typeof r=="string"||Pl(r))return r;var e=r+"";return e=="0"&&1/r==-1/0?"-0":e},oh=function(r,e){for(var t=0,n=(e=Ll(e,r)).length;r!=null&&t<n;)r=r[bi(e[t++])];return t&&t==n?r:void 0},mb=function(r,e,t){var n=-1,o=r.length;e<0&&(e=-e>o?0:o+e),(t=t>o?o:t)<0&&(t+=o),o=e>t?0:t-e>>>0,e>>>=0;for(var a=Array(o);++n<o;)a[n]=r[n+e];return a},K4=function(r,e){return e.length<2?r:oh(r,mb(e,0,-1))},Q4=function(r,e){return e=Ll(e,r),(r=K4(r,e))==null||delete r[bi(G4(e))]},Y4=function(r,e){return r==null||Q4(r,e)},Os=function(r,e,t){var n=r==null?void 0:oh(r,e);return n===void 0?t:n},Z4=function(r,e,t,n){if(!Te(r))return r;for(var o=-1,a=(e=Ll(e,r)).length,l=a-1,d=r;d!=null&&++o<a;){var h=bi(e[o]),g=t;if(h==="__proto__"||h==="constructor"||h==="prototype")return r;if(o!=l){var p=d[h];(g=void 0)==void 0&&(g=Te(p)?p:Cl(e[o+1])?[]:{})}Du(d,h,g),d=d[h]}return r},J4=function(r,e,t){return r==null?r:Z4(r,e,t)};class ih{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=function(n){let o=null,a=0,l=0,d=null;const h=new Map;if(n==="")return h;n.charAt(n.length-1)!=";"&&(n+=";");for(let g=0;g<n.length;g++){const p=n.charAt(g);if(o===null)switch(p){case":":d||(d=n.substr(a,g-a),l=g+1);break;case'"':case"'":o=p;break;case";":{const A=n.substr(l,g-l);d&&h.set(d.trim(),A.trim()),d=null,a=g+1;break}}else p===o&&(o=null)}return h}(e);for(const[n,o]of t)this._styleProcessor.toNormalizedForm(n,o,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find(([n])=>n===e);return Array.isArray(t)}set(e,t){if(Te(e))for(const[n,o]of Object.entries(e))this._styleProcessor.toNormalizedForm(n,o,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=sh(e);Y4(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Te(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find(([n])=>n===e);return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([t])=>t)}clear(){this._styles={}}getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const n of t)e.push(...this._styleProcessor.getReducedForm(n,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const n=t.splice(0,t.length-1).join("."),o=Os(this._styles,n);o&&!Object.keys(o).length&&this.remove(n)}}class X4{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,n){if(Te(t))ah(n,sh(e),t);else if(this._normalizers.has(e)){const o=this._normalizers.get(e),{path:a,value:l}=o(t);ah(n,a,l)}else ah(n,e,t)}getNormalized(e,t){if(!e)return $u({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const n=this._extractors.get(e);if(typeof n=="string")return Os(t,n);const o=n(e,t);if(o)return o}return Os(t,sh(e))}getReducedForm(e,t){const n=this.getNormalized(e,t);return n===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(o=>{const a=this.getNormalized(o,e);return a&&typeof a=="object"?Object.keys(a).length:a}),n=new Set([...t,...Object.keys(e)]);return Array.from(n)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t)this._mapStyleNames(n,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function sh(r){return r.replace("-",".")}function ah(r,e,t){let n=t;Te(t)&&(n=$u({},Os(r,e),t)),J4(r,e,n)}class on extends So{constructor(e,t,n,o){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=function(a){const l=er(a);for(const[d,h]of l)h===null?l.delete(d):typeof h!="string"&&l.set(d,String(h));return l}(n),this._children=[],o&&this._insertChild(0,o),this._classes=new Set,this._attrs.has("class")){const a=this._attrs.get("class");gb(this._classes,a),this._attrs.delete("class")}this._styles=new ih(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof on))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,n]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==n)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new nr(...e);let n=this.parent;for(;n&&!n.is("documentFragment");){if(t.match(n))return n;n=n.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map(o=>`${o[0]}="${o[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(n==""?"":` ${n}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const o of this.getChildren())t.push(o._clone(e));const n=new this.constructor(this.document,this.name,this._attrs,t);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;const o=function(a,l){return typeof l=="string"?[new Fe(a,l)]:(tn(l)||(l=[l]),Array.from(l).map(d=>typeof d=="string"?new Fe(a,d):d instanceof tr?new Fe(a,d.data):d))}(this.document,t);for(const a of o)a.parent!==null&&a._remove(),a.parent=this,a.document=this.document,this._children.splice(e,0,a),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const n=String(t);this._fireChange("attributes",this),e=="class"?gb(this._classes,n):e=="style"?this._styles.setTo(n):this._attrs.set(e,n)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of He(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of He(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of He(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function gb(r,e){const t=e.split(/\s+/);r.clear(),t.forEach(n=>r.add(n))}on.prototype.is=function(r,e){return e?e===this.name&&(r==="element"||r==="view:element"):r==="element"||r==="view:element"||r==="node"||r==="view:node"};class zs extends on{constructor(e,t,n,o){super(e,t,n,o),this.getFillerOffset=eI}}function eI(){const r=[...this.getChildren()],e=r[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of r)if(!t.is("uiElement"))return null;return this.childCount}zs.prototype.is=function(r,e){return e?e===this.name&&(r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class Ol extends Re(zs){constructor(e,t,n,o){super(e,t,n,o),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",a=>a&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Ol.prototype.is=function(r,e){return e?e===this.name&&(r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};const pb=Symbol("rootName");class fb extends Ol{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(pb)}set rootName(e){this._setCustomProperty(pb,e)}set _name(e){this.name=e}}fb.prototype.is=function(r,e){return e?e===this.name&&(r==="rootElement"||r==="view:rootElement"||r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="rootElement"||r==="view:rootElement"||r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class Io{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new P("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new P("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=se._createAt(e.startPosition):this._position=se._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n;do n=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=n)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let o;if(n instanceof Fe){if(e.isAtEnd)return this._position=se._createAfter(n),this._next();o=n.data[e.offset]}else o=n.getChild(e.offset);if(o instanceof on){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new se(o,0);return this._position=e,this._formatReturnValue("elementStart",o,t,e,1)}if(o instanceof Fe){if(this.singleCharacters)return e=new se(o,0),this._position=e,this._next();let a,l=o.data.length;return o==this._boundaryEndParent?(l=this.boundaries.end.offset,a=new tr(o,0,l),e=se._createAfter(a)):(a=new tr(o,0,o.data.length),e.offset++),this._position=e,this._formatReturnValue("text",a,t,e,l)}if(typeof o=="string"){let a;this.singleCharacters?a=1:a=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset;const l=new tr(n,e.offset,a);return e.offset+=a,this._position=e,this._formatReturnValue("text",l,t,e,a)}return e=se._createAfter(n),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e)}_previous(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let o;if(n instanceof Fe){if(e.isAtStart)return this._position=se._createBefore(n),this._previous();o=n.data[e.offset-1]}else o=n.getChild(e.offset-1);if(o instanceof on)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",o,t,e,1)):(e=new se(o,o.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",o,t,e));if(o instanceof Fe){if(this.singleCharacters)return e=new se(o,o.data.length),this._position=e,this._previous();let a,l=o.data.length;if(o==this._boundaryStartParent){const d=this.boundaries.start.offset;a=new tr(o,d,o.data.length-d),l=a.data.length,e=se._createBefore(a)}else a=new tr(o,0,o.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",a,t,e,l)}if(typeof o=="string"){let a;if(this.singleCharacters)a=1;else{const d=n===this._boundaryStartParent?this.boundaries.start.offset:0;a=e.offset-d}e.offset-=a;const l=new tr(n,e.offset,a);return this._position=e,this._formatReturnValue("text",l,t,e,a)}return e=se._createBefore(n),this._position=e,this._formatReturnValue("elementStart",n,t,e,1)}_formatReturnValue(e,t,n,o,a){return t instanceof tr&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=se._createAfter(t.textNode):(o=se._createAfter(t.textNode),this._position=o)),t.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=se._createBefore(t.textNode):(o=se._createBefore(t.textNode),this._position=o))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:o,length:a}}}}class se extends Do{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Ol);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=se._createAt(this),n=t.offset+e;return t.offset=n<0?0:n,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new Io(t);return n.skip(e),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let o=0;for(;t[o]==n[o]&&t[o];)o++;return o===0?null:t[o-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);const o=Pt(t,n);switch(o){case"prefix":return"before";case"extension":return"after";default:return t[o]<n[o]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Io(e)}clone(){return new se(this.parent,this.offset)}static _createAt(e,t){if(e instanceof se)return new this(e.parent,e.offset);{const n=e;if(t=="end")t=n.is("$text")?n.data.length:n.childCount;else{if(t=="before")return this._createBefore(n);if(t=="after")return this._createAfter(n);if(t!==0&&!t)throw new P("view-createpositionat-offset-required",n)}return new se(n,t)}}static _createAfter(e){if(e.is("$textProxy"))return new se(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new P("view-position-after-root",e,{root:e});return new se(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new se(e.textNode,e.offsetInText);if(!e.parent)throw new P("view-position-before-root",e,{root:e});return new se(e.parent,e.index)}}se.prototype.is=function(r){return r==="position"||r==="view:position"};class ke extends Do{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new Io({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(zl,{direction:"backward"}),t=this.end.getLastMatchingPosition(zl);return e.parent.is("$text")&&e.isAtStart&&(e=se._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=se._createAfter(t.parent)),new ke(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(zl);if(e.isAfter(this.end)||e.isEqual(this.end))return new ke(e,e);let t=this.end.getLastMatchingPosition(zl,{direction:"backward"});const n=e.nodeAfter,o=t.nodeBefore;return n&&n.is("$text")&&(e=new se(n,0)),o&&o.is("$text")&&(t=new se(o,o.data.length)),new ke(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),o=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&o}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new ke(this.start,e.start)),this.containsPosition(e.end)&&t.push(new ke(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new ke(t,n)}return null}getWalker(e={}){return e.boundaries=this,new Io(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new ke(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Io(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new Io(e);yield t.position;for(const n of t)yield n.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,o){return new this(new se(e,t),new se(n,o))}static _createFromPositionAndShift(e,t){const n=e,o=e.getShiftedBy(t);return t>0?new this(n,o):new this(o,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(se._createBefore(e),t)}}function zl(r){return!(!r.item.is("attributeElement")&&!r.item.is("uiElement"))}ke.prototype.is=function(r){return r==="range"||r==="view:range"};class On extends K(Do){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const o of e._ranges)if(t.isEqual(o)){n=!0;break}if(!n)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=_u(this.getRanges());if(t!=_u(e.getRanges()))return!1;if(t==0)return!0;for(let n of this.getRanges()){n=n.getTrimmed();let o=!1;for(let a of e.getRanges())if(a=a.getTrimmed(),n.start.isEqual(a.start)&&n.end.isEqual(a.end)){o=!0;break}if(!o)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,n,o]=e;if(typeof n=="object"&&(o=n,n=void 0),t===null)this._setRanges([]),this._setFakeOptions(o);else if(t instanceof On||t instanceof lh)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof ke)this._setRanges([t],o&&o.backward),this._setFakeOptions(o);else if(t instanceof se)this._setRanges([new ke(t)]),this._setFakeOptions(o);else if(t instanceof So){const a=!!o&&!!o.backward;let l;if(n===void 0)throw new P("view-selection-setto-required-second-parameter",this);l=n=="in"?ke._createIn(t):n=="on"?ke._createOn(t):new ke(se._createAt(t,n)),this._setRanges([l],a),this._setFakeOptions(o)}else{if(!tn(t))throw new P("view-selection-setto-not-selectable",this);this._setRanges(t,o&&o.backward),this._setFakeOptions(o)}this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new P("view-selection-setfocus-no-ranges",this);const n=se._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const o=this.anchor;this._ranges.pop(),n.compareWith(o)=="before"?this._addRange(new ke(n,o),!0):this._addRange(new ke(o,n)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const n of e)this._addRange(n);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof ke))throw new P("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new P("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new ke(e.start,e.end))}}On.prototype.is=function(r){return r==="selection"||r==="view:selection"};class lh extends K(Do){constructor(...e){super(),this._selection=new On,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}lh.prototype.is=function(r){return r==="selection"||r=="documentSelection"||r=="view:selection"||r=="view:documentSelection"};class wi extends M{constructor(e,t,n){super(e,t),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const ch=Symbol("bubbling contexts");function dh(r){return class extends r{fire(e,...t){try{const n=e instanceof M?e:new M(this,e),o=uh(this);if(!o.size)return;if(Rs(n,"capturing",this),Ai(o,"$capture",n,...t))return n.return;const a=n.startRange||this.selection.getFirstRange(),l=a?a.getContainedElement():null,d=!!l&&!!kb(o,l);let h=l||function(g){if(!g)return null;const p=g.start.parent,A=g.end.parent,y=p.getPath(),E=A.getPath();return y.length>E.length?p:A}(a);if(Rs(n,"atTarget",h),!d){if(Ai(o,"$text",n,...t))return n.return;Rs(n,"bubbling",h)}for(;h;){if(h.is("rootElement")){if(Ai(o,"$root",n,...t))return n.return}else if(h.is("element")&&Ai(o,h.name,n,...t))return n.return;if(Ai(o,h,n,...t))return n.return;h=h.parent,Rs(n,"bubbling",h)}return Rs(n,"bubbling",this),Ai(o,"$document",n,...t),n.return}catch(n){P.rethrowUnexpectedError(n,this)}}_addEventListener(e,t,n){const o=He(n.context||"$document"),a=uh(this);for(const l of o){let d=a.get(l);d||(d=new(K()),a.set(l,d)),this.listenTo(d,e,t,n)}}_removeEventListener(e,t){const n=uh(this);for(const o of n.values())this.stopListening(o,e,t)}}}{const r=dh(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{dh[e]=r.prototype[e]})}function Rs(r,e,t){r instanceof wi&&(r._eventPhase=e,r._currentTarget=t)}function Ai(r,e,t,...n){const o=typeof e=="string"?r.get(e):kb(r,e);return!!o&&(o.fire(t,...n),t.stop.called)}function kb(r,e){for(const[t,n]of r)if(typeof t=="function"&&t(e))return n;return null}function uh(r){return r[ch]||(r[ch]=new Map),r[ch]}class Rl extends dh(Re()){constructor(e){super(),this._postFixers=new Set,this.selection=new lh,this.roots=new Pn({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(t=n(e),t)break;while(t)}}class To extends on{constructor(e,t,n,o){super(e,t,n,o),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=tI}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new P("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function tI(){if(hh(this))return null;let r=this.parent;for(;r&&r.is("attributeElement");){if(hh(r)>1)return null;r=r.parent}return!r||hh(r)>1?null:this.childCount}function hh(r){return Array.from(r.getChildren()).filter(e=>!e.is("uiElement")).length}To.DEFAULT_PRIORITY=10,To.prototype.is=function(r,e){return e?e===this.name&&(r==="attributeElement"||r==="view:attributeElement"||r==="element"||r==="view:element"):r==="attributeElement"||r==="view:attributeElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class mh extends on{constructor(e,t,n,o){super(e,t,n,o),this.getFillerOffset=nI}_insertChild(e,t){if(t&&(t instanceof So||Array.from(t).length>0))throw new P("view-emptyelement-cannot-add",[this,t]);return 0}}function nI(){return null}mh.prototype.is=function(r,e){return e?e===this.name&&(r==="emptyElement"||r==="view:emptyElement"||r==="element"||r==="view:element"):r==="emptyElement"||r==="view:emptyElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class Fl extends on{constructor(e,t,n,o){super(e,t,n,o),this.getFillerOffset=oI}_insertChild(e,t){if(t&&(t instanceof So||Array.from(t).length>0))throw new P("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const n of this.getAttributeKeys())t.setAttribute(n,this.getAttribute(n));return t}}function rI(r){r.document.on("arrowKey",(e,t)=>function(n,o,a){if(o.keyCode==Ie.arrowright){const l=o.domTarget.ownerDocument.defaultView.getSelection(),d=l.rangeCount==1&&l.getRangeAt(0).collapsed;if(d||o.shiftKey){const h=l.focusNode,g=l.focusOffset,p=a.domPositionToView(h,g);if(p===null)return;let A=!1;const y=p.getLastMatchingPosition(E=>(E.item.is("uiElement")&&(A=!0),!(!E.item.is("uiElement")&&!E.item.is("attributeElement"))));if(A){const E=a.viewPositionToDom(y);d?l.collapse(E.parent,E.offset):l.extend(E.parent,E.offset)}}}}(0,t,r.domConverter),{priority:"low"})}function oI(){return null}Fl.prototype.is=function(r,e){return e?e===this.name&&(r==="uiElement"||r==="view:uiElement"||r==="element"||r==="view:element"):r==="uiElement"||r==="view:uiElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class gh extends on{constructor(e,t,n,o){super(e,t,n,o),this.getFillerOffset=iI}_insertChild(e,t){if(t&&(t instanceof So||Array.from(t).length>0))throw new P("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}function iI(){return null}gh.prototype.is=function(r,e){return e?e===this.name&&(r==="rawElement"||r==="view:rawElement"||r==="element"||r==="view:element"):r==="rawElement"||r==="view:rawElement"||r===this.name||r==="view:"+this.name||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class No extends K(Do){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;const o=function(a,l){return typeof l=="string"?[new Fe(a,l)]:(tn(l)||(l=[l]),Array.from(l).map(d=>typeof d=="string"?new Fe(a,d):d instanceof tr?new Fe(a,d.data):d))}(this.document,t);for(const a of o)a.parent!==null&&a._remove(),a.parent=this,this._children.splice(e,0,a),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}No.prototype.is=function(r){return r==="documentFragment"||r==="view:documentFragment"};class bb{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new No(this.document,e)}createText(e){return new Fe(this.document,e)}createAttributeElement(e,t,n={}){const o=new To(this.document,e,t);return typeof n.priority=="number"&&(o._priority=n.priority),n.id&&(o._id=n.id),n.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),o}createContainerElement(e,t,n={},o={}){let a=null;rn(n)?o=n:a=n;const l=new zs(this.document,e,t,a);return o.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),l}createEditableElement(e,t,n={}){const o=new Ol(this.document,e,t);return n.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),o}createEmptyElement(e,t,n={}){const o=new mh(this.document,e,t);return n.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),o}createUIElement(e,t,n){const o=new Fl(this.document,e,t);return n&&(o.render=n),o}createRawElement(e,t,n,o={}){const a=new gh(this.document,e,t);return n&&(a.render=n),o.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),a}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){rn(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof se?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new P("view-writer-break-non-container-element",this.document);if(!t.parent)throw new P("view-writer-break-root",this.document);if(e.isAtStart)return se._createBefore(t);if(!e.isAtEnd){const n=t._clone(!1);this.insert(se._createAfter(t),n);const o=new ke(e,se._createAt(t,"end")),a=new se(n,0);this.move(o,a)}return se._createAfter(t)}mergeAttributes(e){const t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&n.childCount===0){const l=n.parent,d=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new se(l,d))}const o=n.getChild(t-1),a=n.getChild(t);if(!o||!a)return e;if(o.is("$text")&&a.is("$text"))return Ab(o,a);if(o.is("attributeElement")&&a.is("attributeElement")&&o.isSimilar(a)){const l=o.childCount;return o._appendChild(a.getChildren()),a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new se(o,l))}return e}mergeContainers(e){const t=e.nodeBefore,n=e.nodeAfter;if(!(t&&n&&t.is("containerElement")&&n.is("containerElement")))throw new P("view-writer-merge-containers-invalid-position",this.document);const o=t.getChild(t.childCount-1),a=o instanceof Fe?se._createAt(o,"end"):se._createAt(t,"end");return this.move(ke._createIn(n),se._createAt(t,"end")),this.remove(ke._createOn(n)),a}insert(e,t){Cb(t=tn(t)?[...t]:[t],this.document);const n=t.reduce((l,d)=>{const h=l[l.length-1],g=!d.is("uiElement");return h&&h.breakAttributes==g?h.nodes.push(d):l.push({breakAttributes:g,nodes:[d]}),l},[]);let o=null,a=e;for(const{nodes:l,breakAttributes:d}of n){const h=this._insertNodes(a,l,d);o||(o=h.start),a=h.end}return o?new ke(o,a):new ke(e)}remove(e){const t=e instanceof ke?e:ke._createOn(e);if(Fs(t,this.document),t.isCollapsed)return new No(this.document);const{start:n,end:o}=this._breakAttributesRange(t,!0),a=n.parent,l=o.offset-n.offset,d=a._removeChildren(n.offset,l);for(const g of d)this._removeFromClonedElementsGroup(g);const h=this.mergeAttributes(n);return t.start=h,t.end=h.clone(),new No(this.document,d)}clear(e,t){Fs(e,this.document);const n=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const o of n){const a=o.item;let l;if(a.is("element")&&t.isSimilar(a))l=ke._createOn(a);else if(!o.nextPosition.isAfter(e.start)&&a.is("$textProxy")){const d=a.getAncestors().find(h=>h.is("element")&&t.isSimilar(h));d&&(l=ke._createIn(d))}l&&(l.end.isAfter(e.end)&&(l.end=e.end),l.start.isBefore(e.start)&&(l.start=e.start),this.remove(l))}}move(e,t){let n;if(t.isAfter(e.end)){const o=(t=this._breakAttributes(t,!0)).parent,a=o.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=o.childCount-a}else n=this.remove(e);return this.insert(t,n)}wrap(e,t){if(!(t instanceof To))throw new P("view-writer-wrap-invalid-attribute",this.document);if(Fs(e,this.document),e.isCollapsed){let o=e.start;o.parent.is("element")&&(n=o.parent,!Array.from(n.getChildren()).some(l=>!l.is("uiElement")))&&(o=o.getLastMatchingPosition(l=>l.item.is("uiElement"))),o=this._wrapPosition(o,t);const a=this.document.selection;return a.isCollapsed&&a.getFirstPosition().isEqual(e.start)&&this.setSelection(o),new ke(o)}return this._wrapRange(e,t);var n}unwrap(e,t){if(!(t instanceof To))throw new P("view-writer-unwrap-invalid-attribute",this.document);if(Fs(e,this.document),e.isCollapsed)return e;const{start:n,end:o}=this._breakAttributesRange(e,!0),a=n.parent,l=this._unwrapChildren(a,n.offset,o.offset,t),d=this.mergeAttributes(l.start);d.isEqual(l.start)||l.end.offset--;const h=this.mergeAttributes(l.end);return new ke(d,h)}rename(e,t){const n=new zs(this.document,e,t.getAttributes());return this.insert(se._createAfter(t),n),this.move(ke._createIn(t),se._createAt(n,0)),this.remove(ke._createOn(t)),n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return se._createAt(e,t)}createPositionAfter(e){return se._createAfter(e)}createPositionBefore(e){return se._createBefore(e)}createRange(e,t){return new ke(e,t)}createRangeOn(e){return ke._createOn(e)}createRangeIn(e){return ke._createIn(e)}createSelection(...e){return new On(...e)}createSlot(e="children"){if(!this._slotFactory)throw new P("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,n){let o,a;if(o=n?ph(e):e.parent.is("$text")?e.parent.parent:e.parent,!o)throw new P("view-writer-invalid-position-container",this.document);a=n?this._breakAttributes(e,!0):e.parent.is("$text")?fh(e):e;const l=o._insertChild(a.offset,t);for(const p of t)this._addToClonedElementsGroup(p);const d=a.getShiftedBy(l),h=this.mergeAttributes(a);h.isEqual(a)||d.offset--;const g=this.mergeAttributes(d);return new ke(h,g)}_wrapChildren(e,t,n,o){let a=t;const l=[];for(;a<n;){const h=e.getChild(a),g=h.is("$text"),p=h.is("attributeElement");if(p&&this._wrapAttributeElement(o,h))l.push(new se(e,a));else if(g||!p||sI(o,h)){const A=o._clone();h._remove(),A._appendChild(h),e._insertChild(a,A),this._addToClonedElementsGroup(A),l.push(new se(e,a))}else this._wrapChildren(h,0,h.childCount,o);a++}let d=0;for(const h of l)h.offset-=d,h.offset!=t&&(this.mergeAttributes(h).isEqual(h)||(d++,n--));return ke._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,o){let a=t;const l=[];for(;a<n;){const h=e.getChild(a);if(h.is("attributeElement"))if(h.isSimilar(o)){const g=h.getChildren(),p=h.childCount;h._remove(),e._insertChild(a,g),this._removeFromClonedElementsGroup(h),l.push(new se(e,a),new se(e,a+p)),a+=p,n+=p-1}else this._unwrapAttributeElement(o,h)?(l.push(new se(e,a),new se(e,a+1)),a++):(this._unwrapChildren(h,0,h.childCount,o),a++);else a++}let d=0;for(const h of l)h.offset-=d,!(h.offset==t||h.offset==n)&&(this.mergeAttributes(h).isEqual(h)||(d++,n--));return ke._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:o}=this._breakAttributesRange(e,!0),a=n.parent,l=this._wrapChildren(a,n.offset,o.offset,t),d=this.mergeAttributes(l.start);d.isEqual(l.start)||l.end.offset--;const h=this.mergeAttributes(l.end);return new ke(d,h)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return wb(e.clone());e.parent.is("$text")&&(e=fh(e));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,e.parent._insertChild(e.offset,n);const o=new ke(e,e.getShiftedBy(1));this.wrap(o,t);const a=new se(n.parent,n.index);n._remove();const l=a.nodeBefore,d=a.nodeAfter;return l instanceof Fe&&d instanceof Fe?Ab(l,d):wb(a)}_wrapAttributeElement(e,t){if(!vb(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(n!=="class"&&n!=="style"&&t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n))return!1;for(const n of e.getStyleNames())if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n!=="class"&&n!=="style"&&(t.hasAttribute(n)||this.setAttribute(n,e.getAttribute(n),t));for(const n of e.getStyleNames())t.hasStyle(n)||this.setStyle(n,e.getStyle(n),t);for(const n of e.getClassNames())t.hasClass(n)||this.addClass(n,t);return!0}_unwrapAttributeElement(e,t){if(!vb(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(n!=="class"&&n!=="style"&&(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const n of e.getStyleNames())if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n!=="class"&&n!=="style"&&this.removeAttribute(n,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const n=e.start,o=e.end;if(Fs(e,this.document),e.isCollapsed){const h=this._breakAttributes(e.start,t);return new ke(h,h)}const a=this._breakAttributes(o,t),l=a.parent.childCount,d=this._breakAttributes(n,t);return a.offset+=a.parent.childCount-l,new ke(d,a)}_breakAttributes(e,t=!1){const n=e.offset,o=e.parent;if(e.parent.is("emptyElement"))throw new P("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new P("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new P("view-writer-cannot-break-raw-element",this.document);if(!t&&o.is("$text")&&kh(o.parent)||kh(o))return e.clone();if(o.is("$text"))return this._breakAttributes(fh(e),t);if(n==o.childCount){const a=new se(o.parent,o.index+1);return this._breakAttributes(a,t)}if(n===0){const a=new se(o.parent,o.index);return this._breakAttributes(a,t)}{const a=o.index+1,l=o._clone();o.parent._insertChild(a,l),this._addToClonedElementsGroup(l);const d=o.childCount-n,h=o._removeChildren(n,d);l._appendChild(h);const g=new se(o.parent,a);return this._breakAttributes(g,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const o of e.getChildren())this._addToClonedElementsGroup(o);const t=e.id;if(!t)return;let n=this._cloneGroups.get(t);n||(n=new Set,this._cloneGroups.set(t,n)),n.add(e),e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const o of e.getChildren())this._removeFromClonedElementsGroup(o);const t=e.id;if(!t)return;const n=this._cloneGroups.get(t);n&&n.delete(e)}}function ph(r){let e=r.parent;for(;!kh(e);){if(!e)return;e=e.parent}return e}function sI(r,e){return r.priority<e.priority||!(r.priority>e.priority)&&r.getIdentity()<e.getIdentity()}function wb(r){const e=r.nodeBefore;if(e&&e.is("$text"))return new se(e,e.data.length);const t=r.nodeAfter;return t&&t.is("$text")?new se(t,0):r}function fh(r){if(r.offset==r.parent.data.length)return new se(r.parent.parent,r.parent.index+1);if(r.offset===0)return new se(r.parent.parent,r.parent.index);const e=r.parent.data.slice(r.offset);return r.parent._data=r.parent.data.slice(0,r.offset),r.parent.parent._insertChild(r.parent.index+1,new Fe(r.root.document,e)),new se(r.parent.parent,r.parent.index+1)}function Ab(r,e){const t=r.data.length;return r._data+=e.data,e._remove(),new se(r,t)}const aI=[Fe,To,zs,mh,gh,Fl];function Cb(r,e){for(const t of r){if(!aI.some(n=>t instanceof n))throw new P("view-writer-insert-invalid-node-type",e);t.is("$text")||Cb(t.getChildren(),e)}}function kh(r){return r&&(r.is("containerElement")||r.is("documentFragment"))}function Fs(r,e){const t=ph(r.start),n=ph(r.end);if(!t||!n||t!==n)throw new P("view-writer-invalid-range-container",e)}function vb(r,e){return r.id===null&&e.id===null}const yb=r=>r.createTextNode(" "),_b=r=>{const e=r.createElement("span");return e.dataset.ckeFiller="true",e.innerText=" ",e},xb=r=>{const e=r.createElement("br");return e.dataset.ckeFiller="true",e},zn=7,Vs="⁠".repeat(zn);function sn(r){return typeof r=="string"?r.substr(0,zn)===Vs:it(r)&&r.data.substr(0,zn)===Vs}function Ci(r){return r.data.length==zn&&sn(r)}function Eb(r){const e=typeof r=="string"?r:r.data;return sn(r)?e.slice(zn):e}function lI(r,e){if(e.keyCode==Ie.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const n=t.getRangeAt(0).startContainer,o=t.getRangeAt(0).startOffset;sn(n)&&o<=zn&&t.collapse(n,0)}}}var Db=m(8264),cI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Db.A,cI),Db.A.locals;class dI extends Re(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),D.isBlink&&!D.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else{if(e!=="children")throw new P("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!D.isAndroid)return;let e=null;const t=!(D.isBlink&&!D.isAndroid)||!this.isSelecting;for(const n of this.markedChildren)this._updateChildrenMappings(n);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=se._createBefore(e.parent)));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:e});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:e});if(t)if(e){const n=this.domConverter.viewPositionToDom(e),o=n.parent.ownerDocument;sn(n.parent)?this._inlineFiller=n.parent:this._inlineFiller=Sb(o,n.parent,n.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.childNodes),o=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),a=this._diffNodeLists(n,o),l=this._findUpdateActions(a,n,o,uI);if(l.indexOf("update")!==-1){const d={equal:0,insert:0,delete:0};for(const h of l)if(h==="update"){const g=d.equal+d.insert,p=d.equal+d.delete,A=e.getChild(g);!A||A.is("uiElement")||A.is("rawElement")||this._updateElementMappings(A,n[p]),Ik(o[g]),d.equal++}else d[h]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?se._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&it(t.parent)&&sn(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!sn(e))throw new P("view-renderer-filler-was-lost",this);Ci(e)?e.remove():e.data=e.data.substr(zn),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(l){if(l.getAttribute("contenteditable")=="false")return!1;const d=l.findAncestor(h=>h.hasAttribute("contenteditable"));return!d||d.getAttribute("contenteditable")=="true"}(t))return!1;const o=e.nodeBefore,a=e.nodeAfter;return!(o instanceof Fe||a instanceof Fe)&&!!(n!==t.getFillerOffset()||o&&o.is("element","br"))&&(!D.isAndroid||!o&&!a)}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e);let o=this.domConverter.viewToDom(e).data;const a=t.inlineFillerPosition;a&&a.parent==e.parent&&a.offset==e.index&&(o=Vs+o),Ib(n,o)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.attributes).map(a=>a.name),o=e.getAttributeKeys();for(const a of o)this.domConverter.setDomElementAttribute(t,a,e.getAttribute(a),e);for(const a of n)e.hasAttribute(a)||this.domConverter.removeDomElementAttribute(t,a)}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n)return;if(D.isAndroid){let A=null;for(const y of Array.from(n.childNodes)){if(A&&it(A)&&it(y)){n.normalize();break}A=y}}const o=t.inlineFillerPosition,a=n.childNodes,l=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));o&&o.parent===e&&Sb(n.ownerDocument,l,o.offset);const d=this._diffNodeLists(a,l),h=this._findUpdateActions(d,a,l,hI);let g=0;const p=new Set;for(const A of h)A==="delete"?(p.add(a[g]),Ik(a[g])):A!=="equal"&&A!=="update"||g++;g=0;for(const A of h)A==="insert"?(xk(n,g,l[g]),g++):A==="update"?(Ib(a[g],l[g].data),g++):A==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(l[g])),g++);for(const A of p)A.parentNode||this.domConverter.unbindDomElement(A)}_diffNodeLists(e,t){return e=function(n,o){const a=Array.from(n);return a.length==0||!o||a[a.length-1]==o&&a.pop(),a}(e,this._fakeSelectionContainer),N(e,t,mI.bind(null,this.domConverter))}_findUpdateActions(e,t,n,o){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let a=[],l=[],d=[];const h={equal:0,insert:0,delete:0};for(const g of e)g==="insert"?d.push(n[h.equal+h.insert]):g==="delete"?l.push(t[h.equal+h.delete]):(a=a.concat(N(l,d,o).map(p=>p==="equal"?"update":p)),a.push("equal"),l=[],d=[]),h[g]++;return a.concat(N(l,d,o).map(g=>g==="equal"?"update":g))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(D.isBlink&&!D.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&D.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(l){const d=l.createElement("div");return d.className="ck-fake-selection-container",Object.assign(d.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),d.textContent=" ",d}(t));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(e))return;n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||" ";const o=t.getSelection(),a=t.createRange();o.removeAllRanges(),a.selectNodeContents(n),o.addRange(a)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),o=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(n.parent,n.offset,o.parent,o.offset),D.isGecko&&function(a,l){let d=a.parent,h=a.offset;if(it(d)&&Ci(d)&&(h=Bs(d)+1,d=d.parentNode),d.nodeType!=Node.ELEMENT_NODE||h!=d.childNodes.length-1)return;const g=d.childNodes[h];g&&g.tagName=="BR"&&l.addRange(l.getRangeAt(0))}(o,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const n=e.activeElement,o=this.domConverter.mapDomToView(n);n&&o&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function Sb(r,e,t){const n=e instanceof Array?e:e.childNodes,o=n[t];if(it(o))return o.data=Vs+o.data,o;{const a=r.createTextNode(Vs);return Array.isArray(e)?n.splice(t,0,a):xk(e,t,a),a}}function uI(r,e){return Or(r)&&Or(e)&&!it(r)&&!it(e)&&!js(r)&&!js(e)&&r.tagName.toLowerCase()===e.tagName.toLowerCase()}function hI(r,e){return Or(r)&&Or(e)&&it(r)&&it(e)}function mI(r,e,t){return e===t||(it(e)&&it(t)?e.data===t.data:!(!r.isBlockFiller(e)||!r.isBlockFiller(t)))}function Ib(r,e){const t=r.data;if(t==e)return;const n=v(t,e);for(const o of n)o.type==="insert"?r.insertData(o.index,o.values.join("")):r.deleteData(o.index,o.howMany)}const gI=xb(C.document),pI=yb(C.document),fI=_b(C.document),Vl="data-ck-unsafe-attribute-",Tb="data-ck-unsafe-element";class Ul{constructor(e,{blockFillerMode:t,renderingMode:n="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new nr,this._inlineObjectElementMatcher=new nr,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=n,this.blockFillerMode=t||(n==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?C.document:C.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new On(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const n of Array.from(e.children))this.unbindDomElement(n)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,n){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(n==="img"&&(e==="src"||e==="srcset")||n==="source"&&e==="srcset"||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data")return void(e.innerHTML=t);const n=new DOMParser().parseFromString(t,"text/html"),o=n.createDocumentFragment(),a=n.body.childNodes;for(;a.length>0;)o.appendChild(a[0]);const l=n.createTreeWalker(o,NodeFilter.SHOW_ELEMENT),d=[];let h;for(;h=l.nextNode();)d.push(h);for(const g of d){for(const A of g.getAttributeNames())this.setDomElementAttribute(g,A,g.getAttribute(A));const p=g.tagName.toLowerCase();this._shouldRenameElement(p)&&(Bb(p),g.replaceWith(this._createReplacementDomElement(p,g)))}for(;e.firstChild;)e.firstChild.remove();e.append(o)}viewToDom(e,t={}){if(e.is("$text")){const n=this._processDataFromViewText(e);return this._domDocument.createTextNode(n)}{const n=e;if(this.mapViewToDom(n)){if(!n.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(n);this._elementsWithTemporaryCustomProperties.add(n)}let o;if(n.is("documentFragment"))o=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(o,n);else{if(n.is("uiElement"))return o=n.name==="$comment"?this._domDocument.createComment(n.getCustomProperty("$rawContent")):n.render(this._domDocument,this),t.bind&&this.bindElements(o,n),o;this._shouldRenameElement(n.name)?(Bb(n.name),o=this._createReplacementDomElement(n.name)):o=n.hasAttribute("xmlns")?this._domDocument.createElementNS(n.getAttribute("xmlns"),n.name):this._domDocument.createElement(n.name),n.is("rawElement")&&n.render(o,this),t.bind&&this.bindElements(o,n);for(const a of n.getAttributeKeys())this.setDomElementAttribute(o,a,n.getAttribute(a),n)}if(t.withChildren!==!1)for(const a of this.viewChildrenToDom(n,t))o instanceof HTMLTemplateElement?o.content.appendChild(a):o.appendChild(a);return o}}setDomElementAttribute(e,t,n,o){const a=this.shouldRenderAttribute(t,n,e.tagName.toLowerCase())||o&&o.shouldRenderUnsafeAttribute(t);a||$("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:n}),function(l){try{C.document.createAttribute(l)}catch{return!1}return!0}(t)?(e.hasAttribute(t)&&!a?e.removeAttribute(t):e.hasAttribute(Vl+t)&&a&&e.removeAttribute(Vl+t),e.setAttribute(a?t:Vl+t,n)):$("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:n})}removeDomElementAttribute(e,t){t!=Tb&&(e.removeAttribute(t),e.removeAttribute(Vl+t))}*viewChildrenToDom(e,t={}){const n=e.getFillerOffset&&e.getFillerOffset();let o=0;for(const a of e.getChildren()){n===o&&(yield this._getBlockFiller());const l=a.is("element")&&!!a.getCustomProperty("dataPipeline:transparentRendering")&&!ft(a.getAttributes());l&&this.renderingMode=="data"?yield*this.viewChildrenToDom(a,t):(l&&$("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:a}),yield this.viewToDom(a,t)),o++}n===o&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),o=this._domDocument.createRange();return o.setStart(t.parent,t.offset),o.setEnd(n.parent,n.offset),o}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const n=this.findCorrespondingDomText(t);if(!n)return null;let o=e.offset;return sn(n)&&(o+=zn),{parent:n,offset:o}}{let n,o,a;if(e.offset===0){if(n=this.mapViewToDom(t),!n)return null;a=n.childNodes[0]}else{const l=e.nodeBefore;if(o=l.is("$text")?this.findCorrespondingDomText(l):this.mapViewToDom(l),!o)return null;n=o.parentNode,a=o.nextSibling}return it(a)&&sn(a)?{parent:a,offset:zn}:{parent:n,offset:o?Bs(o)+1:0}}}domToView(e,t={}){const n=[],o=this._domToView(e,t,n),a=o.next().value;return a?(o.next(),this._processDomInlineNodes(null,n,t),a.is("$text")&&a.data.length==0?null:a):null}*domChildrenToView(e,t={},n=[]){let o=[];o=e instanceof HTMLTemplateElement?[...e.content.childNodes]:[...e.childNodes];for(let a=0;a<o.length;a++){const l=o[a],d=this._domToView(l,t,n),h=d.next().value;h!==null&&(this._isBlockViewElement(h)&&this._processDomInlineNodes(e,n,t),yield h,d.next())}this._processDomInlineNodes(e,n,t)}domSelectionToView(e){if(function(o){if(!D.isGecko||!o.rangeCount)return!1;const a=o.getRangeAt(0).startContainer;try{Object.prototype.toString.call(a)}catch{return!0}return!1}(e))return new On([]);if(e.rangeCount===1){let o=e.getRangeAt(0).startContainer;it(o)&&(o=o.parentNode);const a=this.fakeSelectionToView(o);if(a)return a}const t=this.isDomSelectionBackward(e),n=[];for(let o=0;o<e.rangeCount;o++){const a=e.getRangeAt(o),l=this.domRangeToView(a);l&&n.push(l)}return new On(n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new ke(t,n):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Bs(e));const n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return se._createBefore(n);if(it(e)){if(Ci(e))return this.domPositionToView(e.parentNode,Bs(e));const o=this.findCorrespondingViewText(e);let a=t;return o?(sn(e)&&(a-=zn,a=a<0?0:a),new se(o,a)):null}if(t===0){const o=this.mapDomToView(e);if(o)return new se(o,0)}else{const o=e.childNodes[t-1];if(it(o)&&Ci(o)||o&&this.isBlockFiller(o))return this.domPositionToView(o.parentNode,Bs(o));const a=it(o)?this.findCorrespondingViewText(o):this.mapDomToView(o);if(a&&a.parent)return new se(a.parent,a.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Ci(e))return null;const t=this.getHostViewElement(e);if(t)return t;const n=e.previousSibling;if(n){if(!this.isElement(n))return null;const o=this.mapDomToView(n);if(o){const a=o.nextSibling;return a instanceof Fe?a:null}}else{const o=this.mapDomToView(e.parentNode);if(o){const a=o.getChild(0);return a instanceof Fe?a:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:n,scrollY:o}=C.window,a=[];Nb(t,l=>{const{scrollLeft:d,scrollTop:h}=l;a.push([d,h])}),t.focus(),Nb(t,l=>{const[d,h]=a.shift();l.scrollLeft=d,l.scrollTop=h}),C.window.scrollTo(n,o)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),n=this.domSelectionToView(t);n&&n.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(gI):!(e.tagName!=="BR"||!Mb(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(fI)||function(t,n){return t.isEqualNode(pI)&&Mb(t,n)&&t.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const n=t.collapsed;return t.detach(),n}getHostViewElement(e){const t=function(n){const o=[];let a=n;for(;a&&a.nodeType!=Node.DOCUMENT_NODE;)o.unshift(a),a=a.parentNode;return o}(e);for(t.pop();t.length;){const n=t.pop(),o=this._domToViewMapping.get(n);if(o&&(o.is("uiElement")||o.is("rawElement")))return o}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return yb(this._domDocument);case"markedNbsp":return _b(this._domDocument);case"br":return xb(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(it(e)&&sn(e)&&t<zn||this.isElement(e)&&sn(e.childNodes[t]))return!1;const n=this.mapDomToView(e);return!n||!n.is("uiElement")&&!n.is("rawElement")}*_domToView(e,t,n){if(this.isBlockFiller(e))return null;const o=this.getHostViewElement(e);if(o)return o;if(js(e)&&t.skipComments)return null;if(it(e)){if(Ci(e))return null;{const a=e.data;if(a==="")return null;const l=new Fe(this.document,a);return n.push(l),l}}{let a=this.mapDomToView(e);if(a)return this._isInlineObjectElement(a)&&n.push(a),a;if(this.isDocumentFragment(e))a=new No(this.document),t.bind&&this.bindDocumentFragments(e,a);else{a=this._createViewElement(e,t),t.bind&&this.bindElements(e,a);const d=e.attributes;if(d)for(let h=d.length,g=0;g<h;g++)a._setAttribute(d[g].name,d[g].value);if(this._isViewElementWithRawContent(a,t))return a._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(a)||n.push(a),a;if(js(e))return a._setCustomProperty("$rawContent",e.data),a}yield a;const l=[];if(t.withChildren!==!1)for(const d of this.domChildrenToView(e,t,l))a._appendChild(d);if(this._isInlineObjectElement(a))n.push(a);else for(const d of l)n.push(d)}}_processDomInlineNodes(e,t,n){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if(!l.is("$text")){o=!1;continue}let d,h=!1;if(kI(l,this.preElements))d=Eb(l.data);else{d=l.data.replace(/[ \n\t\r]{1,}/g," "),h=/[^\S\u00A0]/.test(d.charAt(d.length-1));const g=a>0?t[a-1]:null,p=a+1<t.length?t[a+1]:null,A=!g||g.is("element")&&g.name=="br"||o,y=!p&&!sn(l.data);n.withChildren!==!1&&(A&&(d=d.replace(/^ /,"")),y&&(d=d.replace(/ $/,""))),d=Eb(d),d=d.replace(/ \u00A0/g,"  ");const E=p&&p.is("element")&&p.name!="br",I=p&&p.is("$text")&&p.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(d)||!p||E||I)&&(d=d.replace(/\u00A0$/," ")),(A||g&&g.is("element")&&g.name!="br")&&(d=d.replace(/^\u00A0/," "))}d.length==0&&l.parent?(l._remove(),t.splice(a,1),a--):(l._data=d,o=h)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return t;if(t.charAt(0)==" "){const n=this._getTouchingInlineViewNode(e,!1);!(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n))&&n||(t=" "+t.substr(1))}if(t.charAt(t.length-1)==" "){const n=this._getTouchingInlineViewNode(e,!0),o=n&&n.is("$textProxy")&&n.data.charAt(0)==" ";t.charAt(t.length-2)!=" "&&n&&!o||(t=t.substr(0,t.length-1)+" ")}return t.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_getTouchingInlineViewNode(e,t){const n=new Io({startPosition:t?se._createAfter(e):se._createBefore(e),direction:t?"forward":"backward"});for(const o of n){if(o.item.is("element","br"))return null;if(this._isInlineObjectElement(o.item))return o.item;if(o.item.is("containerElement"))return null;if(o.item.is("$textProxy"))return o.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,t){if(js(e))return new Fl(this.document,"$comment");const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new on(this.document,n)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const n=this._domDocument.createElement("span");if(n.setAttribute(Tb,e),t){for(;t.firstChild;)n.appendChild(t.firstChild);for(const o of t.getAttributeNames())n.setAttribute(o,t.getAttribute(o))}return n}}function kI(r,e){return r.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function Nb(r,e){let t=r;for(;t;)e(t),t=t.parentElement}function Mb(r,e){const t=r.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function Bb(r){r==="script"&&$("domconverter-unsafe-script-element-detected"),r==="style"&&$("domconverter-unsafe-style-element-detected")}class rr extends Cn(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const jb=Rk(function(r,e){hi(e,gi(e),r)});class vi{constructor(e,t,n){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,jb(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Rr extends rr{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(n,o)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(o.target)&&this.onDomEvent(o)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,n){this.isEnabled&&this.document.fire(e,new vi(this.view,t,n))}}class bI extends Rr{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return fi(this)}};this.fire(e.type,e,t)}}const bh=function(){return jn.Date.now()};var wI=/\s/;const AI=function(r){for(var e=r.length;e--&&wI.test(r.charAt(e)););return e};var CI=/^\s+/;const vI=function(r){return r&&r.slice(0,AI(r)+1).replace(CI,"")};var yI=/^[-+]0x[0-9a-f]+$/i,_I=/^0b[01]+$/i,xI=/^0o[0-7]+$/i,EI=parseInt;const Pb=function(r){if(typeof r=="number")return r;if(Pl(r))return NaN;if(Te(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=Te(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=vI(r);var t=_I.test(r);return t||xI.test(r)?EI(r.slice(2),t?2:8):yI.test(r)?NaN:+r};var DI=Math.max,SI=Math.min;const yi=function(r,e,t){var n,o,a,l,d,h,g=0,p=!1,A=!1,y=!0;if(typeof r!="function")throw new TypeError("Expected a function");function E(U){var W=n,Z=o;return n=o=void 0,g=U,l=r.apply(Z,W)}function I(U){var W=U-h;return h===void 0||W>=e||W<0||A&&U-g>=a}function T(){var U=bh();if(I(U))return O(U);d=setTimeout(T,function(W){var Z=e-(W-h);return A?SI(Z,a-(W-g)):Z}(U))}function O(U){return d=void 0,y&&n?E(U):(n=o=void 0,l)}function R(){var U=bh(),W=I(U);if(n=arguments,o=this,h=U,W){if(d===void 0)return function(Z){return g=Z,d=setTimeout(T,e),p?E(Z):l}(h);if(A)return clearTimeout(d),d=setTimeout(T,e),E(h)}return d===void 0&&(d=setTimeout(T,e)),l}return e=Pb(e)||0,Te(t)&&(p=!!t.leading,a=(A="maxWait"in t)?DI(Pb(t.maxWait)||0,e):a,y="trailing"in t?!!t.trailing:y),R.cancel=function(){d!==void 0&&clearTimeout(d),g=0,n=h=o=d=void 0},R.flush=function(){return d===void 0?l:O(bh())},R};class II extends rr{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=yi(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&n.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,n=new On(t.getRanges(),{backward:t.isBackward,fake:!1});e!=Ie.arrowleft&&e!=Ie.arrowup||n.setTo(n.getFirstPosition()),e!=Ie.arrowright&&e!=Ie.arrowdown||n.setTo(n.getLastPosition());const o={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",o),this._fireSelectionChangeDoneDebounced(o)}}const TI=function(r){return this.__data__.set(r,"__lodash_hash_undefined__"),this},NI=function(r){return this.__data__.has(r)};function Hl(r){var e=-1,t=r==null?0:r.length;for(this.__data__=new kl;++e<t;)this.add(r[e])}Hl.prototype.add=Hl.prototype.push=TI,Hl.prototype.has=NI;const MI=Hl,BI=function(r,e){for(var t=-1,n=r==null?0:r.length;++t<n;)if(e(r[t],t,r))return!0;return!1},jI=function(r,e){return r.has(e)},Lb=function(r,e,t,n,o,a){var l=1&t,d=r.length,h=e.length;if(d!=h&&!(l&&h>d))return!1;var g=a.get(r),p=a.get(e);if(g&&p)return g==e&&p==r;var A=-1,y=!0,E=2&t?new MI:void 0;for(a.set(r,e),a.set(e,r);++A<d;){var I=r[A],T=e[A];if(n)var O=l?n(T,I,A,e,r,a):n(I,T,A,r,e,a);if(O!==void 0){if(O)continue;y=!1;break}if(E){if(!BI(e,function(R,U){if(!jI(E,U)&&(I===R||o(I,R,t,n,a)))return E.push(U)})){y=!1;break}}else if(I!==T&&!o(I,T,t,n,a)){y=!1;break}}return a.delete(r),a.delete(e),y},PI=function(r){var e=-1,t=Array(r.size);return r.forEach(function(n,o){t[++e]=[o,n]}),t},LI=function(r){var e=-1,t=Array(r.size);return r.forEach(function(n){t[++e]=n}),t};var Ob=Xn?Xn.prototype:void 0,wh=Ob?Ob.valueOf:void 0;const OI=function(r,e,t,n,o,a,l){switch(t){case"[object DataView]":if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(r.byteLength!=e.byteLength||!a(new yl(r),new yl(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return xs(+r,+e);case"[object Error]":return r.name==e.name&&r.message==e.message;case"[object RegExp]":case"[object String]":return r==e+"";case"[object Map]":var d=PI;case"[object Set]":var h=1&n;if(d||(d=LI),r.size!=e.size&&!h)return!1;var g=l.get(r);if(g)return g==e;n|=2,l.set(r,e);var p=Lb(d(r),d(e),n,o,a,l);return l.delete(r),p;case"[object Symbol]":if(wh)return wh.call(r)==wh.call(e)}return!1};var zI=Object.prototype.hasOwnProperty;const RI=function(r,e,t,n,o,a){var l=1&t,d=ju(r),h=d.length;if(h!=ju(e).length&&!l)return!1;for(var g=h;g--;){var p=d[g];if(!(l?p in e:zI.call(e,p)))return!1}var A=a.get(r),y=a.get(e);if(A&&y)return A==e&&y==r;var E=!0;a.set(r,e),a.set(e,r);for(var I=l;++g<h;){var T=r[p=d[g]],O=e[p];if(n)var R=l?n(O,T,p,e,r,a):n(T,O,p,r,e,a);if(!(R===void 0?T===O||o(T,O,t,n,a):R)){E=!1;break}I||(I=p=="constructor")}if(E&&!I){var U=r.constructor,W=e.constructor;U==W||!("constructor"in r)||!("constructor"in e)||typeof U=="function"&&U instanceof U&&typeof W=="function"&&W instanceof W||(E=!1)}return a.delete(r),a.delete(e),E};var zb="[object Arguments]",Rb="[object Array]",ql="[object Object]",Fb=Object.prototype.hasOwnProperty;const FI=function(r,e,t,n,o,a){var l=nn(r),d=nn(e),h=l?Rb:Ns(r),g=d?Rb:Ns(e),p=(h=h==zb?ql:h)==ql,A=(g=g==zb?ql:g)==ql,y=h==g;if(y&&Ss(r)){if(!Ss(e))return!1;l=!0,p=!1}if(y&&!p)return a||(a=new ui),l||Nu(r)?Lb(r,e,t,n,o,a):OI(r,e,h,t,n,o,a);if(!(1&t)){var E=p&&Fb.call(r,"__wrapped__"),I=A&&Fb.call(e,"__wrapped__");if(E||I){var T=E?r.value():r,O=I?e.value():e;return a||(a=new ui),o(T,O,t,n,a)}}return!!y&&(a||(a=new ui),RI(r,e,t,n,o,a))},Wl=function r(e,t,n,o,a){return e===t||(e==null||t==null||!wn(e)&&!wn(t)?e!=e&&t!=t:FI(e,t,n,o,r,a))},VI=function(r,e,t){var n=(t=typeof t=="function"?t:void 0)?t(r,e):void 0;return n===void 0?Wl(r,e,void 0,t):!!n};class Vb extends rr{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,n=new Set,o=new Set;for(const l of e){const d=t.mapDomToView(l.target);d&&(d.is("uiElement")||d.is("rawElement")||l.type!=="childList"||this._isBogusBrMutation(l)||o.add(d))}for(const l of e){const d=t.mapDomToView(l.target);if((!d||!d.is("uiElement")&&!d.is("rawElement"))&&l.type==="characterData"){const h=t.findCorrespondingViewText(l.target);h&&!o.has(h.parent)?n.add(h):!h&&sn(l.target)&&o.add(t.mapDomToView(l.target.parentNode))}}let a=!1;for(const l of n)a=!0,this.renderer.markToSync("text",l);for(const l of o){const d=t.mapViewToDom(l),h=Array.from(l.getChildren()),g=Array.from(t.domChildrenToView(d,{withChildren:!1}));VI(h,g,UI)||(a=!0,this.renderer.markToSync("children",l))}a&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function UI(r,e){if(!Array.isArray(r))return r===e||!(!r.is("$text")||!e.is("$text"))&&r.data===e.data}class $l extends Rr{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(n,o)=>{const a=t.selection.editableElement;a!==null&&a!==o.target||(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class HI extends rr{constructor(e){super(e),this.mutationObserver=e.getObserver(Vb),this.focusObserver=e.getObserver($l),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=yi(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=yi(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,n=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",n,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",n,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",n,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(o,a)=>{this.document.isComposing&&!D.isAndroid||(this._handleSelectionChange(a,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const n=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const o=this.domConverter.domSelectionToView(n);if(o.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(o)||!this.domConverter.isDomSelectionCorrect(n))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(o))this.view.forceRender();else{const a={oldSelection:this.selection,newSelection:o,domSelection:n};this.document.fire("selectionChange",a),this._fireSelectionChangeDoneDebounced(a)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class qI extends Rr{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class Ub{constructor(e,t={}){this._files=t.cacheFiles?Hb(e):null,this._native=e}get files(){return this._files||(this._files=Hb(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,n){this._native.setDragImage(e,t,n)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Hb(r){const e=Array.from(r.files||[]),t=Array.from(r.items||[]);return e.length?e:t.filter(n=>n.kind==="file").map(n=>n.getAsFile())}class WI extends Rr{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),n=this.view,o=n.document;let a=null,l=null,d=[];if(e.dataTransfer&&(a=new Ub(e.dataTransfer)),e.data!==null?l=e.data:a&&(l=a.getData("text/plain")),o.selection.isFake)d=Array.from(o.selection.getRanges());else if(t.length)d=t.map(h=>{const g=n.domConverter.domPositionToView(h.startContainer,h.startOffset),p=n.domConverter.domPositionToView(h.endContainer,h.endOffset);return g?n.createRange(g,p):p?n.createRange(p):void 0}).filter(h=>!!h);else if(D.isAndroid){const h=e.target.ownerDocument.defaultView.getSelection();d=Array.from(n.domConverter.domSelectionToView(h).getRanges())}if(D.isAndroid&&e.inputType=="insertCompositionText"&&l&&l.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[n.createRange(d[0].end)]});else if(e.inputType=="insertText"&&l&&l.includes(`
`)){const h=l.split(/\n{1,2}/g);let g=d;for(let p=0;p<h.length;p++){const A=h[p];A!=""&&(this.fire(e.type,e,{data:A,dataTransfer:a,targetRanges:g,inputType:e.inputType,isComposing:e.isComposing}),g=[o.selection.getFirstRange()]),p+1<h.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:g}),g=[o.selection.getFirstRange()])}}else this.fire(e.type,e,{data:l,dataTransfer:a,targetRanges:d,inputType:e.inputType,isComposing:e.isComposing})}}class $I extends rr{constructor(e){super(e),this.document.on("keydown",(t,n)=>{if(this.isEnabled&&((o=n.keyCode)==Ie.arrowright||o==Ie.arrowleft||o==Ie.arrowup||o==Ie.arrowdown)){const a=new wi(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(a,n),a.stop.called&&t.stop()}var o})}observe(){}stopObserving(){}}class GI extends rr{constructor(e){super(e);const t=this.document;t.on("keydown",(n,o)=>{if(!this.isEnabled||o.keyCode!=Ie.tab||o.ctrlKey)return;const a=new wi(t,"tab",t.selection.getFirstRange());t.fire(a,o),a.stop.called&&n.stop()})}observe(){}stopObserving(){}}const Rn=function(r){return Fu(r,5)};class KI extends Re(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Rl(e),this.domConverter=new Ul(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new dI(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new bb(this.document),this.addObserver(Vb),this.addObserver($l),this.addObserver(HI),this.addObserver(bI),this.addObserver(II),this.addObserver(qI),this.addObserver($I),this.addObserver(WI),this.addObserver(GI),this.document.on("arrowKey",lI,{priority:"low"}),rI(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),D.isiOS&&this.listenTo(this.document,"blur",(t,n)=>{this.domConverter.mapDomToView(n.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,t="main"){const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const o={};for(const{name:l,value:d}of Array.from(e.attributes))o[l]=d,l==="class"?this._writer.addClass(d.split(" "),n):this._writer.setAttribute(l,d,n);this._initialDomRootAttributes.set(e,o);const a=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};a(),this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(e.ownerDocument),n.on("change:children",(l,d)=>this._renderer.markToSync("children",d)),n.on("change:attributes",(l,d)=>this._renderer.markToSync("attributes",d)),n.on("change:text",(l,d)=>this._renderer.markToSync("text",d)),n.on("change:isReadOnly",()=>this.change(a)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const l of this._observers.values())l.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:o})=>t.removeAttribute(o));const n=this._initialDomRootAttributes.get(t);for(const o in n)t.setAttribute(o,n[o]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const o of this._observers.values())o.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[n,o]of this.domRoots)t.observe(o,n);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:n=20,ancestorOffset:o=20}={}){const a=this.document.selection.getFirstRange();if(!a)return;const l=Rn({alignToTop:e,forceScroll:t,viewportOffset:n,ancestorOffset:o});typeof n=="number"&&(n={top:n,bottom:n,left:n,right:n});const d={target:this.domConverter.viewRangeToDom(a),viewportOffset:n,ancestorOffset:o,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",d,l),function({target:h,viewportOffset:g=0,ancestorOffset:p=0,alignToTop:A,forceScroll:y}){const E=Hu(h);let I=E,T=null;for(g=function(O){return typeof O=="number"?{top:O,bottom:O,left:O,right:O}:O}(g);I;){let O;O=n4(I==E?h:T),t4({parent:O,getRect:()=>jk(h,I),alignToTop:A,ancestorOffset:p,forceScroll:y});const R=jk(h,I);if(e4({window:I,rect:R,viewportOffset:g,alignToTop:A,forceScroll:y}),I.parent!=I){if(T=I.frameElement,I=I.parent,!T)return}else I=null}}(d)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new P("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){P.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver($l).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return se._createAt(e,t)}createPositionAfter(e){return se._createAfter(e)}createPositionBefore(e){return se._createBefore(e)}createRange(e,t){return new ke(e,t)}createRangeOn(e){return ke._createOn(e)}createRangeIn(e){return ke._createIn(e)}createSelection(...e){return new On(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Fr{is(){throw new Error("is() method is abstract")}}class Mo extends Fr{constructor(e){super(),this.parent=null,this._attrs=er(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new P("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new P("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),o=e.getAncestors(t);let a=0;for(;n[a]==o[a]&&n[a];)a++;return a===0?null:n[a-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),o=Pt(t,n);switch(o){case"prefix":return!0;case"extension":return!1;default:return t[o]<n[o]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,n)=>(t[n[0]]=n[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=er(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Mo.prototype.is=function(r){return r==="node"||r==="model:node"};class Us{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((n,o)=>n+o.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new P("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize)return this.getNodeIndex(n);t+=n.offsetSize}if(t!=e)throw new P("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const n of t)if(!(n instanceof Mo))throw new P("model-nodelist-insertnodes-not-node",this);this._nodes=function(n,o,a,l){if(Math.max(o.length,n.length)>1e4)return n.slice(0,a).concat(o).concat(n.slice(a+l,n.length));{const d=Array.from(n);return d.splice(a,l,...o),d}}(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class Ve extends Mo{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Ve(this.data,this.getAttributes())}static fromJSON(e){return new Ve(e.data,e.attributes)}}Ve.prototype.is=function(r){return r==="$text"||r==="model:$text"||r==="text"||r==="model:text"||r==="node"||r==="model:node"};class Fn extends Fr{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new P("model-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.offsetSize)throw new P("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Fn.prototype.is=function(r){return r==="$textProxy"||r==="model:$textProxy"||r==="textProxy"||r==="model:textProxy"};class Le extends Mo{constructor(e,t,n){super(t),this._children=new Us,this.name=e,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}findAncestor(e,t={}){let n=t.includeSelf?this:this.parent;for(;n;){if(n.name===e)return n;n=n.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(n=>n._clone(!0)):void 0;return new Le(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(o){return typeof o=="string"?[new Ve(o)]:(tn(o)||(o=[o]),Array.from(o).map(a=>typeof a=="string"?new Ve(a):a instanceof Fn?new Ve(a.data,a.getAttributes()):a))}(t);for(const o of n)o.parent!==null&&o._remove(),o.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const o of n)o.parent=null;return n}static fromJSON(e){let t;if(e.children){t=[];for(const n of e.children)n.name?t.push(Le.fromJSON(n)):t.push(Ve.fromJSON(n))}return new Le(e.name,e.attributes,t)}}Le.prototype.is=function(r,e){return e?e===this.name&&(r==="element"||r==="model:element"):r==="element"||r==="model:element"||r==="node"||r==="model:node"};class mr{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new P("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new P("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=X._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n,o,a;do o=this.position,a=this._visitedParent,{done:t,value:n}=this.next();while(!t&&e(n));t||(this._position=o,this._visitedParent=a)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const o=Hs(t,n),a=o||qb(t,n,o);if(a instanceof Le){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t.path.push(0),this._visitedParent=a;return this._position=t,Bo("elementStart",a,e,t,1)}if(a instanceof Ve){let l;if(this.singleCharacters)l=1;else{let g=a.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<g&&(g=this.boundaries.end.offset),l=g-t.offset}const d=t.offset-a.startOffset,h=new Fn(a,d,l);return t.offset+=l,this._position=t,Bo("text",h,e,t,l)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Bo("elementEnd",n,e,t)}_previous(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const o=t.parent,a=Hs(t,o),l=a||Wb(t,o,a);if(l instanceof Le)return t.offset--,this.shallow?(this._position=t,Bo("elementStart",l,e,t,1)):(t.path.push(l.maxOffset),this._position=t,this._visitedParent=l,this.ignoreElementEnd?this._previous():Bo("elementEnd",l,e,t));if(l instanceof Ve){let d;if(this.singleCharacters)d=1;else{let p=l.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>p&&(p=this.boundaries.start.offset),d=t.offset-p}const h=t.offset-l.startOffset,g=new Fn(l,h-d,d);return t.offset-=d,this._position=t,Bo("text",g,e,t,d)}return t.path.pop(),this._position=t,this._visitedParent=n.parent,Bo("elementStart",n,e,t,1)}}function Bo(r,e,t,n,o){return{done:!1,value:{type:r,item:e,previousPosition:t,nextPosition:n,length:o}}}class X extends Fr{constructor(e,t,n="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new P("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new P("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new P("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new P("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Hs(this,this.parent)}get nodeAfter(){const e=this.parent;return qb(this,e,Hs(this,e))}get nodeBefore(){const e=this.parent;return Wb(this,e,Hs(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=Pt(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new mr(t);return n.skip(e),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=Pt(this.path,e.path),n=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let o=0;for(;t[o]==n[o]&&t[o];)o++;return o===0?null:t[o-1]}getShiftedBy(e){const t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let n=0;n<t;n++){const o=this.path[n]-e.path[n];if(o<-1||o>1)return!1;if(o===1)return $b(e,this,n);if(o===-1)return $b(this,e,n)}return this.path.length===e.path.length||(this.path.length>e.path.length?Ah(this.path,t):Ah(e.path,t))}hasSameParentAs(e){return this.root!==e.root?!1:Pt(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=X._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let n;return t.containsPosition(this)||t.start.isEqual(this)?(n=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(n=n._getTransformedByDeletion(e.deletionPosition,1))):n=this.isEqual(e.deletionPosition)?X._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),n}_getTransformedByDeletion(e,t){const n=X._createAt(this);if(this.root!=e.root)return n;if(Pt(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if(Pt(e.getParentPath(),this.getParentPath())=="prefix"){const o=e.path.length-1;if(e.offset<=this.path[o]){if(e.offset+t>this.path[o])return null;n.path[o]-=t}}return n}_getTransformedByInsertion(e,t){const n=X._createAt(this);if(this.root!=e.root)return n;if(Pt(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(n.offset+=t);else if(Pt(e.getParentPath(),this.getParentPath())=="prefix"){const o=e.path.length-1;e.offset<=this.path[o]&&(n.path[o]+=t)}return n}_getTransformedByMove(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return X._createAt(this);const o=this._getTransformedByDeletion(e,n);return o===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(n).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):o._getTransformedByInsertion(t,n)}_getCombined(e,t){const n=e.path.length-1,o=X._createAt(t);return o.stickiness=this.stickiness,o.offset=o.offset+this.path[n]-e.offset,o.path=[...o.path,...this.path.slice(n+1)],o}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,n="toNone"){if(e instanceof X)return new X(e.root,e.path,e.stickiness);{const o=e;if(t=="end")t=o.maxOffset;else{if(t=="before")return this._createBefore(o,n);if(t=="after")return this._createAfter(o,n);if(t!==0&&!t)throw new P("model-createpositionat-offset-required",[this,e])}if(!o.is("element")&&!o.is("documentFragment"))throw new P("model-position-parent-incorrect",[this,e]);const a=o.getPath();return a.push(t),new this(o.root,a,n)}}static _createAfter(e,t){if(!e.parent)throw new P("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new P("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const n=new X(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!t.getRoot(e.root))throw new P("model-position-fromjson-no-root",t,{rootName:e.root});return new X(t.getRoot(e.root),e.path,e.stickiness)}}function Hs(r,e){const t=e.getChild(e.offsetToIndex(r.offset));return t&&t.is("$text")&&t.startOffset<r.offset?t:null}function qb(r,e,t){return t!==null?null:e.getChild(e.offsetToIndex(r.offset))}function Wb(r,e,t){return t!==null?null:e.getChild(e.offsetToIndex(r.offset)-1)}function $b(r,e,t){return t+1!==r.path.length&&!!Ah(e.path,t+1)&&!!function(n,o){let a=n.parent,l=n.path.length-1,d=0;for(;l>=o;){if(n.path[l]+d!==a.maxOffset)return!1;d=1,l--,a=a.parent}return!0}(r,t+1)}function Ah(r,e){for(;e<r.length;){if(r[e]!==0)return!1;e++}return!0}X.prototype.is=function(r){return r==="position"||r==="model:position"};class G extends Fr{constructor(e,t){super(),this.start=X._createAt(e),this.end=t?X._createAt(t):X._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new mr({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return Pt(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),o=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&o}containsItem(e){const t=X._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new G(this.start,e.start)),this.containsPosition(e.end)&&t.push(new G(e.end,this.end))):t.push(new G(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new G(t,n)}return null}getJoined(e,t=!1){let n=this.isIntersecting(e);if(n||(n=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!n)return null;let o=this.start,a=this.end;return e.start.isBefore(o)&&(o=e.start),e.end.isAfter(a)&&(a=e.end),new G(o,a)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,n=X._createAt(this.start);let o=n.parent;for(;n.path.length>t+1;){const a=o.maxOffset-n.offset;a!==0&&e.push(new G(n,n.getShiftedBy(a))),n.path=n.path.slice(0,-1),n.offset++,o=o.parent}for(;n.path.length<=this.end.path.length;){const a=this.end.path[n.path.length-1],l=a-n.offset;l!==0&&e.push(new G(n,n.getShiftedBy(l))),n.offset=a,n.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new mr(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new mr(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new mr(e);yield t.position;for(const n of t)yield n.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new G(this.start,this.end)]}getTransformedByOperations(e){const t=[new G(this.start,this.end)];for(const n of e)for(let o=0;o<t.length;o++){const a=t[o].getTransformedByOperation(n);t.splice(o,1,...a),o+=a.length-1}for(let n=0;n<t.length;n++){const o=t[n];for(let a=n+1;a<t.length;a++){const l=t[a];(o.containsRange(l)||l.containsRange(o)||o.isEqual(l))&&t.splice(a,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const n=e.sourcePosition,o=e.howMany,a=e.targetPosition;return this._getTransformedByMove(n,a,o,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new G(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new G(this.start);let t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)?(e.sourcePosition.isBefore(e.targetPosition)?(t=X._createAt(n),t.offset=0):(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition),new G(t,n)):new G(t,n)}_getTransformedByInsertion(e,t,n=!1){if(n&&this.containsPosition(e))return[new G(this.start,e),new G(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const o=new G(this.start,this.end);return o.start=o.start._getTransformedByInsertion(e,t),o.end=o.end._getTransformedByInsertion(e,t),[o]}}_getTransformedByMove(e,t,n,o=!1){if(this.isCollapsed){const A=this.start._getTransformedByMove(e,t,n);return[new G(A)]}const a=G._createFromPositionAndShift(e,n),l=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!o&&(a.containsPosition(this.start)||a.containsPosition(this.end))){const A=this.start._getTransformedByMove(e,t,n),y=this.end._getTransformedByMove(e,t,n);return[new G(A,y)]}let d;const h=this.getDifference(a);let g=null;const p=this.getIntersection(a);if(h.length==1?g=new G(h[0].start._getTransformedByDeletion(e,n),h[0].end._getTransformedByDeletion(e,n)):h.length==2&&(g=new G(this.start,this.end._getTransformedByDeletion(e,n))),d=g?g._getTransformedByInsertion(l,n,p!==null||o):[],p){const A=new G(p.start._getCombined(a.start,l),p.end._getCombined(a.start,l));d.length==2?d.splice(1,0,A):d.push(A)}return d}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t),o=this.end._getTransformedByDeletion(e,t);return n==null&&o==null?null:(n==null&&(n=e),o==null&&(o=e),new G(n,o))}static _createFromPositionAndShift(e,t){const n=e,o=e.getShiftedBy(t);return t>0?new this(n,o):new this(o,n)}static _createIn(e){return new this(X._createAt(e,0),X._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(X._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new P("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((a,l)=>a.start.isAfter(l.start)?1:-1);const n=e.indexOf(t),o=new this(t.start,t.end);if(n>0)for(let a=n-1;e[a].end.isEqual(o.start);a++)o.start=X._createAt(e[a].start);for(let a=n+1;a<e.length&&e[a].start.isEqual(o.end);a++)o.end=X._createAt(e[a].end);return o}static fromJSON(e,t){return new this(X.fromJSON(e.start,t),X.fromJSON(e.end,t))}}G.prototype.is=function(r){return r==="range"||r==="model:range"};class Gb extends K(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const n=this._modelToViewMapping.get(t.modelPosition.parent);if(!n)throw new P("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(n,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const n=this.findMappedViewAncestor(t.viewPosition),o=this._viewToModelMapping.get(n),a=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=X._createAt(o,a)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const n=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const o of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(o);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(n)==e&&this._modelToViewMapping.delete(n))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const o=this._elementToMarkerNames.get(e)||new Set;o.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,o)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);n&&(n.delete(e),n.size==0&&this._markerNameToElements.delete(t));const o=this._elementToMarkerNames.get(e);o&&(o.delete(t),o.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new G(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new ke(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const n=new Set;for(const o of t)if(o.is("attributeElement"))for(const a of o.getElementsWithSameId())n.add(a);else n.add(o);return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,n){if(n!=e)return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let o=0;for(let a=0;a<t;a++)o+=this.getModelLength(e.getChild(a));return o}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const n of e.getChildren())t+=this.getModelLength(n);return t}}findPositionIn(e,t){let n,o=0,a=0,l=0;if(e.is("$text"))return new se(e,t);for(;a<t;)n=e.getChild(l),o=this.getModelLength(n),a+=o,l++;return a==t?this._moveViewPositionToTextNode(new se(e,l)):this.findPositionIn(n,t-(a-o))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,n=e.nodeAfter;return t instanceof Fe?new se(t,t.data.length):n instanceof Fe?new se(n,0):e}}class QI{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=Gl(t),e instanceof Fn&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=Gl(t),e instanceof Fn&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=Gl(t),e instanceof Fn&&(e=this._getSymbolForTextProxy(e));const n=this._consumable.get(e);if(n===void 0)return null;const o=n.get(t);return o===void 0?null:o}revert(e,t){t=Gl(t),e instanceof Fn&&(e=this._getSymbolForTextProxy(e));const n=this.test(e,t);return n===!1?(this._consumable.get(e).set(t,!0),!0):n!==!0&&null}verifyAllConsumed(e){const t=[];for(const[n,o]of this._consumable)for(const[a,l]of o){const d=a.split(":")[0];l&&e==d&&t.push({event:a,item:n.name||n.description})}if(t.length)throw new P("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const o=n.get(e.endOffset);o&&(t=o.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,n=e.endOffset,o=e.parent,a=Symbol("$textProxy:"+e.data);let l,d;return l=this._textProxyRegistry.get(t),l||(l=new Map,this._textProxyRegistry.set(t,l)),d=l.get(n),d||(d=new Map,l.set(n,d)),d.set(o,a),a}}function Gl(r){const e=r.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?r:e.length>1?e[0]+":"+e[1]:e[0]}var YI=Object.defineProperty,ZI=Object.defineProperties,JI=Object.getOwnPropertyDescriptors,Kb=Object.getOwnPropertySymbols,XI=Object.prototype.hasOwnProperty,eT=Object.prototype.propertyIsEnumerable,Qb=(r,e,t)=>e in r?YI(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ch=(r,e)=>{for(var t in e||(e={}))XI.call(e,t)&&Qb(r,t,e[t]);if(Kb)for(var t of Kb(e))eT.call(e,t)&&Qb(r,t,e[t]);return r},Yb=(r,e)=>ZI(r,JI(e));class Zb extends K(){constructor(e){super(),this._conversionApi=Ch({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,t,n){const o=this._createConversionApi(n,e.getRefreshedItems());for(const l of e.getMarkersToRemove())this._convertMarkerRemove(l.name,l.range,o);const a=this._reduceChanges(e.getChanges());for(const l of a)l.type==="insert"?this._convertInsert(G._createFromPositionAndShift(l.position,l.length),o):l.type==="reinsert"?this._convertReinsert(G._createFromPositionAndShift(l.position,l.length),o):l.type==="remove"?this._convertRemove(l.position,l.length,l.name,o):this._convertAttribute(l.range,l.attributeKey,l.attributeOldValue,l.attributeNewValue,o);o.mapper.flushDeferredBindings();for(const l of o.mapper.flushUnboundMarkerNames()){const d=t.get(l).getRange();this._convertMarkerRemove(l,d,o),this._convertMarkerAdd(l,d,o)}for(const l of e.getMarkersToAdd())this._convertMarkerAdd(l.name,l.range,o);o.consumable.verifyAllConsumed("insert")}convert(e,t,n,o={}){const a=this._createConversionApi(n,void 0,o);this._convertInsert(e,a);for(const[l,d]of t)this._convertMarkerAdd(l,d,a);a.consumable.verifyAllConsumed("insert")}convertSelection(e,t,n){const o=this._createConversionApi(n);this.fire("cleanSelection",{selection:e},o);const a=e.getFirstPosition().root;if(!o.mapper.toViewElement(a))return;const l=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(o.consumable,e,l),this.fire("selection",{selection:e},o),e.isCollapsed){for(const d of l)if(o.consumable.test(e,"addMarker:"+d.name)){const h=d.getRange();if(!tT(e.getFirstPosition(),d,o.mapper))continue;const g={item:e,markerName:d.name,markerRange:h};this.fire(`addMarker:${d.name}`,g,o)}for(const d of e.getAttributeKeys())if(o.consumable.test(e,"attribute:"+d)){const h={item:e,range:e.getFirstRange(),attributeKey:d,attributeOldValue:null,attributeNewValue:e.getAttribute(d)};this.fire(`attribute:${d}:$text`,h,o)}}}_convertInsert(e,t,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const o of Array.from(e.getWalker({shallow:!0})).map(Jb))this._testAndFire("insert",o,t)}_convertRemove(e,t,n,o){this.fire(`remove:${n}`,{position:e,length:t},o)}_convertAttribute(e,t,n,o,a){this._addConsumablesForRange(a.consumable,e,`attribute:${t}`);for(const l of e){const d={item:l.item,range:G._createFromPositionAndShift(l.previousPosition,l.length),attributeKey:t,attributeOldValue:n,attributeNewValue:o};this._testAndFire(`attribute:${t}`,d,a)}}_convertReinsert(e,t){const n=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,n);for(const o of n.map(Jb))this._testAndFire("insert",Yb(Ch({},o),{reconversion:!0}),t)}_convertMarkerAdd(e,t,n){if(t.root.rootName=="$graveyard")return;const o=`addMarker:${e}`;if(n.consumable.add(t,o),this.fire(o,{markerName:e,markerRange:t},n),n.consumable.consume(t,o)){this._addConsumablesForRange(n.consumable,t,o);for(const a of t.getItems()){if(!n.consumable.test(a,o))continue;const l={item:a,range:G._createOn(a),markerName:e,markerRange:t};this.fire(o,l,n)}}}_convertMarkerRemove(e,t,n){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},n)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const n of t){const o=n.item;if(e.test(o,"insert")===null){e.add(o,"insert");for(const a of o.getAttributeKeys())e.add(o,"attribute:"+a)}}return e}_addConsumablesForRange(e,t,n){for(const o of t.getItems())e.add(o,n);return e}_addConsumablesForSelection(e,t,n){e.add(t,"selection");for(const o of n)e.add(t,"addMarker:"+o.name);for(const o of t.getAttributeKeys())e.add(t,"attribute:"+o);return e}_testAndFire(e,t,n){const o=function(h,g){const p=g.item.is("element")?g.item.name:"$text";return`${h}:${p}`}(e,t),a=t.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(t.item):t.item,l=this._firedEventsMap.get(n),d=l.get(a);if(d){if(d.has(o))return;d.add(o)}else l.set(a,new Set([o]));this.fire(o,t,n)}_testAndFireAddAttributes(e,t){const n={item:e,range:G._createOn(e)};for(const o of n.item.getAttributeKeys())n.attributeKey=o,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(o),this._testAndFire(`attribute:${o}`,n,t)}_createConversionApi(e,t=new Set,n={}){const o=Yb(Ch({},this._conversionApi),{consumable:new QI,writer:e,options:n,convertItem:a=>this._convertInsert(G._createOn(a),o),convertChildren:a=>this._convertInsert(G._createIn(a),o,{doNotAddConsumables:!0}),convertAttributes:a=>this._testAndFireAddAttributes(a,o),canReuseView:a=>!t.has(o.mapper.toModelElement(a))});return this._firedEventsMap.set(o,new Map),o}}function tT(r,e,t){const n=e.getRange(),o=Array.from(r.getAncestors());return o.shift(),o.reverse(),!o.some(a=>{if(n.containsItem(a))return!!t.toViewElement(a).getCustomProperty("addHighlight")})}function Jb(r){return{item:r.item,range:G._createFromPositionAndShift(r.previousPosition,r.length)}}class an extends K(Fr){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const o of e._ranges)if(t.isEqual(o)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new G(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new G(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new G(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,n,o]=e;if(typeof n=="object"&&(o=n,n=void 0),t===null)this._setRanges([]);else if(t instanceof an)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof G)this._setRanges([t],!!o&&!!o.backward);else if(t instanceof X)this._setRanges([new G(t)]);else if(t instanceof Mo){const a=!!o&&!!o.backward;let l;if(n=="in")l=G._createIn(t);else if(n=="on")l=G._createOn(t);else{if(n===void 0)throw new P("model-selection-setto-required-second-parameter",[this,t]);l=new G(X._createAt(t,n))}this._setRanges([l],a)}else{if(!tn(t))throw new P("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,o&&!!o.backward)}}_setRanges(e,t=!1){const n=Array.from(e),o=n.some(a=>{if(!(a instanceof G))throw new P("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(l=>!l.isEqual(a))});(n.length!==this._ranges.length||o)&&(this._replaceAllRanges(n),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new P("model-selection-setfocus-no-ranges",[this,e]);const n=X._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const o=this.anchor;this._ranges.length&&this._popRange(),n.compareWith(o)=="before"?(this._pushRange(new G(n,o)),this._lastRangeBackward=!0):(this._pushRange(new G(o,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=e0(t.start,e);rT(n,t)&&(yield n);for(const a of t.getWalker()){const l=a.item;a.type=="elementEnd"&&nT(l,e,t)&&(yield l)}const o=e0(t.end,e);oT(o,t)&&(yield o)}}containsEntireContent(e=this.anchor.root){const t=X._createAt(e,0),n=X._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new G(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new P("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function Xb(r,e){return!e.has(r)&&(e.add(r),r.root.document.model.schema.isBlock(r)&&!!r.parent)}function nT(r,e,t){return Xb(r,e)&&vh(r,t)}function e0(r,e){const t=r.parent.root.document.model.schema,n=r.parent.getAncestors({parentFirst:!0,includeSelf:!0});let o=!1;const a=n.find(l=>!o&&(o=t.isLimit(l),!o&&Xb(l,e)));return n.forEach(l=>e.add(l)),a}function vh(r,e){const t=function(n){const o=n.root.document.model.schema;let a=n.parent;for(;a;){if(o.isBlock(a))return a;a=a.parent}}(r);return t?!e.containsRange(G._createOn(t),!0):!0}function rT(r,e){return!!r&&(!(!e.isCollapsed&&!r.isEmpty)||!e.start.isTouching(X._createAt(r,r.maxOffset))&&vh(r,e))}function oT(r,e){return!!r&&(!(!e.isCollapsed&&!r.isEmpty)||!e.end.isTouching(X._createAt(r,0))&&vh(r,e))}an.prototype.is=function(r){return r==="selection"||r==="model:selection"};class ln extends K(G){constructor(e,t){super(e,t),iT.call(this)}detach(){this.stopListening()}toRange(){return new G(this.start,this.end)}static fromRange(e){return new ln(e.start,e.end)}}function iT(){this.listenTo(this.root.document.model,"applyOperation",(r,e)=>{const t=e[0];t.isDocumentOperation&&sT.call(this,t)},{priority:"low"})}function sT(r){const e=this.getTransformedByOperation(r),t=G._createFromRanges(e),n=!t.isEqual(this),o=function(l,d){switch(d.type){case"insert":return l.containsPosition(d.position);case"move":case"remove":case"reinsert":case"merge":return l.containsPosition(d.sourcePosition)||l.start.isEqual(d.sourcePosition)||l.containsPosition(d.targetPosition);case"split":return l.containsPosition(d.splitPosition)||l.containsPosition(d.insertionPosition)}return!1}(this,r);let a=null;if(n){t.root.rootName=="$graveyard"&&(a=r.type=="remove"?r.sourcePosition:r.deletionPosition);const l=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",l,{deletionPosition:a})}else o&&this.fire("change:content",this.toRange(),{deletionPosition:a})}ln.prototype.is=function(r){return r==="liveRange"||r==="model:liveRange"||r=="range"||r==="model:range"};const Kl="selection:";class Vn extends K(Fr){constructor(e){super(),this._selection=new aT(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Kl+e}static _isStoreAttributeKey(e){return e.startsWith(Kl)}}Vn.prototype.is=function(r){return r==="selection"||r=="model:selection"||r=="documentSelection"||r=="model:documentSelection"};class aT extends an{constructor(e){super(),this.markers=new Pn({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,n)=>{const o=n[0];o.isDocumentOperation&&o.type!="marker"&&o.type!="rename"&&o.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,n,o,a)=>{this._updateMarker(n,a)}),this.listenTo(this._document,"change",(t,n)=>{(function(o,a){const l=o.document.differ;for(const d of l.getChanges()){if(d.type!="insert")continue;const h=d.position.parent;d.length===h.maxOffset&&o.enqueueChange(a,g=>{const p=Array.from(h.getAttributeKeys()).filter(A=>A.startsWith(Kl));for(const A of p)g.removeAttribute(A,h)})}})(this._model,n)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=z();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new P("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new P("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=ln.fromRange(e);return t.on("change:range",(n,o,a)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=a.deletionPosition;const l=this._ranges.indexOf(t);this._ranges.splice(l,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const o of this._model.markers){const a=o.name.split(":",1)[0];if(!this._observedMarkers.has(a))continue;const l=o.getRange();for(const d of this.getRanges())l.containsRange(d,!d.isCollapsed)&&e.push(o)}const n=Array.from(this.markers);for(const o of e)this.markers.has(o)||(this.markers.add(o),t=!0);for(const o of Array.from(this.markers))e.includes(o)||(this.markers.remove(o),t=!0);t&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(e,t){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let o=!1;const a=Array.from(this.markers),l=this.markers.has(e);if(t){let d=!1;for(const h of this.getRanges())if(t.containsRange(h,!h.isCollapsed)){d=!0;break}d&&!l?(this.markers.add(e),o=!0):!d&&l&&(this.markers.remove(e),o=!0)}else l&&(this.markers.remove(e),o=!0);o&&this.fire("change:marker",{oldMarkers:a,directChange:!1})}_updateAttributes(e){const t=er(this._getSurroundingAttributes()),n=er(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[a,l]of this._attributePriority)l=="low"&&(this._attrs.delete(a),this._attributePriority.delete(a));this._setAttributesTo(t);const o=[];for(const[a,l]of this.getAttributes())n.has(a)&&n.get(a)===l||o.push(a);for(const[a]of n)this.hasAttribute(a)||o.push(a);o.length>0&&this.fire("change:attribute",{attributeKeys:o,directChange:!1})}_setAttribute(e,t,n=!0){const o=n?"normal":"low";return o=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,o),!0)}_removeAttribute(e,t=!0){const n=t?"normal":"low";return(n!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,n),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const t=new Set;for(const[n,o]of this.getAttributes())e.get(n)!==o&&this._removeAttribute(n,!1);for(const[n,o]of e)this._setAttribute(n,o,!1)&&t.add(n);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(Kl)&&(yield[t.substr(10),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let n=null;if(this.isCollapsed){const o=e.textNode?e.textNode:e.nodeBefore,a=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=qs(o,t)),n||(n=qs(a,t)),!this.isGravityOverridden&&!n){let l=o;for(;l&&!n;)l=l.previousSibling,n=qs(l,t)}if(!n){let l=a;for(;l&&!n;)l=l.nextSibling,n=qs(l,t)}n||(n=this.getStoredAttributes())}else{const o=this.getFirstRange();for(const a of o){if(a.item.is("element")&&t.isObject(a.item)){n=qs(a.item,t);break}if(a.type=="text"){n=a.item.getAttributes();break}}}return n}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function qs(r,e){if(!r)return null;if(r instanceof Fn||r instanceof Ve)return r.getAttributes();if(!e.isInline(r))return null;if(!e.isObject(r))return[];const t=[];for(const[n,o]of r.getAttributes())e.checkAttribute("$text",n)&&e.getAttributeProperties(n).copyFromObject!==!1&&t.push([n,o]);return t}class t0{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class lT extends t0{elementToElement(e){return this.add(function(t){const n=o0(t.model),o=Ws(t.view,"container");return n.attributes.length&&(n.children=!0),a=>{a.on(`insert:${n.name}`,dT(o,l0(n)),{priority:t.converterPriority||"normal"}),(n.children||n.attributes.length)&&a.on("reduceChanges",a0(n),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(t){const n=o0(t.model),o=Ws(t.view,"container");return n.children=!0,a=>{if(a._conversionApi.schema.checkChild(n.name,"$text"))throw new P("conversion-element-to-structure-disallowed-text",a,{elementName:n.name});var l,d;a.on(`insert:${n.name}`,(l=o,d=l0(n),(h,g,p)=>{if(!d(g.item,p.consumable,{preflight:!0}))return;const A=new Map;p.writer._registerSlotFactory(function(I,T,O){return(R,U)=>{const W=R.createContainerElement("$slot");let Z=null;if(U==="children")Z=Array.from(I.getChildren());else{if(typeof U!="function")throw new P("conversion-slot-mode-unknown",O.dispatcher,{modeOrFilter:U});Z=Array.from(I.getChildren()).filter(le=>U(le))}return T.set(W,Z),W}}(g.item,A,p));const y=l(g.item,p,g);if(p.writer._clearSlotFactory(),!y)return;(function(I,T,O){const R=Array.from(T.values()).flat(),U=new Set(R);if(U.size!=R.length)throw new P("conversion-slot-filter-overlap",O.dispatcher,{element:I});if(U.size!=I.childCount)throw new P("conversion-slot-filter-incomplete",O.dispatcher,{element:I})})(g.item,A,p),d(g.item,p.consumable);const E=p.mapper.toViewPosition(g.range.start);p.mapper.bindElements(g.item,y),p.writer.insert(E,y),p.convertAttributes(g.item),function(I,T,O,R){O.mapper.on("modelToViewPosition",Z,{priority:"highest"});let U=null,W=null;for([U,W]of T)c0(I,W,O,R),O.writer.move(O.writer.createRangeIn(U),O.writer.createPositionBefore(U)),O.writer.remove(U);function Z(le,fe){const we=fe.modelPosition.nodeAfter,qe=W.indexOf(we);qe<0||(fe.viewPosition=fe.mapper.findPositionIn(U,qe))}O.mapper.off("modelToViewPosition",Z)}(y,A,p,{reconversion:g.reconversion})}),{priority:t.converterPriority||"normal"}),a.on("reduceChanges",a0(n),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(t){t=Rn(t);let n=t.model;typeof n=="string"&&(n={key:n});let o=`attribute:${n.key}`;if(n.name&&(o+=":"+n.name),n.values)for(const l of n.values)t.view[l]=Ws(t.view[l],"attribute");else t.view=Ws(t.view,"attribute");const a=i0(t);return l=>{l.on(o,cT(a),{priority:t.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=Rn(t);let n=t.model;typeof n=="string"&&(n={key:n});let o=`attribute:${n.key}`;if(n.name&&(o+=":"+n.name),n.values)for(const l of n.values)t.view[l]=s0(t.view[l]);else t.view=s0(t.view);const a=i0(t);return l=>{var d;l.on(o,(d=a,(h,g,p)=>{if(!p.consumable.test(g.item,h.name))return;const A=d(g.attributeOldValue,p,g),y=d(g.attributeNewValue,p,g);if(!A&&!y)return;p.consumable.consume(g.item,h.name);const E=p.mapper.toViewElement(g.item),I=p.writer;if(!E)throw new P("conversion-attribute-to-attribute-on-text",p.dispatcher,g);if(g.attributeOldValue!==null&&A)if(A.key=="class"){const T=typeof A.value=="string"?A.value.split(/\s+/):A.value;for(const O of T)I.removeClass(O,E)}else if(A.key=="style")if(typeof A.value=="string"){const T=new ih(I.document.stylesProcessor);T.setTo(A.value);for(const[O]of T.getStylesEntries())I.removeStyle(O,E)}else{const T=Object.keys(A.value);for(const O of T)I.removeStyle(O,E)}else I.removeAttribute(A.key,E);if(g.attributeNewValue!==null&&y)if(y.key=="class"){const T=typeof y.value=="string"?y.value.split(/\s+/):y.value;for(const O of T)I.addClass(O,E)}else if(y.key=="style")if(typeof y.value=="string"){const T=new ih(I.document.stylesProcessor);T.setTo(y.value);for(const[O,R]of T.getStylesEntries())I.setStyle(O,R,E)}else{const T=Object.keys(y.value);for(const O of T)I.setStyle(O,y.value[O],E)}else I.setAttribute(y.key,y.value,E)}),{priority:t.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(t){const n=Ws(t.view,"ui");return o=>{o.on(`addMarker:${t.model}`,uT(n),{priority:t.converterPriority||"normal"}),o.on(`removeMarker:${t.model}`,(a,l,d)=>{const h=d.mapper.markerNameToElements(l.markerName);if(h){for(const g of h)d.mapper.unbindElementFromMarkerName(g,l.markerName),d.writer.clear(d.writer.createRangeOn(g),g);d.writer.clearClonedElementsGroup(l.markerName),a.stop()}},{priority:t.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(t){return n=>{var o;n.on(`addMarker:${t.model}`,(o=t.view,(a,l,d)=>{if(!l.item||!(l.item instanceof an||l.item instanceof Vn||l.item.is("$textProxy")))return;const h=yh(o,l,d);if(!h||!d.consumable.consume(l.item,a.name))return;const g=d.writer,p=n0(g,h),A=g.document.selection;if(l.item instanceof an||l.item instanceof Vn)g.wrap(A.getFirstRange(),p);else{const y=d.mapper.toViewRange(l.range),E=g.wrap(y,p);for(const I of E.getItems())if(I.is("attributeElement")&&I.isSimilar(p)){d.mapper.bindElementToMarker(I,l.markerName);break}}}),{priority:t.converterPriority||"normal"}),n.on(`addMarker:${t.model}`,function(a){return(l,d,h)=>{if(!d.item||!(d.item instanceof Le))return;const g=yh(a,d,h);if(!g||!h.consumable.test(d.item,l.name))return;const p=h.mapper.toViewElement(d.item);if(p&&p.getCustomProperty("addHighlight")){h.consumable.consume(d.item,l.name);for(const A of G._createIn(d.item))h.consumable.consume(A.item,l.name);p.getCustomProperty("addHighlight")(p,g,h.writer),h.mapper.bindElementToMarker(p,d.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),n.on(`removeMarker:${t.model}`,function(a){return(l,d,h)=>{if(d.markerRange.isCollapsed)return;const g=yh(a,d,h);if(!g)return;const p=n0(h.writer,g),A=h.mapper.markerNameToElements(d.markerName);if(A){for(const y of A)h.mapper.unbindElementFromMarkerName(y,d.markerName),y.is("attributeElement")?h.writer.unwrap(h.writer.createRangeOn(y),p):y.getCustomProperty("removeHighlight")(y,g.id,h.writer);h.writer.clearClonedElementsGroup(d.markerName),l.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(t){t=Rn(t);const n=t.model;let o=t.view;return o||(o=a=>({group:n,name:a.substr(t.model.length+1)})),a=>{var l;a.on(`addMarker:${n}`,(l=o,(d,h,g)=>{const p=l(h.markerName,g);if(!p)return;const A=h.markerRange;g.consumable.consume(A,d.name)&&(r0(A,!1,g,h,p),r0(A,!0,g,h,p),d.stop())}),{priority:t.converterPriority||"normal"}),a.on(`removeMarker:${n}`,function(d){return(h,g,p)=>{const A=d(g.markerName,p);if(!A)return;const y=p.mapper.markerNameToElements(g.markerName);if(y){for(const I of y)p.mapper.unbindElementFromMarkerName(I,g.markerName),I.is("containerElement")?(E(`data-${A.group}-start-before`,I),E(`data-${A.group}-start-after`,I),E(`data-${A.group}-end-before`,I),E(`data-${A.group}-end-after`,I)):p.writer.clear(p.writer.createRangeOn(I),I);p.writer.clearClonedElementsGroup(g.markerName),h.stop()}function E(I,T){if(T.hasAttribute(I)){const O=new Set(T.getAttribute(I).split(","));O.delete(A.name),O.size==0?p.writer.removeAttribute(I,T):p.writer.setAttribute(I,Array.from(O).join(","),T)}}}}(o),{priority:t.converterPriority||"normal"})}}(e))}}function n0(r,e){const t=r.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function cT(r){return(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const o=r(t.attributeOldValue,n,t),a=r(t.attributeNewValue,n,t);if(!o&&!a)return;n.consumable.consume(t.item,e.name);const l=n.writer,d=l.document.selection;if(t.item instanceof an||t.item instanceof Vn)l.wrap(d.getFirstRange(),a);else{let h=n.mapper.toViewRange(t.range);t.attributeOldValue!==null&&o&&(h=l.unwrap(h,o)),t.attributeNewValue!==null&&a&&l.wrap(h,a)}}}function dT(r,e=mT){return(t,n,o)=>{if(!e(n.item,o.consumable,{preflight:!0}))return;const a=r(n.item,o,n);if(!a)return;e(n.item,o.consumable);const l=o.mapper.toViewPosition(n.range.start);o.mapper.bindElements(n.item,a),o.writer.insert(l,a),o.convertAttributes(n.item),c0(a,n.item.getChildren(),o,{reconversion:n.reconversion})}}function uT(r){return(e,t,n)=>{t.isOpening=!0;const o=r(t,n);t.isOpening=!1;const a=r(t,n);if(!o||!a)return;const l=t.markerRange;if(l.isCollapsed&&!n.consumable.consume(l,e.name))return;for(const g of l)if(!n.consumable.consume(g.item,e.name))return;const d=n.mapper,h=n.writer;h.insert(d.toViewPosition(l.start),o),n.mapper.bindElementToMarker(o,t.markerName),l.isCollapsed||(h.insert(d.toViewPosition(l.end),a),n.mapper.bindElementToMarker(a,t.markerName)),e.stop()}}function r0(r,e,t,n,o){const a=e?r.start:r.end,l=a.nodeAfter&&a.nodeAfter.is("element")?a.nodeAfter:null,d=a.nodeBefore&&a.nodeBefore.is("element")?a.nodeBefore:null;if(l||d){let h,g;e&&l||!e&&!d?(h=l,g=!0):(h=d,g=!1);const p=t.mapper.toViewElement(h);if(p)return void function(A,y,E,I,T,O){const R=`data-${O.group}-${y?"start":"end"}-${E?"before":"after"}`,U=A.hasAttribute(R)?A.getAttribute(R).split(","):[];U.unshift(O.name),I.writer.setAttribute(R,U.join(","),A),I.mapper.bindElementToMarker(A,T.markerName)}(p,e,g,t,n,o)}(function(h,g,p,A,y){const E=`${y.group}-${g?"start":"end"}`,I=y.name?{name:y.name}:null,T=p.writer.createUIElement(E,I);p.writer.insert(h,T),p.mapper.bindElementToMarker(T,A.markerName)})(t.mapper.toViewPosition(a),e,t,n,o)}function o0(r){return typeof r=="string"&&(r={name:r}),{name:r.name,attributes:r.attributes?He(r.attributes):[],children:!!r.children}}function Ws(r,e){return typeof r=="function"?r:(t,n)=>function(o,a,l){typeof o=="string"&&(o={name:o});let d;const h=a.writer,g=Object.assign({},o.attributes);if(l=="container")d=h.createContainerElement(o.name,g);else if(l=="attribute"){const p={priority:o.priority||To.DEFAULT_PRIORITY};d=h.createAttributeElement(o.name,g,p)}else d=h.createUIElement(o.name,g);if(o.styles){const p=Object.keys(o.styles);for(const A of p)h.setStyle(A,o.styles[A],d)}if(o.classes){const p=o.classes;if(typeof p=="string")h.addClass(p,d);else for(const A of p)h.addClass(A,d)}return d}(r,n,e)}function i0(r){return r.model.values?(e,t,n)=>{const o=r.view[e];return o?o(e,t,n):null}:r.view}function s0(r){return typeof r=="string"?e=>({key:r,value:e}):typeof r=="object"?r.value?()=>r:e=>({key:r.key,value:e}):r}function yh(r,e,t){const n=typeof r=="function"?r(e,t):r;return n?(n.priority||(n.priority=10),n.id||(n.id=e.markerName),n):null}function a0(r){const e=function(t){return(n,o)=>{if(!n.is("element",t.name))return!1;if(o.type=="attribute"){if(t.attributes.includes(o.attributeKey))return!0}else if(t.children)return!0;return!1}}(r);return(t,n)=>{const o=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const a of n.changes){const l=a.type=="attribute"?a.range.start.nodeAfter:a.position.parent;if(l&&e(l,a)){if(!n.reconvertedElements.has(l)){n.reconvertedElements.add(l);const d=X._createBefore(l);let h=o.length;for(let g=o.length-1;g>=0;g--){const p=o[g],A=(p.type=="attribute"?p.range.start:p.position).compareWith(d);if(A=="before"||p.type=="remove"&&A=="same")break;h=g}o.splice(h,0,{type:"remove",name:l.name,position:d,length:1},{type:"reinsert",name:l.name,position:d,length:1})}}else o.push(a)}n.changes=o}}function l0(r){return(e,t,n={})=>{const o=["insert"];for(const a of r.attributes)e.hasAttribute(a)&&o.push(`attribute:${a}`);return!!o.every(a=>t.test(e,a))&&(n.preflight||o.forEach(a=>t.consume(e,a)),!0)}}function c0(r,e,t,n){for(const o of e)hT(r.root,o,t,n)||t.convertItem(o)}function hT(r,e,t,n){const{writer:o,mapper:a}=t;if(!n.reconversion)return!1;const l=a.toViewElement(e);return!(!l||l.root==r)&&!!t.canReuseView(l)&&(o.move(o.createRangeOn(l),a.toViewPosition(X._createBefore(e))),!0)}function mT(r,e,{preflight:t}={}){return t?e.test(r,"insert"):e.consume(r,"insert")}function d0(r){const{schema:e,document:t}=r.model;for(const n of t.getRoots())if(n.isEmpty&&!e.checkChild(n,"$text")&&e.checkChild(n,"paragraph"))return r.insertElement("paragraph",n),!0;return!1}function u0(r,e,t){const n=t.createContext(r);return!!t.checkChild(n,"paragraph")&&!!t.checkChild(n.push("paragraph"),e)}function h0(r,e){const t=e.createElement("paragraph");return e.insert(t,r),e.createPositionAt(t,0)}var gT=Object.defineProperty,pT=Object.defineProperties,fT=Object.getOwnPropertyDescriptors,m0=Object.getOwnPropertySymbols,kT=Object.prototype.hasOwnProperty,bT=Object.prototype.propertyIsEnumerable,g0=(r,e,t)=>e in r?gT(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class wT extends t0{elementToElement(e){return this.add(p0(e))}elementToAttribute(e){return this.add(function(t){t=Rn(t),f0(t);const n=k0(t,!1),o=_h(t.view),a=o?`element:${o}`:"element";return l=>{l.on(a,n,{priority:t.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=Rn(t);let n=null;(typeof t.view=="string"||t.view.key)&&(n=function(a){typeof a.view=="string"&&(a.view={key:a.view});const l=a.view.key,d=a.view.value===void 0?/[\s\S]*/:a.view.value;let h;return l=="class"||l=="style"?h={[l=="class"?"classes":"styles"]:d}:h={attributes:{[l]:d}},a.view.name&&(h.name=a.view.name),a.view=h,l}(t)),f0(t,n);const o=k0(t,!0);return a=>{a.on("element",o,{priority:t.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(t){const n=function(l){return(d,h)=>{const g=typeof l=="string"?l:l(d,h);return h.writer.createElement("$marker",{"data-name":g})}}(t.model);return p0((o=((l,d)=>{for(var h in d||(d={}))kT.call(d,h)&&g0(l,h,d[h]);if(m0)for(var h of m0(d))bT.call(d,h)&&g0(l,h,d[h]);return l})({},t),a={model:n},pT(o,fT(a))));var o,a}(e))}dataToMarker(e){return this.add(function(t){t=Rn(t),t.model||(t.model=l=>l?t.view+":"+l:t.view);const n={view:t.view,model:t.model},o=xh(b0(n,"start")),a=xh(b0(n,"end"));return l=>{l.on(`element:${t.view}-start`,o,{priority:t.converterPriority||"normal"}),l.on(`element:${t.view}-end`,a,{priority:t.converterPriority||"normal"});const d=V.low,h=V.highest,g=V.get(t.converterPriority)/h;l.on("element",function(p){return(A,y,E)=>{const I=`data-${p.view}`;function T(O,R){for(const U of R){const W=p.model(U,E),Z=E.writer.createElement("$marker",{"data-name":W});E.writer.insert(Z,O),y.modelCursor.isEqual(O)?y.modelCursor=y.modelCursor.getShiftedBy(1):y.modelCursor=y.modelCursor._getTransformedByInsertion(O,1),y.modelRange=y.modelRange._getTransformedByInsertion(O,1)[0]}}(E.consumable.test(y.viewItem,{attributes:I+"-end-after"})||E.consumable.test(y.viewItem,{attributes:I+"-start-after"})||E.consumable.test(y.viewItem,{attributes:I+"-end-before"})||E.consumable.test(y.viewItem,{attributes:I+"-start-before"}))&&(y.modelRange||Object.assign(y,E.convertChildren(y.viewItem,y.modelCursor)),E.consumable.consume(y.viewItem,{attributes:I+"-end-after"})&&T(y.modelRange.end,y.viewItem.getAttribute(I+"-end-after").split(",")),E.consumable.consume(y.viewItem,{attributes:I+"-start-after"})&&T(y.modelRange.end,y.viewItem.getAttribute(I+"-start-after").split(",")),E.consumable.consume(y.viewItem,{attributes:I+"-end-before"})&&T(y.modelRange.start,y.viewItem.getAttribute(I+"-end-before").split(",")),E.consumable.consume(y.viewItem,{attributes:I+"-start-before"})&&T(y.modelRange.start,y.viewItem.getAttribute(I+"-start-before").split(",")))}}(n),{priority:d+g})}}(e))}}function p0(r){const e=xh(r=Rn(r)),t=_h(r.view),n=t?`element:${t}`:"element";return o=>{o.on(n,e,{priority:r.converterPriority||"normal"})}}function _h(r){return typeof r=="string"?r:typeof r=="object"&&typeof r.name=="string"?r.name:null}function xh(r){const e=new nr(r.view);return(t,n,o)=>{const a=e.match(n.viewItem);if(!a)return;const l=a.match;if(l.name=!0,!o.consumable.test(n.viewItem,l))return;const d=function(h,g,p){return h instanceof Function?h(g,p):p.writer.createElement(h)}(r.model,n.viewItem,o);d&&o.safeInsert(d,n.modelCursor)&&(o.consumable.consume(n.viewItem,l),o.convertChildren(n.viewItem,d),o.updateConversionResult(d,n))}}function f0(r,e=null){const t=e===null||(a=>a.getAttribute(e)),n=typeof r.model!="object"?r.model:r.model.key,o=typeof r.model!="object"||r.model.value===void 0?t:r.model.value;r.model={key:n,value:o}}function k0(r,e){const t=new nr(r.view);return(n,o,a)=>{if(!o.modelRange&&e)return;const l=t.match(o.viewItem);if(!l||(function(p,A){const y=typeof p=="function"?p(A):p;return typeof y=="object"&&!_h(y)?!1:!y.classes&&!y.attributes&&!y.styles}(r.view,o.viewItem)?l.match.name=!0:delete l.match.name,!a.consumable.test(o.viewItem,l.match)))return;const d=r.model.key,h=typeof r.model.value=="function"?r.model.value(o.viewItem,a):r.model.value;if(h===null)return;o.modelRange||Object.assign(o,a.convertChildren(o.viewItem,o.modelCursor)),function(p,A,y,E){let I=!1;for(const T of Array.from(p.getItems({shallow:y})))E.schema.checkAttribute(T,A.key)&&(I=!0,T.hasAttribute(A.key)||E.writer.setAttribute(A.key,A.value,T));return I}(o.modelRange,{key:d,value:h},e,a)&&(a.consumable.test(o.viewItem,{name:!0})&&(l.match.name=!0),a.consumable.consume(o.viewItem,l.match))}}function b0(r,e){return{view:`${r.view}-${e}`,model:(t,n)=>{const o=t.getAttribute("name"),a=r.model(o,n);return n.writer.createElement("$marker",{"data-name":a})}}}function AT(r){r.document.registerPostFixer(e=>function(t,n){const o=n.document.selection,a=n.schema,l=[];let d=!1;for(const h of o.getRanges()){const g=w0(h,a);g&&!g.isEqual(h)?(l.push(g),d=!0):l.push(h)}return d&&t.setSelection(function(h){const g=[...h],p=new Set;let A=1;for(;A<g.length;){const y=g[A],E=g.slice(0,A);for(const[I,T]of E.entries())if(!p.has(I)){if(y.isEqual(T))p.add(I);else if(y.isIntersecting(T)){p.add(I),p.add(A);const O=y.getJoined(T);g.push(O)}}A++}return g.filter((y,E)=>!p.has(E))}(l),{backward:o.isBackward}),!1}(e,r))}function w0(r,e){return r.isCollapsed?function(t,n){const o=t.start,a=n.getNearestSelectionRange(o);if(!a){const d=o.getAncestors().reverse().find(h=>n.isObject(h));return d?G._createOn(d):null}if(!a.isCollapsed)return a;const l=a.start;return o.isEqual(l)?null:new G(l)}(r,e):function(t,n){const{start:o,end:a}=t,l=n.checkChild(o,"$text"),d=n.checkChild(a,"$text"),h=n.getLimitElement(o),g=n.getLimitElement(a);if(h===g){if(l&&d)return null;if(function(y,E,I){const T=y.nodeAfter&&!I.isLimit(y.nodeAfter)||I.checkChild(y,"$text"),O=E.nodeBefore&&!I.isLimit(E.nodeBefore)||I.checkChild(E,"$text");return T||O}(o,a,n)){const y=o.nodeAfter&&n.isSelectable(o.nodeAfter)?null:n.getNearestSelectionRange(o,"forward"),E=a.nodeBefore&&n.isSelectable(a.nodeBefore)?null:n.getNearestSelectionRange(a,"backward"),I=y?y.start:o,T=E?E.end:a;return new G(I,T)}}const p=h&&!h.is("rootElement"),A=g&&!g.is("rootElement");if(p||A){const y=o.nodeAfter&&a.nodeBefore&&o.nodeAfter.parent===a.nodeBefore.parent,E=p&&(!y||!C0(o.nodeAfter,n)),I=A&&(!y||!C0(a.nodeBefore,n));let T=o,O=a;return E&&(T=X._createBefore(A0(h,n))),I&&(O=X._createAfter(A0(g,n))),new G(T,O)}return null}(r,e)}function A0(r,e){let t=r,n=t;for(;e.isLimit(n)&&n.parent;)t=n,n=n.parent;return t}function C0(r,e){return r&&e.isSelectable(r)}class CT extends Re(){constructor(e,t){super(),this.model=e,this.view=new KI(t),this.mapper=new Gb,this.downcastDispatcher=new Zb({mapper:this.mapper,schema:e.schema});const n=this.model.document,o=n.selection,a=this.model.markers;var l,d,h;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(g=>{this.downcastDispatcher.convertChanges(n.differ,a,g),this.downcastDispatcher.convertSelection(o,a,g)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(g,p){return(A,y)=>{const E=y.newSelection,I=[];for(const O of E.getRanges())I.push(p.toModelRange(O));const T=g.createSelection(I,{backward:E.isBackward});T.isEqual(g.document.selection)||g.change(O=>{O.setSelection(T)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(l=this.mapper,d=this.model.schema,h=this.view,(g,p)=>{if(!h.document.isComposing||D.isAndroid)for(let A=0;A<p.targetRanges.length;A++){const y=p.targetRanges[A],E=l.toModelRange(y),I=w0(E,d);I&&!I.isEqual(E)&&(p.targetRanges[A]=l.toViewRange(I))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(g,p,A)=>{if(!A.consumable.consume(p.item,g.name))return;const y=A.writer,E=A.mapper.toViewPosition(p.range.start),I=y.createText(p.item.data);y.insert(E,I)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(g,p,A)=>{A.convertAttributes(p.item),p.reconversion||!p.item.is("element")||p.item.isEmpty||A.convertChildren(p.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(g,p,A)=>{const y=A.mapper.toViewPosition(p.position),E=p.position.getShiftedBy(p.length),I=A.mapper.toViewPosition(E,{isPhantom:!0}),T=A.writer.createRange(y,I),O=A.writer.remove(T.getTrimmed());for(const R of A.writer.createRangeIn(O).getItems())A.mapper.unbindViewElement(R,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(g,p,A)=>{const y=A.writer,E=y.document.selection;for(const I of E.getRanges())I.isCollapsed&&I.end.parent.isAttached()&&A.writer.mergeAttributes(I.start);y.setSelection(null)}),this.downcastDispatcher.on("selection",(g,p,A)=>{const y=p.selection;if(y.isCollapsed||!A.consumable.consume(y,"selection"))return;const E=[];for(const I of y.getRanges())E.push(A.mapper.toViewRange(I));A.writer.setSelection(E,{backward:y.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(g,p,A)=>{const y=p.selection;if(!y.isCollapsed||!A.consumable.consume(y,"selection"))return;const E=A.writer,I=y.getFirstPosition(),T=A.mapper.toViewPosition(I),O=E.breakAttributes(T);E.setSelection(O)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(g=>{if(g.rootName=="$graveyard")return null;const p=new fb(this.view.document,g.name);return p.rootName=g.rootName,this.mapper.bindElements(g,p),p})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,n=this.model.markers.get(t);if(!n)throw new P("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(n)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class $s{constructor(){this._consumables=new Map}add(e,t){let n;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new vT(e),this._consumables.set(e,n)),n.add(t))}test(e,t){const n=this._consumables.get(e);return n===void 0?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const n=this._consumables.get(e);n!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys();for(const l of n)l!="style"&&l!="class"&&t.attributes.push(l);const o=e.getClassNames();for(const l of o)t.classes.push(l);const a=e.getStyleNames();for(const l of a)t.styles.push(l);return t}static createFrom(e,t){if(t||(t=new $s),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,$s.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const n of e.getChildren())t=$s.createFrom(n,t);return t}}const Ql=["attributes","classes","styles"];class vT{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of Ql)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of Ql)if(t in e){const n=this._test(t,e[t]);if(n!==!0)return n}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of Ql)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of Ql)t in e&&this._revert(t,e[t])}_add(e,t){const n=He(t),o=this._consumables[e];for(const a of n){if(e==="attributes"&&(a==="class"||a==="style"))throw new P("viewconsumable-invalid-attribute",this);if(o.set(a,!0),e==="styles")for(const l of this.element.document.stylesProcessor.getRelatedStyles(a))o.set(l,!0)}}_test(e,t){const n=He(t),o=this._consumables[e];for(const a of n)if(e!=="attributes"||a!=="class"&&a!=="style"){const l=o.get(a);if(l===void 0)return null;if(!l)return!1}else{const l=a=="class"?"classes":"styles",d=this._test(l,[...this._consumables[l].keys()]);if(d!==!0)return d}return!0}_consume(e,t){const n=He(t),o=this._consumables[e];for(const a of n)if(e!=="attributes"||a!=="class"&&a!=="style"){if(o.set(a,!1),e=="styles")for(const l of this.element.document.stylesProcessor.getRelatedStyles(a))o.set(l,!1)}else{const l=a=="class"?"classes":"styles";this._consume(l,[...this._consumables[l].keys()])}}_revert(e,t){const n=He(t),o=this._consumables[e];for(const a of n)if(e!=="attributes"||a!=="class"&&a!=="style")o.get(a)===!1&&o.set(a,!0);else{const l=a=="class"?"classes":"styles";this._revert(l,[...this._consumables[l].keys()])}}}class yT extends Re(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new jo(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new jo(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new P("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new P("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const n=this.getDefinition(e.last);return!!n&&n.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof X){const n=e.nodeBefore,o=e.nodeAfter;if(!(n instanceof Le))throw new P("schema-check-merge-no-element-before",this);if(!(o instanceof Le))throw new P("schema-check-merge-no-element-after",this);return this.checkMerge(n,o)}for(const n of t.getChildren())if(!this.checkChild(e,n))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[n,o])=>{if(!o)return;const a=e(n,o);typeof a=="boolean"&&(t.stop(),t.return=a)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[n,o])=>{const a=e(n,o);typeof a=="boolean"&&(t.stop(),t.return=a)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof X?t=e.parent:t=(e instanceof G?[e]:Array.from(e.getRanges())).reduce((n,o)=>{const a=o.getCommonAncestor();return n?n.getCommonAncestor(a,{includeSelf:!0}):a},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const n=[...e.getFirstPosition().getAncestors(),new Ve("",e.getAttributes())];return this.checkAttribute(n,t)}{const n=e.getRanges();for(const o of n)for(const a of o)if(this.checkAttribute(a.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(n){for(const o of n)yield*o.getMinimalFlatRanges()}(e);for(const n of e)yield*this._getValidRangesForRange(n,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new G(e);let n,o;const a=e.getAncestors().reverse().find(l=>this.isLimit(l))||e.root;t!="both"&&t!="backward"||(n=new mr({boundaries:G._createIn(a),startPosition:e,direction:"backward"})),t!="both"&&t!="forward"||(o=new mr({boundaries:G._createIn(a),startPosition:e}));for(const l of function*(d,h){let g=!1;for(;!g;){if(g=!0,d){const p=d.next();p.done||(g=!1,yield{walker:d,value:p.value})}if(h){const p=h.next();p.done||(g=!1,yield{walker:h,value:p.value})}}}(n,o)){const d=l.walker==n?"elementEnd":"elementStart",h=l.value;if(h.type==d&&this.isObject(h.item))return G._createOn(h.item);if(this.checkChild(h.nextPosition,"$text"))return new G(h.nextPosition)}return null}findAllowedParent(e,t){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(e,t,n){const o=n.model;for(const[a,l]of Object.entries(t))o.schema.checkAttribute(e,a)&&n.setAttribute(a,l,e)}removeDisallowedAttributes(e,t){for(const n of e)if(n.is("$text"))v0(this,n,t);else{const o=G._createIn(n).getPositions();for(const a of o)v0(this,a.nodeBefore||a.parent,t)}}getAttributesWithProperty(e,t,n){const o={};for(const[a,l]of e.getAttributes()){const d=this.getAttributeProperties(a);d[t]!==void 0&&(n!==void 0&&n!==d[t]||(o[a]=l))}return o}createContext(e){return new jo(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,n=Object.keys(t);for(const o of n)e[o]=_T(t[o],o);for(const o of n)xT(e,o);for(const o of n)ET(e,o);for(const o of n)DT(e,o);for(const o of n)ST(e,o),IT(e,o);for(const o of n)TT(e,o),NT(e,o),MT(e,o);this._compiledDefinitions=e}_checkContextMatch(e,t,n=t.length-1){const o=t.getItem(n);if(e.allowIn.includes(o.name)){if(n==0)return!0;{const a=this.getDefinition(o);return this._checkContextMatch(a,t,n-1)}}return!1}*_getValidRangesForRange(e,t){let n=e.start,o=e.start;for(const a of e.getItems({shallow:!0}))a.is("element")&&(yield*this._getValidRangesForRange(G._createIn(a),t)),this.checkAttribute(a,t)||(n.isEqual(o)||(yield new G(n,o)),n=X._createAfter(a)),o=X._createAfter(a);n.isEqual(o)||(yield new G(n,o))}findOptimalInsertionRange(e,t){const n=e.getSelectedElement();if(n&&this.isObject(n)&&!this.isInline(n))return t=="before"||t=="after"?new G(X._createAt(n,t)):G._createOn(n);const o=ft(e.getSelectedBlocks());if(!o)return new G(e.focus);if(o.isEmpty)return new G(X._createAt(o,0));const a=X._createAfter(o);return e.focus.isTouching(a)?new G(a):new G(X._createBefore(o))}}class jo{constructor(e){if(e instanceof jo)return e;let t;t=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(jT)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new jo([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function _T(r,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(n,o){for(const a of n){const l=Object.keys(a).filter(d=>d.startsWith("is"));for(const d of l)o[d]=!!a[d]}}(r,t),Po(r,t,"allowIn"),Po(r,t,"allowContentOf"),Po(r,t,"allowWhere"),Po(r,t,"allowAttributes"),Po(r,t,"allowAttributesOf"),Po(r,t,"allowChildren"),Po(r,t,"inheritTypesFrom"),function(n,o){for(const a of n){const l=a.inheritAllFrom;l&&(o.allowContentOf.push(l),o.allowWhere.push(l),o.allowAttributesOf.push(l),o.inheritTypesFrom.push(l))}}(r,t),t}function xT(r,e){const t=r[e];for(const n of t.allowChildren){const o=r[n];o&&o.allowIn.push(e)}t.allowChildren.length=0}function ET(r,e){for(const t of r[e].allowContentOf)r[t]&&BT(r,t).forEach(n=>{n.allowIn.push(e)});delete r[e].allowContentOf}function DT(r,e){for(const t of r[e].allowWhere){const n=r[t];if(n){const o=n.allowIn;r[e].allowIn.push(...o)}}delete r[e].allowWhere}function ST(r,e){for(const t of r[e].allowAttributesOf){const n=r[t];if(n){const o=n.allowAttributes;r[e].allowAttributes.push(...o)}}delete r[e].allowAttributesOf}function IT(r,e){const t=r[e];for(const n of t.inheritTypesFrom){const o=r[n];if(o){const a=Object.keys(o).filter(l=>l.startsWith("is"));for(const l of a)l in t||(t[l]=o[l])}}delete t.inheritTypesFrom}function TT(r,e){const t=r[e],n=t.allowIn.filter(o=>r[o]);t.allowIn=Array.from(new Set(n))}function NT(r,e){const t=r[e];for(const n of t.allowIn)r[n].allowChildren.push(e)}function MT(r,e){const t=r[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function Po(r,e,t){for(const n of r){const o=n[t];typeof o=="string"?e[t].push(o):Array.isArray(o)&&e[t].push(...o)}}function BT(r,e){const t=r[e];return(n=r,Object.keys(n).map(o=>n[o])).filter(o=>o.allowIn.includes(t.name));var n}function jT(r){return typeof r=="string"||r.is("documentFragment")?{name:typeof r=="string"?r:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:r.is("element")?r.name:"$text",*getAttributeKeys(){yield*r.getAttributeKeys()},getAttribute:e=>r.getAttribute(e)}}function v0(r,e,t){for(const n of e.getAttributeKeys())r.checkAttribute(e,n)||t.removeAttribute(n,e)}var PT=Object.defineProperty,LT=Object.defineProperties,OT=Object.getOwnPropertyDescriptors,y0=Object.getOwnPropertySymbols,zT=Object.prototype.hasOwnProperty,RT=Object.prototype.propertyIsEnumerable,_0=(r,e,t)=>e in r?PT(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class FT extends K(){constructor(e){var t;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(t=((n,o)=>{for(var a in o||(o={}))zT.call(o,a)&&_0(n,a,o[a]);if(y0)for(var a of y0(o))RT.call(o,a)&&_0(n,a,o[a]);return n})({},e),LT(t,OT({consumable:null,writer:null,store:null,convertItem:(n,o)=>this._convertItem(n,o),convertChildren:(n,o)=>this._convertChildren(n,o),safeInsert:(n,o)=>this._safeInsert(n,o),updateConversionResult:(n,o)=>this._updateConversionResult(n,o),splitToAllowedParent:(n,o)=>this._splitToAllowedParent(n,o),getSplitParts:n=>this._getSplitParts(n),keepEmptyElement:n=>this._keepEmptyElement(n)})))}convert(e,t,n=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(l,d){let h;for(const g of new jo(l)){const p={};for(const y of g.getAttributeKeys())p[y]=g.getAttribute(y);const A=d.createElement(g.name,p);h&&d.insert(A,h),h=X._createAt(A,0)}return h}(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=$s.createFrom(e),this.conversionApi.store={};const{modelRange:o}=this._convertItem(e,this._modelCursor),a=t.createDocumentFragment();if(o){this._removeEmptyElements();for(const l of Array.from(this._modelCursor.parent.getChildren()))t.append(l,a);a.markers=function(l,d){const h=new Set,g=new Map,p=G._createIn(l).getItems();for(const A of p)A.is("element","$marker")&&h.add(A);for(const A of h){const y=A.getAttribute("data-name"),E=d.createPositionBefore(A);g.has(y)?g.get(y).end=E.clone():g.set(y,new G(E.clone())),d.remove(A)}return g}(a,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,a}_convertItem(e,t){const n={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,n,this.conversionApi):e.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof G))throw new P("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){let n=t.is("position")?t:X._createAt(t,0);const o=new G(n);for(const a of Array.from(e.getChildren())){const l=this._convertItem(a,n);l.modelRange instanceof G&&(o.end=l.modelRange.end,n=l.modelCursor)}return{modelRange:o,modelCursor:n}}_safeInsert(e,t){const n=this._splitToAllowedParent(e,t);return!!n&&(this.conversionApi.writer.insert(e,n.position),!0)}_updateConversionResult(e,t){const n=this._getSplitParts(e),o=this.conversionApi.writer;t.modelRange||(t.modelRange=o.createRange(o.createPositionBefore(e),o.createPositionAfter(n[n.length-1])));const a=this._cursorParents.get(e);t.modelCursor=a?o.createPositionAt(a,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:n,writer:o}=this.conversionApi;let a=n.findAllowedParent(t,e);if(a){if(a===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(a)&&(a=null)}if(!a)return u0(t,e,n)?{position:h0(t,o)}:null;const l=this.conversionApi.writer.split(t,a),d=[];for(const g of l.range.getWalker())if(g.type=="elementEnd")d.push(g.item);else{const p=d.pop(),A=g.item;this._registerSplitPair(p,A)}const h=l.range.end.parent;return this._cursorParents.set(e,h),{position:l.position,cursorParent:h}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class VT{getHtml(e){const t=C.document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class UT{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Ul(e,{renderingMode:"data"}),this.htmlWriter=new VT}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),o=t.body.childNodes;for(;o.length>0;)n.appendChild(o[0]);return n}}class HT extends K(){constructor(e,t){super(),this.model=e,this.mapper=new Gb,this.downcastDispatcher=new Zb({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(n,o,a)=>{if(!a.consumable.consume(o.item,n.name))return;const l=a.writer,d=a.mapper.toViewPosition(o.range.start),h=l.createText(o.item.data);l.insert(d,h)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(n,o,a)=>{a.convertAttributes(o.item),o.reconversion||!o.item.is("element")||o.item.isEmpty||a.convertChildren(o.item)},{priority:"lowest"}),this.upcastDispatcher=new FT({schema:e.schema}),this.viewDocument=new Rl(t),this.stylesProcessor=t,this.htmlProcessor=new UT(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new bb(this.viewDocument),this.upcastDispatcher.on("text",(n,o,{schema:a,consumable:l,writer:d})=>{let h=o.modelCursor;if(!l.test(o.viewItem))return;if(!a.checkChild(h,"$text")){if(!u0(h,"$text",a)||o.viewItem.data.trim().length==0)return;const p=h.nodeBefore;h=h0(h,d),p&&p.is("element","$marker")&&(d.move(d.createRangeOn(p),h),h=d.createPositionAfter(p))}l.consume(o.viewItem);const g=d.createText(o.viewItem.data);d.insert(g,h),o.modelRange=d.createRange(h,h.getShiftedBy(g.offsetSize)),o.modelCursor=o.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(n,o,a)=>{if(!o.modelRange&&a.consumable.consume(o.viewItem,{name:!0})){const{modelRange:l,modelCursor:d}=a.convertChildren(o.viewItem,o.modelCursor);o.modelRange=l,o.modelCursor=d}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(n,o,a)=>{if(!o.modelRange&&a.consumable.consume(o.viewItem,{name:!0})){const{modelRange:l,modelCursor:d}=a.convertChildren(o.viewItem,o.modelCursor);o.modelRange=l,o.modelCursor=d}},{priority:"lowest"}),Re().prototype.decorate.call(this,"init"),Re().prototype.decorate.call(this,"set"),Re().prototype.decorate.call(this,"get"),Re().prototype.decorate.call(this,"toView"),Re().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},d0)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:n="empty"}=e;if(!this._checkIfRootsExists([t]))throw new P("datacontroller-get-non-existent-root",this);const o=this.model.document.getRoot(t);return o.isAttached()||$("datacontroller-get-detached-root",this),n!=="empty"||this.model.hasContent(o,{ignoreWhitespaces:!0})?this.stringify(o,e):""}stringify(e,t={}){const n=this.toView(e,t);return this.processor.toData(n)}toView(e,t={}){const n=this.viewDocument,o=this._viewWriter;this.mapper.clearBindings();const a=G._createIn(e),l=new No(n);this.mapper.bindElements(e,l);const d=e.is("documentFragment")?e.markers:function(h){const g=[],p=h.root.document;if(!p)return new Map;const A=G._createIn(h);for(const y of p.model.markers){const E=y.getRange(),I=E.isCollapsed,T=E.start.isEqual(A.start)||E.end.isEqual(A.end);if(I&&T)g.push([y.name,E]);else{const O=A.getIntersection(E);O&&g.push([y.name,O])}}return g.sort(([y,E],[I,T])=>{if(E.end.compareWith(T.start)!=="after")return 1;if(E.start.compareWith(T.end)!=="before")return-1;switch(E.start.compareWith(T.start)){case"before":return 1;case"after":return-1;default:switch(E.end.compareWith(T.end)){case"before":return 1;case"after":return-1;default:return I.localeCompare(y)}}}),new Map(g)}(e);return this.downcastDispatcher.convert(a,d,o,t),l}init(e){if(this.model.document.version)throw new P("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new P("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},n=>{for(const o of Object.keys(t)){const a=this.model.document.getRoot(o);n.insert(this.parse(t[o],a),a,0)}}),Promise.resolve()}set(e,t={}){let n={};if(typeof e=="string"?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new P("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},o=>{o.setSelection(null),o.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const a of Object.keys(n)){const l=this.model.document.getRoot(a);o.remove(o.createRangeIn(l)),o.insert(this.parse(n[a],l),l,0)}})}parse(e,t="$root"){const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e,t="$root"){return this.model.change(n=>this.upcastDispatcher.convert(e,n,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}class qT{constructor(e,t){this._helpers=new Map,this._downcast=He(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=He(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new P("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e))throw new P("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:n}of Eh(e))this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:n}of Eh(e))this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:n}of Eh(e))this.for("upcast").attributeToAttribute({view:n,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:n}){if(this._helpers.has(e))throw new P("conversion-group-exists",this);const o=n?new lT(t):new wT(t);this._helpers.set(e,o)}}function*Eh(r){if(r.model.values)for(const e of r.model.values){const t={key:r.model.key,value:e},n=r.view[e],o=r.upcastAlso?r.upcastAlso[e]:void 0;yield*x0(t,n,o)}else yield*x0(r.model,r.view,r.upcastAlso)}function*x0(r,e,t){if(yield{model:r,view:e},t)for(const n of He(t))yield{model:r,view:n}}class cn{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function Dh(r,e){const t=D0(e),n=t.reduce((l,d)=>l+d.offsetSize,0),o=r.parent;Qs(r);const a=r.index;return o._insertChild(a,t),Ks(o,a+t.length),Ks(o,a),new G(r,r.getShiftedBy(n))}function E0(r){if(!r.isFlat)throw new P("operation-utils-remove-range-not-flat",this);const e=r.start.parent;Qs(r.start),Qs(r.end);const t=e._removeChildren(r.start.index,r.end.index-r.start.index);return Ks(e,r.start.index),t}function Gs(r,e){if(!r.isFlat)throw new P("operation-utils-move-range-not-flat",this);const t=E0(r);return Dh(e=e._getTransformedByDeletion(r.start,r.end.offset-r.start.offset),t)}function D0(r){const e=[];(function t(n){if(typeof n=="string")e.push(new Ve(n));else if(n instanceof Fn)e.push(new Ve(n.data,n.getAttributes()));else if(n instanceof Mo)e.push(n);else if(tn(n))for(const o of n)t(o)})(r);for(let t=1;t<e.length;t++){const n=e[t],o=e[t-1];n instanceof Ve&&o instanceof Ve&&S0(n,o)&&(e.splice(t-1,2,new Ve(o.data+n.data,o.getAttributes())),t--)}return e}function Ks(r,e){const t=r.getChild(e-1),n=r.getChild(e);if(t&&n&&t.is("$text")&&n.is("$text")&&S0(t,n)){const o=new Ve(t.data+n.data,t.getAttributes());r._removeChildren(e-1,2),r._insertChild(e-1,o)}}function Qs(r){const e=r.textNode,t=r.parent;if(e){const n=r.offset-e.startOffset,o=e.index;t._removeChildren(o,1);const a=new Ve(e.data.substr(0,n),e.getAttributes()),l=new Ve(e.data.substr(n),e.getAttributes());t._insertChild(o,[a,l])}}function S0(r,e){const t=r.getAttributes(),n=e.getAttributes();for(const o of t){if(o[1]!==e.getAttribute(o[0]))return!1;n.next()}return n.next().done}class Me extends cn{constructor(e,t,n,o){super(o),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[G._createFromPositionAndShift(this.sourcePosition,this.howMany),G._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Me(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Me(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,o=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new P("move-operation-nodes-do-not-exist",this);if(e===t&&n<o&&o<n+this.howMany)throw new P("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Pt(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const a=this.sourcePosition.path.length-1;if(this.targetPosition.path[a]>=n&&this.targetPosition.path[a]<n+this.howMany)throw new P("move-operation-node-into-itself",this)}}_execute(){Gs(G._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const n=X.fromJSON(e.sourcePosition,t),o=X.fromJSON(e.targetPosition,t);return new this(n,e.howMany,o,e.baseVersion)}}class bt extends cn{constructor(e,t,n){super(n),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Us(D0(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Us([...this.nodes].map(n=>n._clone(!0))),t=new bt(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new X(e,[0]);return new Me(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new P("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Us([...e].map(t=>t._clone(!0))),Dh(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const a of e.nodes)a.name?n.push(Le.fromJSON(a)):n.push(Ve.fromJSON(a));const o=new bt(X.fromJSON(e.position,t),n,e.baseVersion);return o.shouldReceiveAttributes=e.shouldReceiveAttributes,o}}class Ue extends cn{constructor(e,t,n,o,a){super(a),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=n,this.graveyardPosition=o?o.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new X(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new G(this.splitPosition,e)}get affectedSelectable(){const e=[G._createFromPositionAndShift(this.splitPosition,0),G._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(G._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new Ue(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new X(e,[0]);return new nt(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new P("split-operation-position-invalid",this);if(!e.parent)throw new P("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new P("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new P("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Gs(G._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();Dh(this.insertionPosition,t)}Gs(new G(X._createAt(e,this.splitPosition.offset),X._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new X(e.root,t,"toPrevious")}static fromJSON(e,t){const n=X.fromJSON(e.splitPosition,t),o=X.fromJSON(e.insertionPosition,t),a=e.graveyardPosition?X.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,o,a,e.baseVersion)}}class nt extends cn{constructor(e,t,n,o,a){super(a),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=o.clone()}get type(){return"merge"}get deletionPosition(){return new X(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new G(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[G._createOn(e),G._createFromPositionAndShift(this.targetPosition,0),G._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new nt(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new X(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new Ue(e,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new P("merge-operation-source-position-invalid",this);if(!t.parent)throw new P("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new P("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;Gs(G._createIn(e),this.targetPosition),Gs(G._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const n=X.fromJSON(e.sourcePosition,t),o=X.fromJSON(e.targetPosition,t),a=X.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,o,a,e.baseVersion)}}class Vt extends cn{constructor(e,t,n,o,a,l){super(l),this.name=e,this.oldRange=t?t.clone():null,this.newRange=n?n.clone():null,this.affectsData=a,this._markers=o}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new Vt(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Vt(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new Vt(e.name,e.oldRange?G.fromJSON(e.oldRange,t):null,e.newRange?G.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}const I0=function(r,e){return Wl(r,e)};class at extends cn{constructor(e,t,n,o,a){super(a),this.range=e.clone(),this.key=t,this.oldValue=n===void 0?null:n,this.newValue=o===void 0?null:o}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new at(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new at(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new P("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!I0(e.getAttribute(this.key),this.oldValue))throw new P("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new P("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){I0(this.oldValue,this.newValue)||function(e,t,n){Qs(e.start),Qs(e.end);for(const o of e.getItems({shallow:!0})){const a=o.is("$textProxy")?o.textNode:o;n!==null?a._setAttribute(t,n):a._removeAttribute(t),Ks(a.parent,a.index)}Ks(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new at(G.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class ut extends cn{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new ut(this.baseVersion)}getReversed(){return new ut(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Ut extends cn{constructor(e,t,n,o){super(o),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=n}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Ut(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Ut(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof Le))throw new P("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new P("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new Ut(X.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class gr extends cn{constructor(e,t,n,o,a){super(a),this.root=e,this.key=t,this.oldValue=n===void 0?null:n,this.newValue=o===void 0?null:o}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new gr(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new gr(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new P("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new P("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new P("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new P("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new gr(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class or extends cn{constructor(e,t,n,o,a){super(a),this.rootName=e,this.elementName=t,this.isAdd=n,this._document=o,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new or(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new or(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new or(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const yn={};yn[at.className]=at,yn[bt.className]=bt,yn[Vt.className]=Vt,yn[Me.className]=Me,yn[ut.className]=ut,yn[cn.className]=cn,yn[Ut.className]=Ut,yn[gr.className]=gr,yn[or.className]=or,yn[Ue.className]=Ue,yn[nt.className]=nt;class WT{static fromJSON(e,t){return yn[e.__className].fromJSON(e,t)}}const Sh=new Map;function Ne(r,e,t){let n=Sh.get(r);n||(n=new Map,Sh.set(r,n)),n.set(e,t)}function $T(r){return[r]}function T0(r,e,t={}){const n=function(o,a){const l=Sh.get(o);return l&&l.has(a)?l.get(a):$T}(r.constructor,e.constructor);try{return n(r=r.clone(),e,t)}catch(o){throw o}}function GT(r,e,t){r=r.slice(),e=e.slice();const n=new KT(t.document,t.useRelations,t.forceWeakRemove);n.setOriginalOperations(r),n.setOriginalOperations(e);const o=n.originalOperations;if(r.length==0||e.length==0)return{operationsA:r,operationsB:e,originalOperations:o};const a=new WeakMap;for(const h of r)a.set(h,0);const l={nextBaseVersionA:r[r.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:r.length,originalOperationsBCount:e.length};let d=0;for(;d<r.length;){const h=r[d],g=a.get(h);if(g==e.length){d++;continue}const p=e[g],A=T0(h,p,n.getContext(h,p,!0)),y=T0(p,h,n.getContext(p,h,!1));n.updateRelation(h,p),n.setOriginalOperations(A,h),n.setOriginalOperations(y,p);for(const E of A)a.set(E,g+y.length);r.splice(d,1,...A),e.splice(g,1,...y)}return N0(r,l.nextBaseVersionB),N0(e,l.nextBaseVersionA),{operationsA:r,operationsB:e,originalOperations:o}}class KT{constructor(e,t,n=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(e,t=null){const n=t?this.originalOperations.get(t):null;for(const o of e)this.originalOperations.set(o,n||o)}updateRelation(e,t){if(e instanceof Me)t instanceof nt?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof Me&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof Ue){if(t instanceof nt)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof Me)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const n=G._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){const o=n.end.offset-e.splitPosition.offset,a=e.splitPosition.offset-n.start.offset;this._setRelation(e,t,{howMany:o,offset:a})}}}else if(e instanceof nt)t instanceof nt?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof Ue?e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource"):t instanceof Me&&t.howMany>0&&(e.sourcePosition.isEqual(t.sourcePosition.getShiftedBy(t.howMany))&&this._setRelation(e,t,"mergeSourceAffected"),e.targetPosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeTargetWasBefore"));else if(e instanceof Vt){const n=e.newRange;if(!n)return;if(t instanceof Me){const o=G._createFromPositionAndShift(t.sourcePosition,t.howMany),a=o.containsPosition(n.start)||o.start.isEqual(n.start),l=o.containsPosition(n.end)||o.end.isEqual(n.end);!a&&!l||o.containsRange(n)||this._setRelation(e,t,{side:a?"left":"right",path:a?n.start.path.slice():n.end.path.slice()})}else if(t instanceof nt){const o=n.start.isEqual(t.targetPosition),a=n.start.isEqual(t.deletionPosition),l=n.end.isEqual(t.deletionPosition),d=n.end.isEqual(t.sourcePosition);(o||a||l||d)&&this._setRelation(e,t,{wasInLeftElement:o,wasStartBeforeMergedElement:a,wasEndBeforeMergedElement:l,wasInRightElement:d})}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t),o=this._history.getUndoneOperation(n);if(!o)return null;const a=this.originalOperations.get(e),l=this._relations.get(a);return l&&l.get(o)||null}_setRelation(e,t,n){const o=this.originalOperations.get(e),a=this.originalOperations.get(t);let l=this._relations.get(o);l||(l=new Map,this._relations.set(o,l)),l.set(a,n)}}function N0(r,e){for(const t of r)t.baseVersion=e++}function M0(r,e,t){const n=r.nodes.getNode(0).getAttribute(e);if(n==t)return null;const o=new G(r.position,r.position.getShiftedBy(r.howMany));return new at(o,e,n,t,0)}function B0(r,e){return r.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function _i(r,e){const t=[];for(let n=0;n<r.length;n++){const o=r[n],a=new Me(o.start,o.end.offset-o.start.offset,e,0);t.push(a);for(let l=n+1;l<r.length;l++)r[l]=r[l]._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany)[0];e=e._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany)}return t}Ne(at,at,(r,e,t)=>{if(r.key===e.key&&r.range.start.hasSameParentAs(e.range.start)){const n=r.range.getDifference(e.range).map(a=>new at(a,r.key,r.oldValue,r.newValue,0)),o=r.range.getIntersection(e.range);return o&&t.aIsStrong&&n.push(new at(o,e.key,e.newValue,r.newValue,0)),n.length==0?[new ut(0)]:n}return[r]}),Ne(at,bt,(r,e)=>{if(r.range.start.hasSameParentAs(e.position)&&r.range.containsPosition(e.position)){const t=r.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(n=>new at(n,r.key,r.oldValue,r.newValue,r.baseVersion));if(e.shouldReceiveAttributes){const n=M0(e,r.key,r.oldValue);n&&t.unshift(n)}return t}return r.range=r.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[r]}),Ne(at,nt,(r,e)=>{const t=[];r.range.start.hasSameParentAs(e.deletionPosition)&&(r.range.containsPosition(e.deletionPosition)||r.range.start.isEqual(e.deletionPosition))&&t.push(G._createFromPositionAndShift(e.graveyardPosition,1));const n=r.range._getTransformedByMergeOperation(e);return n.isCollapsed||t.push(n),t.map(o=>new at(o,r.key,r.oldValue,r.newValue,r.baseVersion))}),Ne(at,Me,(r,e)=>function(n,o){const a=G._createFromPositionAndShift(o.sourcePosition,o.howMany);let l=null,d=[];a.containsRange(n,!0)?l=n:n.start.hasSameParentAs(a.start)?(d=n.getDifference(a),l=n.getIntersection(a)):d=[n];const h=[];for(let g of d){g=g._getTransformedByDeletion(o.sourcePosition,o.howMany);const p=o.getMovedRangeStart(),A=g.start.hasSameParentAs(p),y=g._getTransformedByInsertion(p,o.howMany,A);h.push(...y)}return l&&h.push(l._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany,!1)[0]),h}(r.range,e).map(n=>new at(n,r.key,r.oldValue,r.newValue,r.baseVersion))),Ne(at,Ue,(r,e)=>{if(r.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||r.range.end.offset++,[r];if(r.range.start.hasSameParentAs(e.splitPosition)&&r.range.containsPosition(e.splitPosition)){const t=r.clone();return t.range=new G(e.moveTargetPosition.clone(),r.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),r.range.end=e.splitPosition.clone(),r.range.end.stickiness="toPrevious",[r,t]}return r.range=r.range._getTransformedBySplitOperation(e),[r]}),Ne(bt,at,(r,e)=>{const t=[r];if(r.shouldReceiveAttributes&&r.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(r.position)){const n=M0(r,e.key,e.newValue);n&&t.push(n)}return t}),Ne(bt,bt,(r,e,t)=>(r.position.isEqual(e.position)&&t.aIsStrong||(r.position=r.position._getTransformedByInsertOperation(e)),[r])),Ne(bt,Me,(r,e)=>(r.position=r.position._getTransformedByMoveOperation(e),[r])),Ne(bt,Ue,(r,e)=>(r.position=r.position._getTransformedBySplitOperation(e),[r])),Ne(bt,nt,(r,e)=>(r.position=r.position._getTransformedByMergeOperation(e),[r])),Ne(Vt,bt,(r,e)=>(r.oldRange&&(r.oldRange=r.oldRange._getTransformedByInsertOperation(e)[0]),r.newRange&&(r.newRange=r.newRange._getTransformedByInsertOperation(e)[0]),[r])),Ne(Vt,Vt,(r,e,t)=>{if(r.name==e.name){if(!t.aIsStrong)return[new ut(0)];r.oldRange=e.newRange?e.newRange.clone():null}return[r]}),Ne(Vt,nt,(r,e)=>(r.oldRange&&(r.oldRange=r.oldRange._getTransformedByMergeOperation(e)),r.newRange&&(r.newRange=r.newRange._getTransformedByMergeOperation(e)),[r])),Ne(Vt,Me,(r,e,t)=>{if(r.oldRange&&(r.oldRange=G._createFromRanges(r.oldRange._getTransformedByMoveOperation(e))),r.newRange){if(t.abRelation){const n=G._createFromRanges(r.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(r.newRange.start))return r.newRange.end=n.end,r.newRange.start.path=t.abRelation.path,[r];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(r.newRange.end))return r.newRange.start=n.start,r.newRange.end.path=t.abRelation.path,[r]}r.newRange=G._createFromRanges(r.newRange._getTransformedByMoveOperation(e))}return[r]}),Ne(Vt,Ue,(r,e,t)=>{if(r.oldRange&&(r.oldRange=r.oldRange._getTransformedBySplitOperation(e)),r.newRange){if(t.abRelation){const n=r.newRange._getTransformedBySplitOperation(e);return r.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?r.newRange.start=X._createAt(e.insertionPosition):r.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(r.newRange.start=X._createAt(e.moveTargetPosition)),r.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?r.newRange.end=X._createAt(e.moveTargetPosition):r.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?r.newRange.end=X._createAt(e.insertionPosition):r.newRange.end=n.end,[r]}r.newRange=r.newRange._getTransformedBySplitOperation(e)}return[r]}),Ne(nt,bt,(r,e)=>(r.sourcePosition.hasSameParentAs(e.position)&&(r.howMany+=e.howMany),r.sourcePosition=r.sourcePosition._getTransformedByInsertOperation(e),r.targetPosition=r.targetPosition._getTransformedByInsertOperation(e),[r])),Ne(nt,nt,(r,e,t)=>{if(r.sourcePosition.isEqual(e.sourcePosition)&&r.targetPosition.isEqual(e.targetPosition)){if(t.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),r.sourcePosition=new X(e.graveyardPosition.root,n),r.howMany=0,[r]}return[new ut(0)]}if(r.sourcePosition.isEqual(e.sourcePosition)&&!r.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const n=r.targetPosition.root.rootName=="$graveyard",o=e.targetPosition.root.rootName=="$graveyard";if(o&&!n||!(n&&!o)&&t.aIsStrong){const a=e.targetPosition._getTransformedByMergeOperation(e),l=r.targetPosition._getTransformedByMergeOperation(e);return[new Me(a,r.howMany,l,0)]}return[new ut(0)]}return r.sourcePosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.sourcePosition=r.sourcePosition._getTransformedByMergeOperation(e),r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),r.graveyardPosition.isEqual(e.graveyardPosition)&&t.aIsStrong||(r.graveyardPosition=r.graveyardPosition._getTransformedByMergeOperation(e)),[r]}),Ne(nt,Me,(r,e,t)=>{const n=G._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&r.deletionPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(r.sourcePosition)?[new ut(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(r.sourcePosition)?r.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(r.sourcePosition)&&t.abRelation=="mergeSourceAffected"?r.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(r.targetPosition)?(r.targetPosition.stickiness="toNone",r.howMany-=e.howMany):e.targetPosition.isEqual(r.targetPosition)&&t.abRelation=="mergeTargetWasBefore"?(r.targetPosition.stickiness="toPrevious",r.howMany+=e.howMany):(r.sourcePosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.sourcePosition.hasSameParentAs(e.sourcePosition)&&(r.howMany-=e.howMany)),r.sourcePosition=r.sourcePosition._getTransformedByMoveOperation(e),r.targetPosition=r.targetPosition._getTransformedByMoveOperation(e),r.sourcePosition.stickiness="toPrevious",r.targetPosition.stickiness="toNext",r.graveyardPosition.isEqual(e.targetPosition)||(r.graveyardPosition=r.graveyardPosition._getTransformedByMoveOperation(e)),[r])}),Ne(nt,Ue,(r,e,t)=>{if(e.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),r.deletionPosition.isEqual(e.graveyardPosition)&&(r.howMany=e.howMany)),r.targetPosition.isEqual(e.splitPosition)){const n=e.howMany!=0,o=e.graveyardPosition&&r.deletionPosition.isEqual(e.graveyardPosition);if(n||o||t.abRelation=="mergeTargetNotMoved")return r.sourcePosition=r.sourcePosition._getTransformedBySplitOperation(e),[r]}if(r.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return r.howMany=0,r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r];if(t.abRelation=="mergeSameElement"||r.sourcePosition.offset>0)return r.sourcePosition=e.moveTargetPosition.clone(),r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r]}return r.sourcePosition.hasSameParentAs(e.splitPosition)&&(r.howMany=e.splitPosition.offset),r.sourcePosition=r.sourcePosition._getTransformedBySplitOperation(e),r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r]}),Ne(Me,bt,(r,e)=>{const t=G._createFromPositionAndShift(r.sourcePosition,r.howMany)._getTransformedByInsertOperation(e,!1)[0];return r.sourcePosition=t.start,r.howMany=t.end.offset-t.start.offset,r.targetPosition.isEqual(e.position)||(r.targetPosition=r.targetPosition._getTransformedByInsertOperation(e)),[r]}),Ne(Me,Me,(r,e,t)=>{const n=G._createFromPositionAndShift(r.sourcePosition,r.howMany),o=G._createFromPositionAndShift(e.sourcePosition,e.howMany);let a,l=t.aIsStrong,d=!t.aIsStrong;if(t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?d=!0:t.abRelation!="insertAfter"&&t.baRelation!="insertBefore"||(d=!1),a=r.targetPosition.isEqual(e.targetPosition)&&d?r.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):r.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),B0(r,e)&&B0(e,r))return[e.getReversed()];if(n.containsPosition(e.targetPosition)&&n.containsRange(o,!0))return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),_i([n],a);if(o.containsPosition(r.targetPosition)&&o.containsRange(n,!0))return n.start=n.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),n.end=n.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),_i([n],a);const h=Pt(r.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(h=="prefix"||h=="extension")return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),_i([n],a);r.type!="remove"||e.type=="remove"||t.aWasUndone||t.forceWeakRemove?r.type=="remove"||e.type!="remove"||t.bWasUndone||t.forceWeakRemove||(l=!1):l=!0;const g=[],p=n.getDifference(o);for(const y of p){y.start=y.start._getTransformedByDeletion(e.sourcePosition,e.howMany),y.end=y.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const E=Pt(y.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",I=y._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,E);g.push(...I)}const A=n.getIntersection(o);return A!==null&&l&&(A.start=A.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),A.end=A.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),g.length===0?g.push(A):g.length==1?o.start.isBefore(n.start)||o.start.isEqual(n.start)?g.unshift(A):g.push(A):g.splice(1,0,A)),g.length===0?[new ut(r.baseVersion)]:_i(g,a)}),Ne(Me,Ue,(r,e,t)=>{let n=r.targetPosition.clone();r.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&t.abRelation!="moveTargetAfter"||(n=r.targetPosition._getTransformedBySplitOperation(e));const o=G._createFromPositionAndShift(r.sourcePosition,r.howMany);if(o.end.isEqual(e.insertionPosition))return e.graveyardPosition||r.howMany++,r.targetPosition=n,[r];if(o.start.hasSameParentAs(e.splitPosition)&&o.containsPosition(e.splitPosition)){let l=new G(e.splitPosition,o.end);return l=l._getTransformedBySplitOperation(e),_i([new G(o.start,e.splitPosition),l],n)}r.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(n=e.moveTargetPosition),r.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(n=r.targetPosition);const a=[o._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const l=o.start.isEqual(e.graveyardPosition)||o.containsPosition(e.graveyardPosition);r.howMany>1&&l&&!t.aWasUndone&&a.push(G._createFromPositionAndShift(e.insertionPosition,1))}return _i(a,n)}),Ne(Me,nt,(r,e,t)=>{const n=G._createFromPositionAndShift(r.sourcePosition,r.howMany);if(e.deletionPosition.hasSameParentAs(r.sourcePosition)&&n.containsPosition(e.sourcePosition)){if(r.type!="remove"||t.forceWeakRemove){if(r.howMany==1)return t.bWasUndone?(r.sourcePosition=e.graveyardPosition.clone(),r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),[r]):[new ut(0)]}else if(!t.aWasUndone){const a=[];let l=e.graveyardPosition.clone(),d=e.targetPosition._getTransformedByMergeOperation(e);r.howMany>1&&(a.push(new Me(r.sourcePosition,r.howMany-1,r.targetPosition,0)),l=l._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany-1),d=d._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany-1));const h=e.deletionPosition._getCombined(r.sourcePosition,r.targetPosition),g=new Me(l,1,h,0),p=g.getMovedRangeStart().path.slice();p.push(0);const A=new X(g.targetPosition.root,p);d=d._getTransformedByMove(l,h,1);const y=new Me(d,e.howMany,A,0);return a.push(g),a.push(y),a}}const o=G._createFromPositionAndShift(r.sourcePosition,r.howMany)._getTransformedByMergeOperation(e);return r.sourcePosition=o.start,r.howMany=o.end.offset-o.start.offset,r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),[r]}),Ne(Ut,bt,(r,e)=>(r.position=r.position._getTransformedByInsertOperation(e),[r])),Ne(Ut,nt,(r,e)=>r.position.isEqual(e.deletionPosition)?(r.position=e.graveyardPosition.clone(),r.position.stickiness="toNext",[r]):(r.position=r.position._getTransformedByMergeOperation(e),[r])),Ne(Ut,Me,(r,e)=>(r.position=r.position._getTransformedByMoveOperation(e),[r])),Ne(Ut,Ut,(r,e,t)=>{if(r.position.isEqual(e.position)){if(!t.aIsStrong)return[new ut(0)];r.oldName=e.newName}return[r]}),Ne(Ut,Ue,(r,e)=>{if(Pt(r.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const t=new Ut(r.position.getShiftedBy(1),r.oldName,r.newName,0);return[r,t]}return r.position=r.position._getTransformedBySplitOperation(e),[r]}),Ne(gr,gr,(r,e,t)=>{if(r.root===e.root&&r.key===e.key){if(!t.aIsStrong||r.newValue===e.newValue)return[new ut(0)];r.oldValue=e.newValue}return[r]}),Ne(or,or,(r,e)=>r.rootName===e.rootName&&r.isAdd===e.isAdd?[new ut(0)]:[r]),Ne(Ue,bt,(r,e)=>(r.splitPosition.hasSameParentAs(e.position)&&r.splitPosition.offset<e.position.offset&&(r.howMany+=e.howMany),r.splitPosition=r.splitPosition._getTransformedByInsertOperation(e),r.insertionPosition=r.insertionPosition._getTransformedByInsertOperation(e),[r])),Ne(Ue,nt,(r,e,t)=>{if(!r.graveyardPosition&&!t.bWasUndone&&r.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const o=new X(e.graveyardPosition.root,n),a=Ue.getInsertionPosition(new X(e.graveyardPosition.root,n)),l=new Ue(o,0,a,null,0);return r.splitPosition=r.splitPosition._getTransformedByMergeOperation(e),r.insertionPosition=Ue.getInsertionPosition(r.splitPosition),r.graveyardPosition=l.insertionPosition.clone(),r.graveyardPosition.stickiness="toNext",[l,r]}return r.splitPosition.hasSameParentAs(e.deletionPosition)&&!r.splitPosition.isAfter(e.deletionPosition)&&r.howMany--,r.splitPosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.splitPosition=r.splitPosition._getTransformedByMergeOperation(e),r.insertionPosition=Ue.getInsertionPosition(r.splitPosition),r.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedByMergeOperation(e)),[r]}),Ne(Ue,Me,(r,e,t)=>{const n=G._createFromPositionAndShift(e.sourcePosition,e.howMany);if(r.graveyardPosition){const a=n.start.isEqual(r.graveyardPosition)||n.containsPosition(r.graveyardPosition);if(!t.bWasUndone&&a){const l=r.splitPosition._getTransformedByMoveOperation(e),d=r.graveyardPosition._getTransformedByMoveOperation(e),h=d.path.slice();h.push(0);const g=new X(d.root,h);return[new Me(l,r.howMany,g,0)]}r.graveyardPosition=r.graveyardPosition._getTransformedByMoveOperation(e)}const o=r.splitPosition.isEqual(e.targetPosition);if(o&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return r.howMany+=e.howMany,r.splitPosition=r.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),r.insertionPosition=Ue.getInsertionPosition(r.splitPosition),[r];if(o&&t.abRelation&&t.abRelation.howMany){const{howMany:a,offset:l}=t.abRelation;return r.howMany+=a,r.splitPosition=r.splitPosition.getShiftedBy(l),[r]}if(r.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(r.splitPosition)){const a=e.howMany-(r.splitPosition.offset-e.sourcePosition.offset);return r.howMany-=a,r.splitPosition.hasSameParentAs(e.targetPosition)&&r.splitPosition.offset<e.targetPosition.offset&&(r.howMany+=e.howMany),r.splitPosition=e.sourcePosition.clone(),r.insertionPosition=Ue.getInsertionPosition(r.splitPosition),[r]}return e.sourcePosition.isEqual(e.targetPosition)||(r.splitPosition.hasSameParentAs(e.sourcePosition)&&r.splitPosition.offset<=e.sourcePosition.offset&&(r.howMany-=e.howMany),r.splitPosition.hasSameParentAs(e.targetPosition)&&r.splitPosition.offset<e.targetPosition.offset&&(r.howMany+=e.howMany)),r.splitPosition.stickiness="toNone",r.splitPosition=r.splitPosition._getTransformedByMoveOperation(e),r.splitPosition.stickiness="toNext",r.graveyardPosition?r.insertionPosition=r.insertionPosition._getTransformedByMoveOperation(e):r.insertionPosition=Ue.getInsertionPosition(r.splitPosition),[r]}),Ne(Ue,Ue,(r,e,t)=>{if(r.splitPosition.isEqual(e.splitPosition)){if(!r.graveyardPosition&&!e.graveyardPosition)return[new ut(0)];if(r.graveyardPosition&&e.graveyardPosition&&r.graveyardPosition.isEqual(e.graveyardPosition))return[new ut(0)];if(t.abRelation=="splitBefore")return r.howMany=0,r.graveyardPosition=r.graveyardPosition._getTransformedBySplitOperation(e),[r]}if(r.graveyardPosition&&e.graveyardPosition&&r.graveyardPosition.isEqual(e.graveyardPosition)){const n=r.splitPosition.root.rootName=="$graveyard",o=e.splitPosition.root.rootName=="$graveyard";if(o&&!n||!(n&&!o)&&t.aIsStrong){const a=[];return e.howMany&&a.push(new Me(e.moveTargetPosition,e.howMany,e.splitPosition,0)),r.howMany&&a.push(new Me(r.splitPosition,r.howMany,r.moveTargetPosition,0)),a}return[new ut(0)]}if(r.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedBySplitOperation(e)),r.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return r.howMany++,[r];if(e.splitPosition.isEqual(r.insertionPosition)&&t.baRelation=="splitBefore"){const n=e.insertionPosition.path.slice();n.push(0);const o=new X(e.insertionPosition.root,n);return[r,new Me(r.insertionPosition,1,o,0)]}return r.splitPosition.hasSameParentAs(e.splitPosition)&&r.splitPosition.offset<e.splitPosition.offset&&(r.howMany-=e.howMany),r.splitPosition=r.splitPosition._getTransformedBySplitOperation(e),r.insertionPosition=Ue.getInsertionPosition(r.splitPosition),[r]});class yt extends K(X){constructor(e,t,n="toNone"){if(super(e,t,n),!this.root.is("rootElement"))throw new P("model-liveposition-root-not-rootelement",e);QT.call(this)}detach(){this.stopListening()}toPosition(){return new X(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function QT(){this.listenTo(this.root.document.model,"applyOperation",(r,e)=>{const t=e[0];t.isDocumentOperation&&YT.call(this,t)},{priority:"low"})}function YT(r){const e=this.getTransformedByOperation(r);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}yt.prototype.is=function(r){return r==="livePosition"||r==="model:livePosition"||r=="position"||r==="model:position"};class xi{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},$("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:n=!0,isUndo:o=!1,isTyping:a=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=n,this.isUndo=o,this.isTyping=a}get type(){return $("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var ZT=Object.defineProperty,JT=Object.defineProperties,XT=Object.getOwnPropertyDescriptors,j0=Object.getOwnPropertySymbols,e3=Object.prototype.hasOwnProperty,t3=Object.prototype.propertyIsEnumerable,P0=(r,e,t)=>e in r?ZT(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,L0=(r,e)=>{for(var t in e||(e={}))e3.call(e,t)&&P0(r,t,e[t]);if(j0)for(var t of j0(e))t3.call(e,t)&&P0(r,t,e[t]);return r};class n3{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const n of t.range.getItems({shallow:!0}))this._isInInsertedElement(n.parent)||this._markAttribute(n);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const n=this._isInInsertedElement(t.sourcePosition.parent),o=this._isInInsertedElement(t.targetPosition.parent);n||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),o||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const n=G._createFromPositionAndShift(t.position,1);for(const o of this._markerCollection.getMarkersIntersectingRange(n)){const a=o.getData();this.bufferMarkerChange(o.name,a,a)}break}case"split":{const n=t.splitPosition.parent;this._isInInsertedElement(n)||this._markRemove(n,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const n=t.sourcePosition.parent;this._isInInsertedElement(n.parent)||this._markRemove(n.parent,n.startOffset,1);const o=t.graveyardPosition.parent;this._markInsert(o,t.graveyardPosition.offset,1);const a=t.targetPosition.parent;this._isInInsertedElement(a)||this._markInsert(a,t.targetPosition.offset,n.maxOffset);break}case"detachRoot":case"addRoot":{const n=t.affectedSelectable;if(!n._isLoaded||n.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const n=t.root.rootName;this._bufferRootAttributeChange(n,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,n){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null);let o=this._changedMarkers.get(e);o?o.newMarkerData=n:(o={newMarkerData:n,oldMarkerData:t},this._changedMarkers.set(e,o)),o.oldMarkerData.range==null&&n.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers)n.oldMarkerData.range!=null&&e.push({name:t,range:n.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers)n.newMarkerData.range!=null&&e.push({name:t,range:n.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const n=e.range&&!t.range,o=!e.range&&t.range,a=e.range&&t.range&&!e.range.isEqual(t.range);if(n||o||a)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const n of this._changesInElement.keys()){const o=this._changesInElement.get(n).sort((p,A)=>p.offset===A.offset?p.type!=A.type?p.type=="remove"?-1:1:0:p.offset<A.offset?-1:1),a=this._elementSnapshots.get(n),l=O0(n.getChildren()),d=r3(a.length,o);let h=0,g=0;for(const p of d)if(p==="i")t.push(this._getInsertDiff(n,h,l[h])),h++;else if(p==="r")t.push(this._getRemoveDiff(n,h,a[g])),g++;else if(p==="a"){const A=l[h].attributes,y=a[g].attributes;let E;if(l[h].name=="$text")E=new G(X._createAt(n,h),X._createAt(n,h+1));else{const I=n.offsetToIndex(h);E=new G(X._createAt(n,h),X._createAt(n.getChild(I),0))}t.push(...this._getAttributesDiff(E,y,A)),h++,g++}else h++,g++}t.sort((n,o)=>n.position.root!=o.position.root?n.position.root.rootName<o.position.root.rootName?-1:1:n.position.isEqual(o.position)?n.changeCount-o.changeCount:n.position.isBefore(o.position)?-1:1);for(let n=1,o=0;n<t.length;n++){const a=t[o],l=t[n],d=a.type=="remove"&&l.type=="remove"&&a.name=="$text"&&l.name=="$text"&&a.position.isEqual(l.position),h=a.type=="insert"&&l.type=="insert"&&a.name=="$text"&&l.name=="$text"&&a.position.parent==l.position.parent&&a.position.offset+a.length==l.position.offset,g=a.type=="attribute"&&l.type=="attribute"&&a.position.parent==l.position.parent&&a.range.isFlat&&l.range.isFlat&&a.position.offset+a.length==l.position.offset&&a.attributeKey==l.attributeKey&&a.attributeOldValue==l.attributeOldValue&&a.attributeNewValue==l.attributeNewValue;d||h||g?(a.length++,g&&(a.range.end=a.range.end.getShiftedBy(1)),t[n]=null):o=n}t=t.filter(n=>n);for(const n of t)delete n.changeCount,n.type=="attribute"&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(o3),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t=L0({},e);return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});const n=this._changedRoots.get(e);n.state!==void 0?(delete n.state,n.attributes===void 0&&this._changedRoots.delete(e)):n.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,n,o){const a=this._changedRoots.get(e)||{name:e},l=a.attributes||{};if(l[t]){const d=l[t];o===d.oldValue?delete l[t]:d.newValue=o}else l[t]={oldValue:n,newValue:o};Object.entries(l).length===0?(delete a.attributes,a.state===void 0&&this._changedRoots.delete(e)):(a.attributes=l,this._changedRoots.set(e,a))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=G._createOn(e);for(const n of this._markerCollection.getMarkersIntersectingRange(t)){const o=n.getData();this.bufferMarkerChange(n.name,o,o)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const n of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,n,null,e.getAttribute(n));for(const n of this._markerCollection)if(n.getRange().root==e){const o=n.getData();this.bufferMarkerChange(n.name,(t=L0({},o),JT(t,XT({range:null}))),o)}var t}}_markInsert(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const o={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,o)}_markRemove(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const o={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,o),this._removeAllNestedChanges(e,t,n)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(let o=0;o<n.length;o++)n[o].howMany<1&&(n.splice(o,1),o--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,O0(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const o=e.offset+e.howMany,a=n.offset+n.howMany;if(e.type=="insert"&&(n.type=="insert"&&(e.offset<=n.offset?n.offset+=e.howMany:e.offset<a&&(n.howMany+=e.nodesToHandle,e.nodesToHandle=0)),n.type=="remove"&&e.offset<n.offset&&(n.offset+=e.howMany),n.type=="attribute")){if(e.offset<=n.offset)n.offset+=e.howMany;else if(e.offset<a){const l=n.howMany;n.howMany=e.offset-n.offset,t.unshift({type:"attribute",offset:o,howMany:l-n.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(n.type=="insert"){if(o<=n.offset)n.offset-=e.howMany;else if(o<=a)if(e.offset<n.offset){const l=o-n.offset;n.offset=e.offset,n.howMany-=l,e.nodesToHandle-=l}else n.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=n.offset)e.nodesToHandle-=n.howMany,n.howMany=0;else if(e.offset<a){const l=a-e.offset;n.howMany-=l,e.nodesToHandle-=l}}if(n.type=="remove"&&(o<=n.offset?n.offset-=e.howMany:e.offset<n.offset&&(e.nodesToHandle+=n.howMany,n.howMany=0)),n.type=="attribute"){if(o<=n.offset)n.offset-=e.howMany;else if(e.offset<n.offset){const l=o-n.offset;n.offset=e.offset,n.howMany-=l}else if(e.offset<a)if(o<=a){const l=n.howMany;n.howMany=e.offset-n.offset;const d=l-n.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:d,count:this._changeCount++})}else n.howMany-=a-e.offset}}if(e.type=="attribute"){if(n.type=="insert")if(e.offset<n.offset&&o>n.offset){if(o>a){const l={type:"attribute",offset:a,howMany:o-a,count:this._changeCount++};this._handleChange(l,t),t.push(l)}e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=n.offset&&e.offset<a&&(o>a?(e.nodesToHandle=o-a,e.offset=a):e.nodesToHandle=0);if(n.type=="remove"&&e.offset<n.offset&&o>n.offset){const l={type:"attribute",offset:n.offset,howMany:o-n.offset,count:this._changeCount++};this._handleChange(l,t),t.push(l),e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}n.type=="attribute"&&(e.offset>=n.offset&&o<=a?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=n.offset&&o>=a&&(n.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,n){return{type:"insert",position:X._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,_element:n.element}}_getRemoveDiff(e,t,n){return{type:"remove",position:X._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,_element:n.element}}_getAttributesDiff(e,t,n){const o=[];n=new Map(n);for(const[a,l]of t){const d=n.has(a)?n.get(a):null;d!==l&&o.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:a,attributeOldValue:l,attributeNewValue:d,changeCount:this._changeCount++}),n.delete(a)}for(const[a,l]of n)o.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:a,attributeOldValue:null,attributeNewValue:l,changeCount:this._changeCount++});return o}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const n=this._changesInElement.get(t),o=e.startOffset;if(n){for(const a of n)if(a.type=="insert"&&o>=a.offset&&o<a.offset+a.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const o=new G(X._createAt(e,t),X._createAt(e,t+n));for(const a of o.getItems({shallow:!0}))a.is("element")&&(this._elementSnapshots.delete(a),this._changesInElement.delete(a),this._removeAllNestedChanges(a,0,a.maxOffset))}}function O0(r){const e=[];for(const t of r)if(t.is("$text"))for(let n=0;n<t.data.length;n++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes()),element:t});return e}function r3(r,e){const t=[];let n=0,o=0;for(const a of e){if(a.offset>n){for(let l=0;l<a.offset-n;l++)t.push("e");o+=a.offset-n}if(a.type=="insert"){for(let l=0;l<a.howMany;l++)t.push("i");n=a.offset+a.howMany}else if(a.type=="remove"){for(let l=0;l<a.howMany;l++)t.push("r");n=a.offset,o+=a.howMany}else t.push(..."a".repeat(a.howMany).split("")),n=a.offset+a.howMany,o+=a.howMany}if(o<r)for(let a=0;a<r-o-n;a++)t.push("e");return t}function o3(r){const e="position"in r&&r.position.root.rootName=="$graveyard",t="range"in r&&r.range.root.rootName=="$graveyard";return!e&&!t}class i3{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new P("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const n=this._operations[0];e===void 0&&(e=n.baseVersion);let o=t-1;for(const[d,h]of this._gaps)e>d&&e<h&&(e=h),o>d&&o<h&&(o=d-1);if(o<n.baseVersion||e>this.lastOperation.baseVersion)return[];let a=this._baseVersionToOperationIndex.get(e);a===void 0&&(a=0);let l=this._baseVersionToOperationIndex.get(o);return l===void 0&&(l=this._operations.length-1),this._operations.slice(a,l+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Yl extends Le{constructor(e,t,n="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Yl.prototype.is=function(r,e){return e?e===this.name&&(r==="rootElement"||r==="model:rootElement"||r==="element"||r==="model:element"):r==="rootElement"||r==="model:rootElement"||r==="element"||r==="model:element"||r==="node"||r==="model:node"};var s3=Object.defineProperty,a3=Object.defineProperties,l3=Object.getOwnPropertyDescriptors,z0=Object.getOwnPropertySymbols,c3=Object.prototype.hasOwnProperty,d3=Object.prototype.propertyIsEnumerable,R0=(r,e,t)=>e in r?s3(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,F0=(r,e)=>{for(var t in e||(e={}))c3.call(e,t)&&R0(r,t,e[t]);if(z0)for(var t of z0(e))d3.call(e,t)&&R0(r,t,e[t]);return r},V0=(r,e)=>a3(r,l3(e));const U0="$graveyard";class u3 extends K(){constructor(e){super(),this.model=e,this.history=new i3,this.selection=new Vn(this),this.roots=new Pn({idProperty:"rootName"}),this.differ=new n3(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",U0),this.listenTo(e,"applyOperation",(t,n)=>{const o=n[0];o.isDocumentOperation&&this.differ.bufferOperation(o)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,n)=>{const o=n[0];o.isDocumentOperation&&this.history.addOperation(o)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,n,o,a,l)=>{const d=V0(F0({},n.getData()),{range:a});this.differ.bufferMarkerChange(n.name,l,d),o===null&&n.on("change",(h,g)=>{const p=n.getData();this.differ.bufferMarkerChange(n.name,V0(F0({},p),{range:g}),p)})}),this.registerPostFixer(t=>{let n=!1;for(const o of this.roots)o.isAttached()||o.isEmpty||(t.remove(t.createRangeIn(o)),n=!0);for(const o of this.model.markers)o.getRange().root.isAttached()||(t.removeMarker(o),n=!0);return n})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(U0)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new P("model-document-createroot-name-exists",this,{name:t});const n=new Yl(this,e,t);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return this.roots.filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=cb(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,n=t.schema,o=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(o)||t.createRange(o)}_validateSelectionRange(e){return H0(e.start)&&H0(e.end)}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(this.selection.refresh(),t=n(e),t)break;while(t)}}function H0(r){const e=r.textNode;if(e){const t=e.data,n=r.offset-e.startOffset;return!Ku(t,n)&&!Qu(t,n)}return!0}var h3=Object.defineProperty,m3=Object.defineProperties,g3=Object.getOwnPropertyDescriptors,q0=Object.getOwnPropertySymbols,p3=Object.prototype.hasOwnProperty,f3=Object.prototype.propertyIsEnumerable,W0=(r,e,t)=>e in r?h3(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class k3 extends K(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof Ei?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,n=!1,o=!1){const a=e instanceof Ei?e.name:e;if(a.includes(","))throw new P("markercollection-incorrect-marker-name",this);const l=this._markers.get(a);if(l){const p=l.getData(),A=l.getRange();let y=!1;return A.isEqual(t)||(l._attachLiveRange(ln.fromRange(t)),y=!0),n!=l.managedUsingOperations&&(l._managedUsingOperations=n,y=!0),typeof o=="boolean"&&o!=l.affectsData&&(l._affectsData=o,y=!0),y&&this.fire(`update:${a}`,l,A,t,p),l}const d=ln.fromRange(t),h=new Ei(a,d,n,o);var g;return this._markers.set(a,h),this.fire(`update:${a}`,h,null,t,(g=((p,A)=>{for(var y in A||(A={}))p3.call(A,y)&&W0(p,y,A[y]);if(q0)for(var y of q0(A))f3.call(A,y)&&W0(p,y,A[y]);return p})({},h.getData()),m3(g,g3({range:null})))),h}_remove(e){const t=e instanceof Ei?e.name:e,n=this._markers.get(t);return!!n&&(this._markers.delete(t),this.fire(`update:${t}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0)}_refresh(e){const t=e instanceof Ei?e.name:e,n=this._markers.get(t);if(!n)throw new P("markercollection-refresh-marker-not-exists",this);const o=n.getRange();this.fire(`update:${t}`,n,o,o,n.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Ei extends K(Fr){constructor(e,t,n,o){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=o}get managedUsingOperations(){if(!this._liveRange)throw new P("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new P("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new P("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new P("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new P("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Ei.prototype.is=function(r){return r==="marker"||r==="model:marker"};class b3 extends cn{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new P("detach-operation-on-document-node",this)}_execute(){E0(G._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class pr extends Fr{constructor(e){super(),this.markers=new Map,this._children=new Us,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const n of e)n.name?t.push(Le.fromJSON(n)):t.push(Ve.fromJSON(n));return new pr(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(o){return typeof o=="string"?[new Ve(o)]:(tn(o)||(o=[o]),Array.from(o).map(a=>typeof a=="string"?new Ve(a):a instanceof Fn?new Ve(a.data,a.getAttributes()):a))}(t);for(const o of n)o.parent!==null&&o._remove(),o.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const o of n)o.parent=null;return n}}pr.prototype.is=function(r){return r==="documentFragment"||r==="model:documentFragment"};class w3{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Ve(e,t)}createElement(e,t){return new Le(e,t)}createDocumentFragment(){return new pr}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,n=0){if(this._assertWriterUsedCorrectly(),e instanceof Ve&&e.data=="")return;const o=X._createAt(t,n);if(e.parent){if(K0(e.root,o.root))return void this.move(G._createOn(e),o);if(e.root.document)throw new P("model-writer-insert-forbidden-move",this);this.remove(e)}const a=o.root.document?o.root.document.version:null,l=new bt(o,e,a);if(e instanceof Ve&&(l.shouldReceiveAttributes=!0),this.batch.addOperation(l),this.model.applyOperation(l),e instanceof pr)for(const[d,h]of e.markers){const g=X._createAt(h.root,0),p={range:new G(h.start._getCombined(g,o),h.end._getCombined(g,o)),usingOperation:!0,affectsData:!0};this.model.markers.has(d)?this.updateMarker(d,p):this.addMarker(d,p)}}insertText(e,t,n,o){t instanceof pr||t instanceof Le||t instanceof X?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,o)}insertElement(e,t,n,o){t instanceof pr||t instanceof Le||t instanceof X?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,o)}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){t instanceof pr||t instanceof Le?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}appendElement(e,t,n){t instanceof pr||t instanceof Le?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}setAttribute(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof G){const o=n.getMinimalFlatRanges();for(const a of o)$0(this,e,t,a)}else G0(this,e,t,n)}setAttributes(e,t){for(const[n,o]of er(e))this.setAttribute(n,o,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof G){const n=t.getMinimalFlatRanges();for(const o of n)$0(this,e,null,o)}else G0(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=n=>{for(const o of n.getAttributeKeys())this.removeAttribute(o,n)};if(e instanceof G)for(const n of e.getItems())t(n);else t(e)}move(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof G))throw new P("writer-move-invalid-range",this);if(!e.isFlat)throw new P("writer-move-range-not-flat",this);const o=X._createAt(t,n);if(o.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!K0(e.root,o.root))throw new P("writer-move-different-document",this);const a=e.root.document?e.root.document.version:null,l=new Me(e.start,e.end.offset-e.start.offset,o,a);this.batch.addOperation(l),this.model.applyOperation(l)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof G?e:G._createOn(e)).getMinimalFlatRanges().reverse();for(const n of t)this._addOperationForAffectedMarkers("move",n),A3(n.start,n.end.offset-n.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof Le))throw new P("writer-merge-no-element-before",this);if(!(n instanceof Le))throw new P("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,n=e.nodeAfter;this.move(G._createIn(n),X._createAt(t,"end")),this.remove(n)}_merge(e){const t=X._createAt(e.nodeBefore,"end"),n=X._createAt(e.nodeAfter,0),o=e.root.document.graveyard,a=new X(o,[0]),l=e.root.document.version,d=new nt(n,e.nodeAfter.maxOffset,t,a,l);this.batch.addOperation(d),this.model.applyOperation(d)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Le))throw new P("writer-rename-not-element-instance",this);const n=e.root.document?e.root.document.version:null,o=new Ut(X._createBefore(e),e.name,t,n);this.batch.addOperation(o),this.model.applyOperation(o)}split(e,t){this._assertWriterUsedCorrectly();let n,o,a=e.parent;if(!a.parent)throw new P("writer-split-element-no-parent",this);if(t||(t=a.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new P("writer-split-invalid-limit-element",this);do{const l=a.root.document?a.root.document.version:null,d=a.maxOffset-e.offset,h=Ue.getInsertionPosition(e),g=new Ue(e,d,h,null,l);this.batch.addOperation(g),this.model.applyOperation(g),n||o||(n=a,o=e.parent.nextSibling),a=(e=this.createPositionAfter(e.parent)).parent}while(a!==t);return{position:e,range:new G(X._createAt(n,"end"),X._createAt(o,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new P("writer-wrap-range-not-flat",this);const n=t instanceof Le?t:new Le(t);if(n.childCount>0)throw new P("writer-wrap-element-not-empty",this);if(n.parent!==null)throw new P("writer-wrap-element-attached",this);this.insert(n,e.start);const o=new G(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(o,X._createAt(n,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new P("writer-unwrap-element-no-parent",this);this.move(G._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new P("writer-addmarker-no-usingoperation",this);const n=t.usingOperation,o=t.range,a=t.affectsData!==void 0&&t.affectsData;if(this.model.markers.has(e))throw new P("writer-addmarker-marker-exists",this);if(!o)throw new P("writer-addmarker-no-range",this);return n?(Ys(this,e,null,o,a),this.model.markers.get(e)):this.model.markers._set(e,o,n,a)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n=typeof e=="string"?e:e.name,o=this.model.markers.get(n);if(!o)throw new P("writer-updatemarker-marker-not-exists",this);if(!t)return $("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),void this.model.markers._refresh(o);const a=typeof t.usingOperation=="boolean",l=typeof t.affectsData=="boolean",d=l?t.affectsData:o.affectsData;if(!a&&!t.range&&!l)throw new P("writer-updatemarker-wrong-options",this);const h=o.getRange(),g=t.range?t.range:h;a&&t.usingOperation!==o.managedUsingOperations?t.usingOperation?Ys(this,n,null,g,d):(Ys(this,n,h,null,d),this.model.markers._set(n,g,void 0,d)):o.managedUsingOperations?Ys(this,n,h,g,d):this.model.markers._set(n,g,void 0,d)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new P("writer-removemarker-no-marker",this);const n=this.model.markers.get(t);if(!n.managedUsingOperations)return void this.model.markers._remove(t);Ys(this,t,n.getRange(),null,n.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(e);if(n&&n.isAttached())throw new P("writer-addroot-root-exists",this);const o=this.model.document,a=new or(e,t,!0,o,o.version);return this.batch.addOperation(a),this.model.applyOperation(a),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new P("writer-detachroot-no-root",this);for(const a of this.model.markers)a.getRange().root===t&&this.removeMarker(a);for(const a of t.getAttributeKeys())this.removeAttribute(a,t);this.remove(this.createRangeIn(t));const n=this.model.document,o=new or(t.rootName,t.name,!1,n,n.version);this.batch.addOperation(o),this.model.applyOperation(o)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[n,o]of er(e))this._setSelectionAttribute(n,o)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const o=Vn._getStoreAttributeKey(e);this.setAttribute(o,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=Vn._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new P("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const o=n.getRange();let a=!1;if(e==="move"){const l=t;a=l.containsPosition(o.start)||l.start.isEqual(o.start)||l.containsPosition(o.end)||l.end.isEqual(o.end)}else{const l=t,d=l.nodeBefore,h=l.nodeAfter,g=o.start.parent==d&&o.start.isAtEnd,p=o.end.parent==h&&o.end.offset==0,A=o.end.nodeAfter==h,y=o.start.nodeAfter==h;a=g||p||A||y}a&&this.updateMarker(n.name,{range:o})}}}function $0(r,e,t,n){const o=r.model,a=o.document;let l,d,h,g=n.start;for(const A of n.getWalker({shallow:!0}))h=A.item.getAttribute(e),l&&d!=h&&(d!=t&&p(),g=l),l=A.nextPosition,d=h;function p(){const A=new G(g,l),y=A.root.document?a.version:null,E=new at(A,e,d,t,y);r.batch.addOperation(E),o.applyOperation(E)}l instanceof X&&l!=g&&d!=t&&p()}function G0(r,e,t,n){const o=r.model,a=o.document,l=n.getAttribute(e);let d,h;if(l!=t){if(n.root===n){const g=n.document?a.version:null;h=new gr(n,e,l,t,g)}else{d=new G(X._createBefore(n),r.createPositionAfter(n));const g=d.root.document?a.version:null;h=new at(d,e,l,t,g)}r.batch.addOperation(h),o.applyOperation(h)}}function Ys(r,e,t,n,o){const a=r.model,l=a.document,d=new Vt(e,t,n,a.markers,!!o,l.version);r.batch.addOperation(d),a.applyOperation(d)}function A3(r,e,t,n){let o;if(r.root.document){const a=n.document,l=new X(a.graveyard,[0]);o=new Me(r,e,l,a.version)}else o=new b3(r,e);t.addOperation(o),n.applyOperation(o)}function K0(r,e){return r===e||r instanceof Yl&&e instanceof Yl}function C3(r,e,t={}){if(e.isCollapsed)return;const n=e.getFirstRange();if(n.root.rootName=="$graveyard")return;const o=r.schema;r.change(a=>{if(!t.doNotResetEntireContent&&function(g,p){const A=g.getLimitElement(p);if(!p.containsEntireContent(A))return!1;const y=p.getFirstRange();return y.start.parent==y.end.parent?!1:g.checkChild(A,"paragraph")}(o,e))return void function(g,p){const A=g.model.schema.getLimitElement(p);g.remove(g.createRangeIn(A)),Z0(g,g.createPositionAt(A,0),p)}(a,e);const l={};if(!t.doNotAutoparagraph){const g=e.getSelectedElement();g&&Object.assign(l,o.getAttributesWithProperty(g,"copyOnReplace",!0))}const[d,h]=function(g){const p=g.root.document.model,A=g.start;let y=g.end;if(p.hasContent(g,{ignoreMarkers:!0})){const E=function(I){const T=I.parent,O=T.root.document.model.schema,R=T.getAncestors({parentFirst:!0,includeSelf:!0});for(const U of R){if(O.isLimit(U))return null;if(O.isBlock(U))return U}}(y);if(E&&y.isTouching(p.createPositionAt(E,0))){const I=p.createSelection(g);p.modifySelection(I,{direction:"backward"});const T=I.getLastPosition(),O=p.createRange(T,y);p.hasContent(O,{ignoreMarkers:!0})||(y=T)}}return[yt.fromPosition(A,"toPrevious"),yt.fromPosition(y,"toNext")]}(n);d.isTouching(h)||a.remove(a.createRange(d,h)),t.leaveUnmerged||(function(g,p,A){const y=g.model;if(!Ih(g.model.schema,p,A))return;const[E,I]=function(T,O){const R=T.getAncestors(),U=O.getAncestors();let W=0;for(;R[W]&&R[W]==U[W];)W++;return[R[W],U[W]]}(p,A);!E||!I||(!y.hasContent(E,{ignoreMarkers:!0})&&y.hasContent(I,{ignoreMarkers:!0})?Y0(g,p,A,E.parent):Q0(g,p,A,E.parent))}(a,d,h),o.removeDisallowedAttributes(d.parent.getChildren(),a)),J0(a,e,d),!t.doNotAutoparagraph&&function(g,p){const A=g.checkChild(p,"$text"),y=g.checkChild(p,"paragraph");return!A&&y}(o,d)&&Z0(a,d,e,l),d.detach(),h.detach()})}function Q0(r,e,t,n){const o=e.parent,a=t.parent;if(o!=n&&a!=n){for(e=r.createPositionAfter(o),(t=r.createPositionBefore(a)).isEqual(e)||r.insert(a,e),r.merge(e);t.parent.isEmpty;){const l=t.parent;t=r.createPositionBefore(l),r.remove(l)}Ih(r.model.schema,e,t)&&Q0(r,e,t,n)}}function Y0(r,e,t,n){const o=e.parent,a=t.parent;if(o!=n&&a!=n){for(e=r.createPositionAfter(o),(t=r.createPositionBefore(a)).isEqual(e)||r.insert(o,t);e.parent.isEmpty;){const l=e.parent;e=r.createPositionBefore(l),r.remove(l)}t=r.createPositionBefore(a),function(l,d){const h=d.nodeBefore,g=d.nodeAfter;h.name!=g.name&&l.rename(h,g.name),l.clearAttributes(h),l.setAttributes(Object.fromEntries(g.getAttributes()),h),l.merge(d)}(r,t),Ih(r.model.schema,e,t)&&Y0(r,e,t,n)}}function Ih(r,e,t){const n=e.parent,o=t.parent;return n!=o&&!r.isLimit(n)&&!r.isLimit(o)&&function(a,l,d){const h=new G(a,l);for(const g of h.getWalker())if(d.isLimit(g.item))return!1;return!0}(e,t,r)}function Z0(r,e,t,n={}){const o=r.createElement("paragraph");r.model.schema.setAllowedAttributes(o,n,r),r.insert(o,e),J0(r,t,r.createPositionAt(o,0))}function J0(r,e,t){e instanceof Vn?r.setSelection(t):e.setTo(t)}function X0(r,e){const t=[];Array.from(r.getItems({direction:"backward"})).map(n=>e.createRangeOn(n)).filter(n=>(n.start.isAfter(r.start)||n.start.isEqual(r.start))&&(n.end.isBefore(r.end)||n.end.isEqual(r.end))).forEach(n=>{t.push(n.start.parent),e.remove(n)}),t.forEach(n=>{let o=n;for(;o.parent&&o.isEmpty;){const a=e.createRangeOn(o);o=o.parent,e.remove(a)}})}class v3{constructor(e,t,n){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new P("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?G._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new G(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=yt.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new P("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=yt.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=yt.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof Le)||!this._canMergeLeft(e))return;const t=yt._createBefore(e);t.stickiness="toNext";const n=yt.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=yt._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=yt._createAt(t.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof Le)||!this._canMergeRight(e))return;const t=yt._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new P("insertcontent-invalid-insertion-position",this);this.position=X._createAt(t.nodeBefore,"end");const n=yt.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=yt._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=yt._createAt(t.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof Le&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof Le&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===t&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const n=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=n,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function y3(r,e,t,n={}){if(!r.schema.isObject(e))throw new P("insertobject-element-not-an-object",r,{object:e});const o=t||r.document.selection;let a=o;n.findOptimalPosition&&r.schema.isBlock(e)&&(a=r.createSelection(r.schema.findOptimalInsertionRange(o,n.findOptimalPosition)));const l=ft(o.getSelectedBlocks()),d={};return l&&Object.assign(d,r.schema.getAttributesWithProperty(l,"copyOnReplace",!0)),r.change(h=>{a.isCollapsed||r.deleteContent(a,{doNotAutoparagraph:!0});let g=e;const p=a.anchor.parent;!r.schema.checkChild(p,e)&&r.schema.checkChild(p,"paragraph")&&r.schema.checkChild("paragraph",e)&&(g=h.createElement("paragraph"),h.insert(e,g)),r.schema.setAllowedAttributes(g,d,h);const A=r.insertContent(g,a);return A.isCollapsed||n.setSelection&&function(y,E,I,T){const O=y.model;if(I=="on")return void y.setSelection(E,"on");if(I!="after")throw new P("insertobject-invalid-place-parameter-value",O);let R=E.nextSibling;if(O.schema.isInline(E))return void y.setSelection(E,"after");!(R&&O.schema.checkChild(R,"$text"))&&O.schema.checkChild(E.parent,"paragraph")&&(R=y.createElement("paragraph"),O.schema.setAllowedAttributes(R,T,y),O.insertContent(R,y.createPositionAfter(E))),R&&y.setSelection(R,0)}(h,e,n.setSelection,d),A})}const _3=' ,.?!:;"-()';function x3(r,e){const{isForward:t,walker:n,unit:o,schema:a,treatEmojiAsSingleUnit:l}=r,{type:d,item:h,nextPosition:g}=e;if(d=="text")return r.unit==="word"?function(p,A){let y=p.position.textNode;for(y||(y=A?p.position.nodeAfter:p.position.nodeBefore);y&&y.is("$text");){const E=p.position.offset-y.startOffset;if(S3(y,E,A))y=A?p.position.nodeAfter:p.position.nodeBefore;else{if(D3(y.data,E,A))break;p.next()}}return p.position}(n,t):function(p,A,y){const E=p.position.textNode;if(E){const I=E.data;let T=p.position.offset-E.startOffset;for(;Ku(I,T)||A=="character"&&Qu(I,T)||y&&Vk(I,T);)p.next(),T=p.position.offset-E.startOffset}return p.position}(n,o,l);if(d==(t?"elementStart":"elementEnd")){if(a.isSelectable(h))return X._createAt(h,t?"after":"before");if(a.checkChild(g,"$text"))return g}else{if(a.isLimit(h))return void n.skip(()=>!0);if(a.checkChild(g,"$text"))return g}}function E3(r,e){const t=r.root,n=X._createAt(t,e?"end":0);return e?new G(r,n):new G(n,r)}function D3(r,e,t){const n=e+(t?0:-1);return _3.includes(r.charAt(n))}function S3(r,e,t){return e===(t?r.offsetSize:0)}class I3 extends Re(){constructor(){super(),this.markers=new k3,this.document=new u3(this),this.schema=new yT,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),AT(this),this.document.registerPostFixer(d0),this.on("insertContent",(e,[t,n])=>{e.return=function(o,a,l){return o.change(d=>{const h=l||o.document.selection;h.isCollapsed||o.deleteContent(h,{doNotAutoparagraph:!0});const g=new v3(o,d,h.anchor),p=[];let A;if(a.is("documentFragment")){if(a.markers.size){const I=[];for(const[T,O]of a.markers){const{start:R,end:U}=O,W=R.isEqual(U);I.push({position:R,name:T,isCollapsed:W},{position:U,name:T,isCollapsed:W})}I.sort(({position:T},{position:O})=>T.isBefore(O)?1:-1);for(const{position:T,name:O,isCollapsed:R}of I){let U=null,W=null;const Z=T.parent===a&&T.isAtStart,le=T.parent===a&&T.isAtEnd;Z||le?R&&(W=Z?"start":"end"):(U=d.createElement("$marker"),d.insert(U,T)),p.push({name:O,element:U,collapsed:W})}}A=a.getChildren()}else A=[a];g.handleNodes(A);let y=g.getSelectionRange();if(a.is("documentFragment")&&p.length){const I=y?ln.fromRange(y):null,T={};for(let O=p.length-1;O>=0;O--){const{name:R,element:U,collapsed:W}=p[O],Z=!T[R];if(Z&&(T[R]=[]),U){const le=d.createPositionAt(U,"before");T[R].push(le),d.remove(U)}else{const le=g.getAffectedRange();if(!le){W&&T[R].push(g.position);continue}W?T[R].push(le[W]):T[R].push(Z?le.start:le.end)}}for(const[O,[R,U]]of Object.entries(T))R&&U&&R.root===U.root&&R.root.document&&!d.model.markers.has(O)&&d.addMarker(O,{usingOperation:!0,affectsData:!0,range:new G(R,U)});I&&(y=I.toRange(),I.detach())}y&&(h instanceof Vn?d.setSelection(y):h.setTo(y));const E=g.getAffectedRange()||o.createRange(h.anchor);return g.destroy(),E})}(this,t,n)}),this.on("insertObject",(e,[t,n,o])=>{e.return=y3(this,t,n,o)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new xi,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){P.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new xi):e instanceof xi||(e=new xi(e)):e=new xi,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(n){P.rethrowUnexpectedError(n,this)}}applyOperation(e){e._execute()}insertContent(e,t,n,...o){const a=Th(t,n);return this.fire("insertContent",[e,a,n,...o])}insertObject(e,t,n,o,...a){const l=Th(t,n);return this.fire("insertObject",[e,l,o,o,...a])}deleteContent(e,t){C3(this,e,t)}modifySelection(e,t){(function(n,o,a={}){const l=n.schema,d=a.direction!="backward",h=a.unit?a.unit:"character",g=!!a.treatEmojiAsSingleUnit,p=o.focus,A=new mr({boundaries:E3(p,d),singleCharacters:!0,direction:d?"forward":"backward"}),y={walker:A,schema:l,isForward:d,unit:h,treatEmojiAsSingleUnit:g};let E;for(;E=A.next();){if(E.done)return;const I=x3(y,E.value);if(I)return void(o instanceof Vn?n.change(T=>{T.setSelectionFocus(I)}):o.setFocus(I))}})(this,e,t)}getSelectedContent(e){return function(t,n){return t.change(o=>{const a=o.createDocumentFragment(),l=n.getFirstRange();if(!l||l.isCollapsed)return a;const d=l.start.root,h=l.start.getCommonPath(l.end),g=d.getNodeByPath(h);let p;p=l.start.parent==l.end.parent?l:o.createRange(o.createPositionAt(g,l.start.path[h.length]),o.createPositionAt(g,l.end.path[h.length]+1));const A=p.end.offset-p.start.offset;for(const y of p.getItems({shallow:!0}))y.is("$textProxy")?o.appendText(y.data,y.getAttributes(),a):o.append(o.cloneElement(y,!0),a);if(p!=l){const y=l._getTransformedByMove(p.start,o.createPositionAt(a,0),A)[0],E=o.createRange(o.createPositionAt(a,0),y.start);X0(o.createRange(y.end,o.createPositionAt(a,"end")),o),X0(E,o)}return a})}(this,e)}hasContent(e,t={}){const n=e instanceof G?e:G._createIn(e);if(n.isCollapsed)return!1;const{ignoreWhitespaces:o=!1,ignoreMarkers:a=!1}=t;if(!a){for(const l of this.markers.getMarkersIntersectingRange(n))if(l.affectsData)return!0}for(const l of n.getItems())if(this.schema.isContent(l)&&(!l.is("$textProxy")||!o||l.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const t=Th(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,n){return new X(e,t,n)}createPositionAt(e,t){return X._createAt(e,t)}createPositionAfter(e){return X._createAfter(e)}createPositionBefore(e){return X._createBefore(e)}createRange(e,t){return new G(e,t)}createRangeIn(e){return G._createIn(e)}createRangeOn(e){return G._createOn(e)}createSelection(...e){return new an(...e)}createBatch(e){return new xi(e)}createOperationFromJSON(e){return WT.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new w3(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function Th(r,e){if(r)return r instanceof an||r instanceof Vn?r:r instanceof Mo?e||e===0?new an(r,e):r.is("rootElement")?new an(r,"in"):new an(r,"on"):new an(r)}class T3 extends Rr{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class Nh extends Rr{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class fr{constructor(e){this.document=e}createDocumentFragment(e){return new No(this.document,e)}createElement(e,t,n){return new on(this.document,e,t,n)}createText(e){return new Fe(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,n){return n._insertChild(e,t)}removeChildren(e,t,n){return n._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const n=e.parent;if(n){const o=n.getChildIndex(e);return this.removeChildren(o,1,n),this.insertChild(o,t,n),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}rename(e,t){const n=new on(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){rn(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return se._createAt(e,t)}createPositionAfter(e){return se._createAfter(e)}createPositionBefore(e){return se._createBefore(e)}createRange(e,t){return new ke(e,t)}createRangeOn(e){return ke._createOn(e)}createRangeIn(e){return ke._createIn(e)}createSelection(...e){return new On(...e)}}class N3{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const n=this.get(e);if(!n)throw new P("commandcollection-command-not-found",this,{commandName:e});return n.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}var M3=Object.defineProperty,ew=Object.getOwnPropertySymbols,B3=Object.prototype.hasOwnProperty,j3=Object.prototype.propertyIsEnumerable,tw=(r,e,t)=>e in r?M3(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;const Mh="contentEditing",nw="common";class P3{constructor(e){this.keystrokeInfos=new Map,this._editor=e;const t=e.config.get("menuBar.isVisible"),n=e.locale.t;this.addKeystrokeInfoCategory({id:Mh,label:n("Content editing keystrokes"),description:n("These keyboard shortcuts allow for quick access to content editing features.")});const o=[{label:n("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:n("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:n("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:n("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:n("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:n("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];t&&o.push({label:n("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:n("User interface and content navigation keystrokes"),description:n("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:o}]})}addKeystrokeInfoCategory({id:e,label:t,description:n,groups:o}){this.keystrokeInfos.set(e,{id:e,label:t,description:n,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:nw}),o&&o.forEach(a=>{this.addKeystrokeInfoGroup(((l,d)=>{for(var h in d||(d={}))B3.call(d,h)&&tw(l,h,d[h]);if(ew)for(var h of ew(d))j3.call(d,h)&&tw(l,h,d[h]);return l})({categoryId:e},a))})}addKeystrokeInfoGroup({categoryId:e=Mh,id:t,label:n,keystrokes:o}){const a=this.keystrokeInfos.get(e);if(!a)throw new P("accessibility-unknown-keystroke-info-category",this._editor,{groupId:t,categoryId:e});a.groups.set(t,{id:t,label:n,keystrokes:o||[]})}addKeystrokeInfos({categoryId:e=Mh,groupId:t=nw,keystrokes:n}){if(!this.keystrokeInfos.has(e))throw new P("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:n});const o=this.keystrokeInfos.get(e);if(!o.groups.has(t))throw new P("accessibility-unknown-keystroke-info-group",this._editor,{groupId:t,categoryId:e,keystrokes:n});o.groups.get(t).keystrokes.push(...n)}}var rw=Object.getOwnPropertySymbols,L3=Object.prototype.hasOwnProperty,O3=Object.prototype.propertyIsEnumerable,ow=(r,e)=>{var t={};for(var n in r)L3.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&rw)for(var n of rw(r))e.indexOf(n)<0&&O3.call(r,n)&&(t[n]=r[n]);return t};class z3 extends Re(){constructor(e={}){super();const t=this.constructor,n=t.defaultConfig||{},{translations:o}=n,a=ow(n,["translations"]),l=e,{translations:d=o}=l,h=ow(l,["translations"]),g=e.language||a.language;this._context=e.context||new ob({language:g,translations:d}),this._context._addEditor(this,!e.context);const p=Array.from(t.builtinPlugins||[]);this.config=new pk(h,a),this.config.define("plugins",p),this.config.define(this._context._getEditorConfig()),this.plugins=new nb(this,p,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new N3,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new I3,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const A=new X4;this.data=new HT(this.model,A),this.editing=new CT(this.model,A),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new qT([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new N4(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new P3(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new P("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new P("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new P("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],o=e.get("extraPlugins")||[],a=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(o),n,a)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(n){P.rethrowUnexpectedError(n,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function Bh(r){return class extends r{updateSourceElement(e){if(!this.sourceElement)throw new P("editor-missing-sourceelement",this);const t=this.config.get("updateSourceElementOnDestroy"),n=this.sourceElement instanceof HTMLTextAreaElement;if(!t&&!n)return void _k(this.sourceElement,"");const o=typeof e=="string"?e:this.data.get();_k(this.sourceElement,o)}}}Bh.updateSourceElement=Bh(Object).prototype.updateSourceElement;class iw extends Bl{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Pn({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new P("pendingactions-add-invalid-message",this);const t=new(Re());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const be={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',colorPalette:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',imageUrl:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeCustom:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95H.95zm.55 3.5v-2h2v2h-2zm0 9.3v2h2v-2h-2zm15-11.3v2h2v-2h-2z"/><path d="M8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046h-2.39zm11.421-9.101a.64.64 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.63.63 0 0 1 .206-.138.635.635 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',objectSizeSmall:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',objectSizeMedium:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',todoList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',codeBlock:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',horizontalLine:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',html:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var sw=m(7801),R3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(sw.A,R3),sw.A.locals;class Zl extends ge{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${z()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}class F3 extends ge{constructor(e,t){super(e);const n=e.t,o=new Zl;o.text=n("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":o.id,role:"document",tabindex:-1},children:[An(document,"p",{},n("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(t.values())),o]})}focus(){this.element.focus()}_createCategories(e){return e.map(t=>{const n=[An(document,"h3",{},t.label),...Array.from(t.groups.values()).map(o=>this._createGroup(o)).flat()];return t.description&&n.splice(1,0,An(document,"p",{},t.description)),An(document,"section",{},n)})}_createGroup(e){const t=e.keystrokes.sort((o,a)=>o.label.localeCompare(a.label)).map(o=>this._createGroupRow(o)).flat(),n=[An(document,"dl",{},t)];return e.label&&n.unshift(An(document,"h4",{},e.label)),n}_createGroupRow(e){const t=this.locale.t,n=An(document,"dt"),o=An(document,"dd"),a=function(d){return typeof d=="string"?[[d]]:typeof d[0]=="string"?[d]:d}(e.keystroke),l=[];for(const d of a)l.push(d.map(V3).join(""));return n.innerHTML=e.label,o.innerHTML=l.join(", ")+(e.mayRequireFn&&D.isMac?` ${t("(may require <kbd>Fn</kbd>)")}`:""),[n,o]}}function V3(r){return Sl(r).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}const aw='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var lw=m(8527),U3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(lw.A,U3),lw.A.locals;class H3 extends ee{constructor(){super(...arguments),this.contentView=null}static get requires(){return[wr]}static get pluginName(){return"AccessibilityHelp"}init(){const e=this.editor,t=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const n=this._createButton(Be);return n.set({tooltip:!0,withText:!1,label:t("Accessibility help")}),n}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const n=this._createButton(dn);return n.label=t("Accessibility"),n}),e.keystrokes.set("Alt+0",(n,o)=>{this._showDialog(),o()}),this._setupRootLabels()}_createButton(e){const t=new e(this.editor.locale);return t.set({keystroke:"Alt+0",icon:aw}),t.on("execute",()=>this._showDialog()),t}_setupRootLabels(){const e=this.editor,t=e.editing.view,n=e.t;function o(a,l){const d=`${l.getAttribute("aria-label")}. ${n("Press %0 for help.",[Sl("Alt+0")])}`;a.setAttribute("aria-label",d,l)}e.ui.on("ready",()=>{t.change(a=>{for(const l of t.document.roots)o(a,l)}),e.on("addRoot",(a,l)=>{const d=e.editing.view.document.getRoot(l.rootName);t.change(h=>o(h,d))},{priority:"low"})})}_showDialog(){const e=this.editor,t=e.plugins.get("Dialog"),n=e.locale.t;this.contentView||(this.contentView=new F3(e.locale,e.accessibility.keystrokeInfos)),t.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:n("Accessibility help"),icon:aw,hasCloseButton:!0,content:this.contentView})}}class q3 extends vn{constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Ln({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=An(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var cw=m(7621),W3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(cw.A,W3),cw.A.locals;const dw=class extends ge{constructor(){super();const r=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",r.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",r.if("isColorInherited","ck-icon_inherit-color")],viewBox:r.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const r=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=r.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:t,value:n}of Array.from(r.attributes))dw.presentationalAttributeNames.includes(t)&&this.element.setAttribute(t,n);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;r.childNodes.length>0;)this.element.appendChild(r.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(r=>{r.style.fill=this.fillColor})}};let kr=dw;kr.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class $3 extends ge{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var uw=m(9715),G3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(uw.A,G3),uw.A.locals;class Be extends ge{constructor(e,t=new $3){super(e),this._focusDelayed=null;const n=this.bindTemplate,o=z();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${o}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new kr,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const a={tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",l=>!l),n.if("isVisible","ck-hidden",l=>!l),n.to("isOn",l=>l?"ck-on":"ck-off"),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],role:n.to("role"),type:n.to("type",l=>l||"button"),tabindex:n.to("tabindex"),"aria-checked":n.to("ariaChecked"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy"),"aria-disabled":n.if("isEnabled",!0,l=>!l),"aria-pressed":n.to("isOn",l=>!!this.isToggleable&&String(!!l)),"data-cke-tooltip-text":n.to("_tooltipString"),"data-cke-tooltip-position":n.to("tooltipPosition")},children:this.children,on:{click:n.to(l=>{this.isEnabled?this.fire("execute"):l.preventDefault()})}};D.isSafari&&(this._focusDelayed||(this._focusDelayed=Gu(()=>this.focus(),0)),a.on.mousedown=n.to(()=>{this._focusDelayed()}),a.on.mouseup=n.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(a)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new ge;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>Sl(t))}]}),e}_getTooltipString(e,t,n){return e?typeof e=="string"?e:(n&&(n=Sl(n)),e instanceof Function?e(t,n):`${t}${n?` (${n})`:""}`):""}}var hw=m(4391),K3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(hw.A,K3),hw.A.locals;class Jl extends Be{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new ge;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class mw extends Be{constructor(e){super(e),this.buttonView=this,this._fileInputView=new Q3(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class Q3 extends ge{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const Xl='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var gw=m(25),Y3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(gw.A,Y3),gw.A.locals;class Z3 extends ge{constructor(e,t){super(e);const n=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),t&&this.children.addMany(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",n.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:n.if("isCollapsed","hidden"),"aria-labelledby":n.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new Be(this.locale),t=e.bindTemplate;return e.set({withText:!0,icon:Xl}),e.extendTemplate({attributes:{"aria-expanded":t.to("isOn",n=>String(n))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",n=>!n),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}var pw=m(7317),J3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(pw.A,J3),pw.A.locals,m(6931),m(9047);var fw=m(4962),X3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(fw.A,X3),fw.A.locals;class ec extends ge{constructor(e,t){super(e);const n=`ck-labeled-field-view-${z()}`,o=`ck-labeled-field-view-status-${z()}`;this.fieldView=t(this,n,o),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(o),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(l,d)=>l||d);const a=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",a.to("class"),a.if("isEnabled","ck-disabled",l=>!l),a.if("isEmpty","ck-labeled-field-view_empty"),a.if("isFocused","ck-labeled-field-view_focused"),a.if("placeholder","ck-labeled-field-view_placeholder"),a.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new Zl(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new ge(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",o=>!o)],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}class eN extends ge{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new kt,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),tabindex:t.to("tabIndex"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById"),"aria-label":t.to("ariaLabel")},on:{input:t.to((...n)=>{this.fire("input",...n),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,n)=>{this._setDomElementValue(n),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}var kw=m(253),tN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(kw.A,tN),kw.A.locals;class nN extends eN{constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}class rN extends nN{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var bw=m(1671),oN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(bw.A,oN),bw.A.locals;class iN extends ge{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",n=>`ck-dropdown__panel_${n}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(n=>{n.target.tagName.toLocaleLowerCase()!=="input"&&n.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():$("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var ww=m(8149),sN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(ww.A,sN),ww.A.locals;const jh=class extends ge{constructor(r,e,t){super(r);const n=this.bindTemplate;this.buttonView=e,this.panelView=t,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Lt,this.focusTracker=new kt,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",n.to("class"),n.if("isEnabled","ck-disabled",o=>!o)],id:n.to("id"),"aria-describedby":n.to("ariaDescribedById")},children:[e,t]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":n.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(e,t,n)=>{if(n)if(this.panelPosition==="auto"){const o=jh._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=o?o.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const r=(e,t)=>{this.isOpen&&(this.isOpen=!1,t())};this.keystrokes.set("arrowdown",(e,t)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,t())}),this.keystrokes.set("arrowright",(e,t)=>{this.isOpen&&t()}),this.keystrokes.set("arrowleft",r),this.keystrokes.set("esc",r)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:r,north:e,southEast:t,southWest:n,northEast:o,northWest:a,southMiddleEast:l,southMiddleWest:d,northMiddleEast:h,northMiddleWest:g}=jh.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[t,n,l,d,r,o,a,h,g,e]:[n,t,d,l,r,a,o,g,h,e]}};let Ph=jh;Ph.defaultPanelPositions={south:(r,e)=>({top:r.bottom,left:r.left-(e.width-r.width)/2,name:"s"}),southEast:r=>({top:r.bottom,left:r.left,name:"se"}),southWest:(r,e)=>({top:r.bottom,left:r.left-e.width+r.width,name:"sw"}),southMiddleEast:(r,e)=>({top:r.bottom,left:r.left-(e.width-r.width)/4,name:"sme"}),southMiddleWest:(r,e)=>({top:r.bottom,left:r.left-3*(e.width-r.width)/4,name:"smw"}),north:(r,e)=>({top:r.top-e.height,left:r.left-(e.width-r.width)/2,name:"n"}),northEast:(r,e)=>({top:r.top-e.height,left:r.left,name:"ne"}),northWest:(r,e)=>({top:r.top-e.height,left:r.left-e.width+r.width,name:"nw"}),northMiddleEast:(r,e)=>({top:r.top-e.height,left:r.left-(e.width-r.width)/4,name:"nme"}),northMiddleWest:(r,e)=>({top:r.top-e.height,left:r.left-3*(e.width-r.width)/4,name:"nmw"})},Ph._getOptimalPosition=Dl;class aN extends Be{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new kr;return e.content=Xl,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class _n extends K(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let n=e.actions[t];typeof n=="string"&&(n=[n]);for(const o of n)e.keystrokeHandler.set(o,(a,l)=>{this[t](),l()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(Lh)||null}get last(){return this.focusables.filter(Lh).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,n)=>{const o=t.element===this.focusTracker.focusedElement;return o&&(e=n),o}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}_focus(e,t){e&&this.focusTracker.focusedElement!==e.element&&e.focus(t)}_getDomFocusableItem(e){const t=this.focusables.length;if(!t)return null;const n=this.current;if(n===null)return this[e===1?"first":"last"];let o=this.focusables.get(n),a=(n+t+e)%t;do{const l=this.focusables.get(a);if(Lh(l)){o=l;break}a=(a+t+e)%t}while(a!==n);return o}}function Lh(r){return Zs(r)&&Eo(r.element)}function Zs(r){return!(!("focus"in r)||typeof r.focus!="function")}class Aw extends ge{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class lN extends ge{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var cN=Object.defineProperty,Cw=Object.getOwnPropertySymbols,dN=Object.prototype.hasOwnProperty,uN=Object.prototype.propertyIsEnumerable,vw=(r,e,t)=>e in r?cN(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,yw=(r,e)=>{for(var t in e||(e={}))dN.call(e,t)&&vw(r,t,e[t]);if(Cw)for(var t of Cw(e))uN.call(e,t)&&vw(r,t,e[t]);return r};function _w(r){if(Array.isArray(r))return{items:r,removeItems:[]};const e={items:[],removeItems:[]};return r?yw(yw({},e),r):e}var xw=m(9677),hN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(xw.A,hN),xw.A.locals;const mN={alignLeft:be.alignLeft,bold:be.bold,importExport:be.importExport,paragraph:be.paragraph,plus:be.plus,text:be.text,threeVerticalDots:be.threeVerticalDots,pilcrow:be.pilcrow,dragIndicator:be.dragIndicator};class Oh extends ge{constructor(e,t){super(e);const n=this.bindTemplate,o=this.t;this.options=t||{},this.set("ariaLabel",o("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new kt,this.keystrokes=new Lt,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new gN(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const a=e.uiLanguageDirection==="rtl";this._focusCycler=new _n({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[a?"arrowright":"arrowleft","arrowup"],focusNext:[a?"arrowleft":"arrowright","arrowdown"]}});const l=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];var d;this.options.shouldGroupWhenFull&&this.options.isFloating&&l.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:l,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(d=this,d.bindTemplate.to(h=>{h.target===d.element&&h.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new fN(this):new pN(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,n){this.items.addMany(this._buildItemsFromConfig(e,t,n))}_buildItemsFromConfig(e,t,n){const o=_w(e),a=n||o.removeItems;return this._cleanItemsConfiguration(o.items,t,a).map(l=>Te(l)?this._createNestedToolbarDropdown(l,t,a):l==="|"?new Aw:l==="-"?new lN:t.create(l)).filter(l=>!!l)}_cleanItemsConfiguration(e,t,n){const o=e.filter((a,l,d)=>a==="|"||n.indexOf(a)===-1&&(a==="-"?!this.options.shouldGroupWhenFull||($("toolbarview-line-break-ignored-when-grouping-items",d),!1):!(!Te(a)&&!t.has(a))||($("toolbarview-item-unavailable",{item:a}),!1)));return this._cleanSeparatorsAndLineBreaks(o)}_cleanSeparatorsAndLineBreaks(e){const t=l=>l!=="-"&&l!=="|",n=e.length,o=e.findIndex(t);if(o===-1)return[];const a=n-e.slice().reverse().findIndex(t);return e.slice(o,a).filter((l,d,h)=>t(l)?!0:!(d>0&&h[d-1]===l))}_createNestedToolbarDropdown(e,t,n){let{label:o,icon:a,items:l,tooltip:d=!0,withText:h=!1}=e;if(l=this._cleanItemsConfiguration(l,t,n),!l.length)return null;const g=br(this.locale);return o||$("toolbarview-nested-toolbar-dropdown-missing-label",e),g.class="ck-toolbar__nested-toolbar-dropdown",g.buttonView.set({label:o,tooltip:d,withText:!!h}),a!==!1?g.buttonView.icon=mN[a]||a||be.threeVerticalDots:g.buttonView.withText=!0,Fh(g,()=>g.toolbarView._buildItemsFromConfig(l,t,n)),g}}class gN extends ge{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class pN{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(n=>n),e.focusables.bindTo(e.items).using(n=>Zs(n)?n:null),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class fN{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(t,n)=>{const o=n.index,a=Array.from(n.added);for(const l of n.removed)o>=this.ungroupedItems.length?this.groupedItems.remove(l):this.ungroupedItems.remove(l);for(let l=o;l<o+a.length;l++){const d=a[l-o];l>this.ungroupedItems.length?this.groupedItems.add(d,l-this.ungroupedItems.length):this.ungroupedItems.add(d,l)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Eo(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new De(e.lastChild),o=new De(e);if(!this.cachedPadding){const a=C.window.getComputedStyle(e),l=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(a[l])}return t==="ltr"?n.right>o.right-this.cachedPadding:n.left<o.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Ms(this.viewElement,t=>{e&&e===t.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Aw),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,n=br(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",Fh(n,this.groupedItems),n.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:be.threeVerticalDots}),n}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{Zs(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Di extends ge{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",n=>!n)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class zh extends ge{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class tc extends ge{constructor(e,t=new Zl){super(e);const n=this.bindTemplate,o=new Rh(e);this.set({label:"",isVisible:!0}),this.labelView=t,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,o]),o.set({role:"group",ariaLabelledBy:t.id}),o.focusTracker.destroy(),o.keystrokes.destroy(),this.items=o.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",n.if("isVisible","ck-hidden",a=>!a)]},children:this.children})}focus(){if(this.items){const e=this.items.find(t=>!(t instanceof zh));e&&e.focus()}}}var Ew=m(5199),kN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Ew.A,kN),Ew.A.locals;class Rh extends ge{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const t=this.bindTemplate;this.focusables=new vn,this.items=this.createCollection(),this.focusTracker=new kt,this.keystrokes=new Lt,this._focusCycler=new _n({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof tc?this._registerFocusableItemsGroup(e):e instanceof Di&&this._registerFocusableListItem(e);this.items.on("change",(e,t)=>{for(const n of t.removed)n instanceof tc?this._deregisterFocusableItemsGroup(n):n instanceof Di&&this._deregisterFocusableListItem(n);for(const n of Array.from(t.added).reverse())n instanceof tc?this._registerFocusableItemsGroup(n,t.index):this._registerFocusableListItem(n,t.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,n)=>{for(const o of n.removed)this._deregisterFocusableListItem(o);for(const o of Array.from(n.added).reverse())this._registerFocusableListItem(o,this.items.getIndex(e)+n.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach((o,a)=>{const l=t!==void 0?t+a:void 0;this._registerFocusableListItem(o,l)});const n=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,n),e.items.on("change",n)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}var Dw=m(1792),bN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Dw.A,bN),Dw.A.locals;class nc extends ge{constructor(e,t){super(e);const n=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(t),this.arrowView=this._createArrowView(),this.keystrokes=new Lt,this.focusTracker=new kt,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",n.to("class"),n.if("isVisible","ck-hidden",o=>!o),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const t=e||new Be;return e||t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const e=new Be,t=e.bindTemplate;return e.icon=Xl,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",n=>String(n))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var Sw=m(1666),wN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Sw.A,wN),Sw.A.locals;var Iw=m(3629),AN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Iw.A,AN),Iw.A.locals;function br(r,e=aN){const t=typeof e=="function"?new e(r):e,n=new iN(r),o=new Ph(r,t,n);return t.bind("isEnabled").to(o),t instanceof nc?t.arrowView.bind("isOn").to(o,"isOpen"):t.bind("isOn").to(o,"isOpen"),function(a){(function(l){l.on("render",()=>{Nl({emitter:l,activator:()=>l.isOpen,callback:()=>{l.isOpen=!1},contextElements:()=>[l.element,...l.focusTracker._elements]})})})(a),function(l){l.on("execute",d=>{d.source instanceof Jl||(l.isOpen=!1)})}(a),function(l){l.focusTracker.on("change:isFocused",(d,h,g)=>{l.isOpen&&!g&&(l.isOpen=!1)})}(a),function(l){l.keystrokes.set("arrowdown",(d,h)=>{l.isOpen&&(l.panelView.focus(),h())}),l.keystrokes.set("arrowup",(d,h)=>{l.isOpen&&(l.panelView.focusLast(),h())})}(a),function(l){l.on("change:isOpen",(d,h,g)=>{if(g)return;const p=l.panelView.element;p&&p.contains(C.document.activeElement)&&l.buttonView.focus()})}(a),function(l){l.on("change:isOpen",(d,h,g)=>{g&&l.panelView.focus()},{priority:"low"})}(a)}(o),o}function Fh(r,e,t={}){r.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),r.isOpen?Tw(r,e,t):r.once("change:isOpen",()=>Tw(r,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&Bw(r,()=>r.toolbarView.items.find(n=>n.isOn))}function Tw(r,e,t){const n=r.locale,o=n.t,a=r.toolbarView=new Oh(n),l=typeof e=="function"?e():e;a.ariaLabel=t.ariaLabel||o("Dropdown toolbar"),t.maxWidth&&(a.maxWidth=t.maxWidth),t.class&&(a.class=t.class),t.isCompact&&(a.isCompact=t.isCompact),t.isVertical&&(a.isVertical=!0),l instanceof vn?a.items.bindTo(l).using(d=>d):a.items.addMany(l),r.panelView.children.add(a),a.items.delegate("execute").to(r)}function Nw(r,e,t={}){r.isOpen?Mw(r,e,t):r.once("change:isOpen",()=>Mw(r,e,t),{priority:"highest"}),Bw(r,()=>r.listView.items.find(n=>n instanceof Di&&n.children.first.isOn))}function Mw(r,e,t){const n=r.locale,o=r.listView=new Rh(n),a=typeof e=="function"?e():e;o.ariaLabel=t.ariaLabel,o.role=t.role,jw(r,o.items,a,n),r.panelView.children.add(o),o.items.delegate("execute").to(r)}function Bw(r,e){r.on("change:isOpen",()=>{if(!r.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():$("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:V.low-10})}function jw(r,e,t,n){e.bindTo(t).using(o=>{if(o.type==="separator")return new zh(n);if(o.type==="group"){const a=new tc(n);return a.set({label:o.label}),jw(r,a.items,o.items,n),a.items.delegate("execute").to(r),a}if(o.type==="button"||o.type==="switchbutton"){const a=new Di(n);let l;return o.type==="button"?(l=new Be(n),l.bind("ariaChecked").to(l,"isOn")):l=new Jl(n),l.bind(...Object.keys(o.model)).to(o.model),l.delegate("execute").to(a),a.children.add(l),a}return null})}const rc=(r,e,t)=>{const n=new rN(r.locale);return n.set({id:e,ariaDescribedById:t}),n.bind("isReadOnly").to(r,"isEnabled",o=>!o),n.bind("hasError").to(r,"errorText",o=>!!o),n.on("input",()=>{r.errorText=null}),r.bind("isEmpty","isFocused","placeholder").to(n),n};var Pw=m(1905),CN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Pw.A,CN),Pw.A.locals;var Lw=m(6309),vN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Lw.A,vN),Lw.A.locals;class yN{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(Vh(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new P("componentfactory-item-missing",this,{name:e});return this._components.get(Vh(e)).callback(this.editor.locale)}has(e){return this._components.has(Vh(e))}}function Vh(r){return String(r).toLowerCase()}var Ow=m(7913),_N={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Ow.A,_N),Ow.A.locals;class xN extends ge{constructor(e,t={}){super(e);const n=this.bindTemplate;this.set("label",t.label||""),this.set("class",t.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",n.to("class")]},children:this.children}),t.icon&&(this.iconView=new kr,this.iconView.content=t.icon,this.children.add(this.iconView));const o=new ge(e);o.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:n.to("label")}]}),this.children.add(o)}}var zw=m(9822),EN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(zw.A,EN),zw.A.locals;class DN extends ge{constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new Lt,this._focusTracker=new kt,this._focusables=new vn,this.focusCycler=new _n({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const t of e){const n=new Be(this.locale);let o;for(o in n.on("execute",()=>t.onExecute()),t.onCreate&&t.onCreate(n),t)o!="onExecute"&&o!="onCreate"&&n.set(o,t[o]);this.children.add(n)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class SN extends ge{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var Rw=m(9819),IN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Rw.A,IN),Rw.A.locals;const oc="screen-center",Fw="editor-center",TN="editor-top-side",NN="editor-top-center",MN="editor-bottom-center",BN="editor-above-center",jN="editor-below-center",Vw=pi("px"),Uw=class extends function(r){return class extends r{constructor(...e){super(...e),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(C.document,"mouseup",this._onDragEndBound),this.listenTo(C.document,"touchend",this._onDragEndBound),this.listenTo(C.document,"mousemove",this._onDragBound),this.listenTo(C.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(C.document,"mouseup",this._onDragEndBound),this.stopListening(C.document,"touchend",this._onDragEndBound),this.stopListening(C.document,"mousemove",this._onDragBound),this.stopListening(C.document,"touchmove",this._onDragBound)}_onDragStart(e,t){if(!this._isHandleElementPressed(t))return;this._attachDragListeners();let n=0,o=0;t instanceof MouseEvent?(n=t.clientX,o=t.clientY):(n=t.touches[0].clientX,o=t.touches[0].clientY),this._lastDraggingCoordinates={x:n,y:o},this.isDragging=!0}_onDrag(e,t){if(!this.isDragging)return void this._detachDragListeners();let n=0,o=0;t instanceof MouseEvent?(n=t.clientX,o=t.clientY):(n=t.touches[0].clientX,o=t.touches[0].clientY),t.preventDefault(),this.fire("drag",{deltaX:Math.round(n-this._lastDraggingCoordinates.x),deltaY:Math.round(o-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:n,y:o}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(e){return!!this.dragHandleElement&&(this.dragHandleElement===e.target||e.target instanceof HTMLElement&&this.dragHandleElement.contains(e.target))}}}(ge){constructor(r,{getCurrentDomRoot:e,getViewportOffset:t}){super(r),this.wasMoved=!1;const n=this.bindTemplate,o=r.t;this.set("className",""),this.set("ariaLabel",o("Editor dialog")),this.set("isModal",!1),this.set("position",oc),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=e,this._getViewportOffset=t,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new Lt,this.focusTracker=new kt,this._focusables=new vn,this._focusCycler=new _n({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",n.if("isModal","ck-dialog-overlay__transparent",a=>!a),n.if("_isVisible","ck-hidden",a=>!a)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",n.to("className")],role:"dialog","aria-label":n.to("ariaLabel"),style:{top:n.to("_top",a=>Vw(a)),left:n.to("_left",a=>Vw(a)),visibility:n.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(r,e)=>{this.fire("close",{source:"escKeyPress"}),e()}),this.on("drag",(r,{deltaX:e,deltaY:t})=>{this.wasMoved=!0,this.moveBy(e,t)}),this.listenTo(C.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(C.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(r,e,t)=>{t&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:r,title:e,hasCloseButton:t=!0,content:n,actionButtons:o}){e&&(this.headerView=new xN(this.locale,{icon:r}),t&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=e,this.ariaLabel=e,this.parts.add(this.headerView,0)),n&&(n instanceof ge&&(n=[n]),this.contentView=new SN(this.locale),this.contentView.children.addMany(n),this.parts.add(this.contentView)),o&&(this.actionsView=new DN(this.locale),this.actionsView.setButtons(o),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(r,e){const t=this._getViewportRect(),n=this._getDialogRect();r+n.width>t.right&&(r=t.right-n.width),r<t.left&&(r=t.left),e<t.top&&(e=t.top),this._moveTo(r,e)}_moveTo(r,e){this._left=r,this._top=e}moveBy(r,e){this.moveTo(this._left+r,this._top+e)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const r=this._getViewportRect();let e,t=this.position;this._getCurrentDomRoot()?e=this._getVisibleDomRootRect(r):t=oc;const n=Uw.defaultOffset,o=this._getDialogRect();switch(t){case TN:if(e){const a=this.locale.contentLanguageDirection==="ltr"?e.right-o.width-n:e.left+n;this.moveTo(a,e.top+n)}else this._moveOffScreen();break;case Fw:e?this.moveTo(Math.round(e.left+e.width/2-o.width/2),Math.round(e.top+e.height/2-o.height/2)):this._moveOffScreen();break;case oc:this.moveTo(Math.round((r.width-o.width)/2),Math.round((r.height-o.height)/2));break;case NN:e?this.moveTo(Math.round(e.left+e.width/2-o.width/2),e.top+n):this._moveOffScreen();break;case MN:e?this.moveTo(Math.round(e.left+e.width/2-o.width/2),e.bottom-o.height-n):this._moveOffScreen();break;case BN:e?this.moveTo(Math.round(e.left+e.width/2-o.width/2),e.top-o.height-n):this._moveOffScreen();break;case jN:e?this.moveTo(Math.round(e.left+e.width/2-o.width/2),e.bottom+n):this._moveOffScreen()}}_getVisibleDomRootRect(r){let e=new De(this._getCurrentDomRoot()).getVisible();return e?(e=r.getIntersection(e),e||null):null}_getDialogRect(){return new De(this.element.firstElementChild)}_getViewportRect(){return function(r){r=Object.assign({top:0,bottom:0,left:0,right:0},r);const e=new De(C.window);return e.top+=r.top,e.height-=r.top,e.bottom-=r.bottom,e.height-=r.bottom,e.left+=r.left,e.right-=r.right,e.width-=r.left+r.right,e}(this._getViewportOffset())}_updateFocusCyclableItems(){const r=[];if(this.contentView)for(const e of this.contentView.children)Zs(e)&&r.push(e);this.actionsView&&r.push(this.actionsView),this.closeButtonView&&r.push(this.closeButtonView),r.forEach(e=>{var t;this._focusables.add(e),this.focusTracker.add(e.element),Zs(t=e)&&"focusCycler"in t&&t.focusCycler instanceof _n&&(this.listenTo(e.focusCycler,"forwardCycle",n=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&n.stop()}),this.listenTo(e.focusCycler,"backwardCycle",n=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&n.stop()}))})}_createCloseButton(){const r=new Be(this.locale),e=this.locale.t;return r.set({label:e("Close"),tooltip:!0,icon:be.cancel}),r.on("execute",()=>this.fire("close",{source:"closeButton"})),r}};let ic=Uw;ic.defaultOffset=15;class wr extends ee{constructor(e){super(e);const t=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:t("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(e,t)=>{this._show(t)}),this.on("show",(e,t)=>{t.onShow&&t.onShow(this)},{priority:"low"}),this.on("hide",()=>{wr._visibleDialogPlugin&&wr._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(t,n)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),n())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const t=e.document.differ.getChangedRoots();for(const n of t)n.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:t,title:n,hasCloseButton:o=!0,content:a,actionButtons:l,className:d,isModal:h,position:g,onHide:p}){const A=this.editor;this.view=new ic(A.locale,{getCurrentDomRoot:()=>A.editing.view.getDomRoot(A.model.document.selection.anchor.root.rootName),getViewportOffset:()=>A.ui.viewportOffset});const y=this.view;y.on("close",()=>{this.hide()}),A.ui.view.body.add(y),A.ui.focusTracker.add(y.element),A.keystrokes.listenTo(y.element),g||(g=h?oc:Fw),y.set({position:g,_isVisible:!0,className:d,isModal:h}),y.setupParts({icon:t,title:n,hasCloseButton:o,content:a,actionButtons:l}),this.id=e,p&&(this._onHide=p),this.isOpen=!0,wr._visibleDialogPlugin=this}hide(){wr._visibleDialogPlugin&&wr._visibleDialogPlugin.fire(`hide:${wr._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,t=this.view;t.contentView&&t.contentView.reset(),e.ui.view.body.remove(t),e.ui.focusTracker.remove(t.element),e.keystrokes.stopListening(t.element),t.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,wr._visibleDialogPlugin=null}}var Hw=m(3710),PN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Hw.A,PN),Hw.A.locals;var LN=Object.defineProperty,qw=Object.getOwnPropertySymbols,ON=Object.prototype.hasOwnProperty,zN=Object.prototype.propertyIsEnumerable,Ww=(r,e,t)=>e in r?LN(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,je=(r,e)=>{for(var t in e||(e={}))ON.call(e,t)&&Ww(r,t,e[t]);if(qw)for(var t of qw(e))zN.call(e,t)&&Ww(r,t,e[t]);return r};const $w=pi("px"),Gw=C.document.body,RN={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},Uh=class extends ge{constructor(r){super(r);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",t=>`ck-balloon-panel_${t}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",$w),left:e.to("left",$w)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(r){this.show();const e=Uh.defaultPositions,t=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:Gw,fitInViewport:!0},r),n=Uh._getOptimalPosition(t)||RN,o=parseInt(n.left),a=parseInt(n.top),l=n.name,d=n.config||{},{withArrow:h=!0}=d;this.top=a,this.left=o,this.position=l,this.withArrow=h}pin(r){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(r):this._stopPinning()},this._startPinning(r),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(r){this.attachTo(r);const e=Hh(r.target),t=r.limiter?Hh(r.limiter):Gw;this.listenTo(C.document,"scroll",(n,o)=>{const a=o.target,l=e&&a.contains(e),d=t&&a.contains(t);!l&&!d&&e&&t||this.attachTo(r)},{useCapture:!0}),this.listenTo(C.window,"resize",()=>{this.attachTo(r)})}_stopPinning(){this.stopListening(C.document,"scroll"),this.stopListening(C.window,"resize")}};let Ht=Uh;function Hh(r){return xo(r)?r:xl(r)?r.commonAncestorContainer:typeof r=="function"?Hh(r()):null}function Kw(r={}){const{sideOffset:e=Ht.arrowSideOffset,heightOffset:t=Ht.arrowHeightOffset,stickyVerticalOffset:n=Ht.stickyVerticalOffset,config:o}=r;return{northWestArrowSouthWest:(d,h)=>je({top:a(d,h),left:d.left-e,name:"arrow_sw"},o&&{config:o}),northWestArrowSouthMiddleWest:(d,h)=>je({top:a(d,h),left:d.left-.25*h.width-e,name:"arrow_smw"},o&&{config:o}),northWestArrowSouth:(d,h)=>je({top:a(d,h),left:d.left-h.width/2,name:"arrow_s"},o&&{config:o}),northWestArrowSouthMiddleEast:(d,h)=>je({top:a(d,h),left:d.left-.75*h.width+e,name:"arrow_sme"},o&&{config:o}),northWestArrowSouthEast:(d,h)=>je({top:a(d,h),left:d.left-h.width+e,name:"arrow_se"},o&&{config:o}),northArrowSouthWest:(d,h)=>je({top:a(d,h),left:d.left+d.width/2-e,name:"arrow_sw"},o&&{config:o}),northArrowSouthMiddleWest:(d,h)=>je({top:a(d,h),left:d.left+d.width/2-.25*h.width-e,name:"arrow_smw"},o&&{config:o}),northArrowSouth:(d,h)=>je({top:a(d,h),left:d.left+d.width/2-h.width/2,name:"arrow_s"},o&&{config:o}),northArrowSouthMiddleEast:(d,h)=>je({top:a(d,h),left:d.left+d.width/2-.75*h.width+e,name:"arrow_sme"},o&&{config:o}),northArrowSouthEast:(d,h)=>je({top:a(d,h),left:d.left+d.width/2-h.width+e,name:"arrow_se"},o&&{config:o}),northEastArrowSouthWest:(d,h)=>je({top:a(d,h),left:d.right-e,name:"arrow_sw"},o&&{config:o}),northEastArrowSouthMiddleWest:(d,h)=>je({top:a(d,h),left:d.right-.25*h.width-e,name:"arrow_smw"},o&&{config:o}),northEastArrowSouth:(d,h)=>je({top:a(d,h),left:d.right-h.width/2,name:"arrow_s"},o&&{config:o}),northEastArrowSouthMiddleEast:(d,h)=>je({top:a(d,h),left:d.right-.75*h.width+e,name:"arrow_sme"},o&&{config:o}),northEastArrowSouthEast:(d,h)=>je({top:a(d,h),left:d.right-h.width+e,name:"arrow_se"},o&&{config:o}),southWestArrowNorthWest:d=>je({top:l(d),left:d.left-e,name:"arrow_nw"},o&&{config:o}),southWestArrowNorthMiddleWest:(d,h)=>je({top:l(d),left:d.left-.25*h.width-e,name:"arrow_nmw"},o&&{config:o}),southWestArrowNorth:(d,h)=>je({top:l(d),left:d.left-h.width/2,name:"arrow_n"},o&&{config:o}),southWestArrowNorthMiddleEast:(d,h)=>je({top:l(d),left:d.left-.75*h.width+e,name:"arrow_nme"},o&&{config:o}),southWestArrowNorthEast:(d,h)=>je({top:l(d),left:d.left-h.width+e,name:"arrow_ne"},o&&{config:o}),southArrowNorthWest:d=>je({top:l(d),left:d.left+d.width/2-e,name:"arrow_nw"},o&&{config:o}),southArrowNorthMiddleWest:(d,h)=>je({top:l(d),left:d.left+d.width/2-.25*h.width-e,name:"arrow_nmw"},o&&{config:o}),southArrowNorth:(d,h)=>je({top:l(d),left:d.left+d.width/2-h.width/2,name:"arrow_n"},o&&{config:o}),southArrowNorthMiddleEast:(d,h)=>je({top:l(d),left:d.left+d.width/2-.75*h.width+e,name:"arrow_nme"},o&&{config:o}),southArrowNorthEast:(d,h)=>je({top:l(d),left:d.left+d.width/2-h.width+e,name:"arrow_ne"},o&&{config:o}),southEastArrowNorthWest:d=>je({top:l(d),left:d.right-e,name:"arrow_nw"},o&&{config:o}),southEastArrowNorthMiddleWest:(d,h)=>je({top:l(d),left:d.right-.25*h.width-e,name:"arrow_nmw"},o&&{config:o}),southEastArrowNorth:(d,h)=>je({top:l(d),left:d.right-h.width/2,name:"arrow_n"},o&&{config:o}),southEastArrowNorthMiddleEast:(d,h)=>je({top:l(d),left:d.right-.75*h.width+e,name:"arrow_nme"},o&&{config:o}),southEastArrowNorthEast:(d,h)=>je({top:l(d),left:d.right-h.width+e,name:"arrow_ne"},o&&{config:o}),westArrowEast:(d,h)=>je({top:d.top+d.height/2-h.height/2,left:d.left-h.width-t,name:"arrow_e"},o&&{config:o}),eastArrowWest:(d,h)=>je({top:d.top+d.height/2-h.height/2,left:d.right+t,name:"arrow_w"},o&&{config:o}),viewportStickyNorth:(d,h,g,p)=>{const A=p||g;return d.getIntersection(A)?A.height-d.height>n?null:{top:A.top+n,left:d.left+d.width/2-h.width/2,name:"arrowless",config:je({withArrow:!1},o)}:null}};function a(d,h){return d.top-h.height-t}function l(d){return d.bottom+t}}Ht.arrowSideOffset=25,Ht.arrowHeightOffset=10,Ht.stickyVerticalOffset=20,Ht._getOptimalPosition=Dl,Ht.defaultPositions=Kw();var Qw=m(9205),FN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Qw.A,FN),Qw.A.locals;const Yw="ck-tooltip",qt=class extends Cn(){constructor(r){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,qt._editors.add(r),qt._instance)return qt._instance;qt._instance=this,this.tooltipTextView=new ge(r.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Ht(r.locale),this.balloonPanelView.class=Yw,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(e){const t=new MutationObserver(()=>{e()});return{attach(n){t.observe(n,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){t.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=yi(this._pinTooltip,600),this._unpinTooltipDebounced=yi(this._unpinTooltip,400),this.listenTo(C.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(C.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(C.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(C.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(C.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(C.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(r){const e=r.ui.view&&r.ui.view.body;qt._editors.delete(r),this.stopListening(r.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),qt._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),qt._instance=null)}static getPositioningFunctions(r){const e=qt.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[r]}_onKeyDown(r,e){e.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),e.stopPropagation())}_onEnterOrFocus(r,{target:e}){const t=qh(e);t?t!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(t,Zw(t))):r.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(r,{target:e,relatedTarget:t}){if(r.name==="mouseleave"){if(!xo(e))return;const n=this.balloonPanelView.element,o=n&&(n===t||n.contains(t)),a=!o&&e===n;if(o)return void this._unpinTooltipDebounced.cancel();if(!a&&this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const l=qh(e),d=qh(t);(a||l&&l!==d)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(r,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(r,{text:e,position:t,cssClass:n}){this._unpinTooltip();const o=ft(qt._editors.values()).ui.view.body;o.has(this.balloonPanelView)||o.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:r,positions:qt.getPositioningFunctions(t)}),this._resizeObserver=new Ms(r,()=>{Eo(r)||this._unpinTooltip()}),this._mutationObserver.attach(r),this.balloonPanelView.class=[Yw,n].filter(a=>a).join(" ");for(const a of qt._editors)this.listenTo(a.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=r,this._currentTooltipPosition=t}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const r of qt._editors)this.stopListening(r.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const r=Zw(this._currentElementWithTooltip);Eo(this._currentElementWithTooltip)&&r.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:qt.getPositioningFunctions(r.position)}):this._unpinTooltip()}};let sc=qt;function qh(r){return xo(r)?r.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function Zw(r){return{text:r.dataset.ckeTooltipText,position:r.dataset.ckeTooltipPosition||"s",cssClass:r.dataset.ckeTooltipClass||""}}sc.defaultBalloonPositions=Kw({heightOffset:5,sideOffset:13}),sc._editors=new Set,sc._instance=null;const ac=function(r,e,t){var n=!0,o=!0;if(typeof r!="function")throw new TypeError("Expected a function");return Te(t)&&(n="leading"in t?!!t.leading:n,o="trailing"in t?!!t.trailing:o),yi(r,e,{leading:n,maxWait:e,trailing:o})};var VN=Object.defineProperty,Jw=Object.getOwnPropertySymbols,UN=Object.prototype.hasOwnProperty,HN=Object.prototype.propertyIsEnumerable,Xw=(r,e,t)=>e in r?VN(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,qN=(r,e)=>{for(var t in e||(e={}))UN.call(e,t)&&Xw(r,t,e[t]);if(Jw)for(var t of Jw(e))HN.call(e,t)&&Xw(r,t,e[t]);return r};const WN=50,$N=350,GN="Powered by";class KN extends Cn(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=ac(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(t){function n(E){return E.length>=40&&E.length<=255?"VALID":"INVALID"}if(!t)return"INVALID";let o="";try{o=atob(t)}catch{return"INVALID"}const a=o.split("-"),l=a[0],d=a[1];if(!d)return n(t);try{atob(d)}catch{try{if(atob(l),!atob(l).length)return n(t)}catch{return n(t)}}if(l.length<40||l.length>255)return"INVALID";let h="";try{atob(l),h=atob(d)}catch{return"INVALID"}if(h.length!==8)return"INVALID";const g=Number(h.substring(0,4)),p=Number(h.substring(4,6))-1,A=Number(h.substring(6,8)),y=new Date(g,p,A);return y<re||isNaN(Number(y))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(t,n,o)=>{this._updateLastFocusedEditableElement(),o?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(t,n,o)=>{this._updateLastFocusedEditableElement(),o&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,t=this._balloonView=new Ht,n=tA(e),o=new QN(e.locale,n.label);t.content.add(o),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),e.ui.focusTracker.add(t.element),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(t,n){const o=tA(t),a=o.side==="right"?function(l,d){return eA(l,d,(h,g)=>h.left+h.width-g.width-d.horizontalOffset)}(n,o):function(l,d){return eA(l,d,h=>h.left+d.horizontalOffset)}(n,o);return{target:n,positions:[a]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,n=e.ui.focusTracker.focusedElement;if(!t||!n)return void(this._lastFocusedEditableElement=null);const o=Array.from(e.ui.getEditableElementsNames()).map(a=>e.ui.getEditableElement(a));o.includes(n)?this._lastFocusedEditableElement=n:this._lastFocusedEditableElement=o[0]}}class QN extends ge{constructor(e,t){super(e);const n=new kr,o=this.bindTemplate;n.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),n.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],n],on:{dragstart:o.to(a=>a.preventDefault())}}]})}}function eA(r,e,t){return(n,o)=>{const a=new De(r);if(a.width<$N||a.height<WN)return null;let l;l=e.position==="inside"?a.bottom-o.height:a.bottom-o.height/2,l-=e.verticalOffset;const d=t(a,o),h=n.clone().moveTo(d,l).getIntersection(o.clone().moveTo(d,l)).getVisible();return!h||h.getArea()<o.getArea()?null:{top:l,left:d,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function tA(r){const e=r.config.get("ui.poweredBy"),t=e&&e.position||"border";return qN({position:t,label:GN,verticalOffset:t==="inside"?5:0,horizontalOffset:5,side:r.locale.contentLanguageDirection==="ltr"?"right":"left"},e)}var nA=m(1801),YN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(nA.A,YN),nA.A.locals;const rA={POLITE:"polite",ASSERTIVE:"assertive"};class ZN{constructor(e){this.editor=e,e.once("ready",()=>{for(const t of Object.values(rA))this.announce("",t)})}announce(e,t=rA.POLITE){const n=this.editor;if(!n.ui.view)return;this.view||(this.view=new JN(n.locale),n.ui.view.body.add(this.view));const{politeness:o,isUnsafeHTML:a}=typeof t=="string"?{politeness:t}:t;let l=this.view.regionViews.find(d=>d.politeness===o);l||(l=new XN(n,o),this.view.regionViews.add(l)),l.announce({announcement:e,isUnsafeHTML:a})}}class JN extends ge{constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class XN extends ge{constructor(e,t){super(e.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":t,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=t,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:t}){if(!e.trim().length)return;const n=document.createElement("li");t?this._domConverter.setContentOf(n,e):n.innerText=e,this._listElement.appendChild(n)}get _listElement(){return this.element.querySelector("ul")}}var eM=Object.defineProperty,oA=Object.getOwnPropertySymbols,tM=Object.prototype.hasOwnProperty,nM=Object.prototype.propertyIsEnumerable,iA=(r,e,t)=>e in r?eM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class rM extends Re(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const t=e.editing.view;this.editor=e,this.componentFactory=new yN(e),this.focusTracker=new kt,this.tooltipManager=new sc(e),this.poweredBy=new KN(e),this.ariaLiveAnnouncer=new ZN(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const n=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?n():this.once("ready",n)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const n=e.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let n,o;e.keystrokes.set("Alt+F10",(a,l)=>{const d=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(d)&&!Array.from(t.domRoots.values()).includes(d)&&(n=d);const h=this._getCurrentFocusedToolbarDefinition();h&&o||(o=this._getFocusableCandidateToolbarDefinitions());for(let g=0;g<o.length;g++){const p=o.shift();if(o.push(p),p!==h&&this._focusFocusableCandidateToolbar(p)){h&&h.options.afterBlur&&h.options.afterBlur();break}}l()}),e.keystrokes.set("Esc",(a,l)=>{const d=this._getCurrentFocusedToolbarDefinition();d&&(n?(n.focus(),n=null):e.editing.view.focus(),d.options.afterBlur&&d.options.afterBlur(),l())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:n,options:o}=t;(Eo(n.element)||o.beforeFocus)&&e.push(t)}return e.sort((t,n)=>sA(t)-sA(n)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:n}}=e;return n&&n(),!!Eo(t.element)&&(t.focus(),!0)}_handleScrollToTheSelection(e,t){const n=((o,a)=>{for(var l in a||(a={}))tM.call(a,l)&&iA(o,l,a[l]);if(oA)for(var l of oA(a))nM.call(a,l)&&iA(o,l,a[l]);return o})({top:0,bottom:0,left:0,right:0},this.viewportOffset);t.viewportOffset.top+=n.top,t.viewportOffset.bottom+=n.bottom,t.viewportOffset.left+=n.left,t.viewportOffset.right+=n.right}}function sA(r){const{toolbarView:e,options:t}=r;let n=10;return Eo(e.element)&&n--,t.isContextual&&n--,n}var aA=m(1185),oM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(aA.A,oM),aA.A.locals;class iM extends ge{constructor(e){super(e),this.body=new q3(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class sM extends iM{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new Zl;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}class aM extends ge{constructor(e,t,n){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function t(n){e.change(o=>{const a=e.document.getRoot(n.name);o.addClass(n.isFocused?"ck-focused":"ck-blurred",a),o.removeClass(n.isFocused?"ck-blurred":"ck-focused",a)})}e.isRenderingInProgress?function n(o){e.once("change:isRenderingInProgress",(a,l,d)=>{d?n(o):t(o)})}(this):t(this)}}class lM extends aM{constructor(e,t,n,o={}){super(e,t,n);const a=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=o.label||(()=>a("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const n=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),n)})}}class Wh extends Bl{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class lA extends Re(){constructor(e,t){super(),t&&jb(this,t),e&&this.set(e)}}var cA=m(991),cM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(cA.A,cM),cA.A.locals;var dA=m(5380),dM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(dA.A,dM),dA.A.locals;const lc=pi("px");class cc extends ee{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,n=t.document.selection.editableElement;return n?t.domConverter.mapViewToDom(n.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new P("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));const n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new P("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new P("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new Ht(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(t=>t[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new uM(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(n,o)=>!o&&n>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(n,o)=>{if(o<2)return"";const a=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[a,o])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new hM(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,n)=>!n&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:n=!0,singleViewMode:o=!1}){this.view.class=t,this.view.withArrow=n,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),o&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class uM extends ge{constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new kt,this.buttonPrevView=this._createButtonView(t("Previous"),be.previousArrow),this.buttonNextView=this._createButtonView(t("Next"),be.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",o=>o?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new Be(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}class hM extends ge{constructor(e,t){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",o=>o?"":"ck-hidden")],style:{top:n.to("top",lc),left:n.to("left",lc),width:n.to("width",lc),height:n.to("height",lc)}},children:this.content}),this.on("change:numberOfPanels",(o,a,l,d)=>{l>d?this._addPanels(l-d):this._removePanels(d-l),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new ge;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:n,height:o}=new De(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:n,height:o})}}}var uA=m(8298),mM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(uA.A,mM),uA.A.locals;const Si=pi("px");class gM extends ge{constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Ln({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",n=>n?"block":"none"),height:t.to("isSticky",n=>n?Si(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new Ln({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",n=>n?Si(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_stickyTopOffset",n=>n&&Si(n)),bottom:t.to("_stickyBottomOffset",n=>n&&Si(n)),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(C.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const e=new De(this.limiterElement);let t=e.getVisible();if(t){const n=new De(C.window);n.top+=this.viewportTopOffset,n.height-=this.viewportTopOffset,t=t.getIntersection(n)}if(t&&e.top<t.top){const n=t.top;if(n+this._contentPanelRect.height+this.limiterBottomOffset>t.bottom){const o=Math.max(e.bottom-t.bottom,0)+this.limiterBottomOffset;e.bottom-o>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(o):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(n):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=Si(-C.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=Si(-C.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new De(this.contentPanelElement)}}class pM extends ec{constructor(e,t){const n=e.t,o=Object.assign({},{showResetButton:!0,showIcon:!0,creator:rc},t);super(e,o.creator),this.label=t.label,this._viewConfig=o,this._viewConfig.showIcon&&(this.iconView=new kr,this.iconView.content=be.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Be(e),this.resetButtonView.set({label:n("Clear"),icon:be.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",a=>!a),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class fM extends ge{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",t=>!t)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class kM extends ge{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new kt,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new _n({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var hA=/[\\^$.*+?()[\]{}|]/g,bM=RegExp(hA.source);const mA=function(r){return(r=rh(r))&&bM.test(r)?r.replace(hA,"\\$&"):r};var gA=m(8107),wM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(gA.A,wM),gA.A.locals;var AM=Object.defineProperty,pA=Object.getOwnPropertySymbols,CM=Object.prototype.hasOwnProperty,vM=Object.prototype.propertyIsEnumerable,fA=(r,e,t)=>e in r?AM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class yM extends ge{constructor(e,t){super(e),this._config=t,this.filteredView=t.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new kt,this.keystrokes=new Lt,this.resultsView=new kM(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),t.infoView&&t.infoView.instance?this.infoView=t.infoView.instance:(this.infoView=new fM,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new _n({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(n,{resultsCount:o,totalItemsCount:a})=>{this.resultsCount=o,this.totalItemsCount=a}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",t.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=t=>t.stopPropagation();for(const t of this.focusableChildren)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const t=e?new RegExp(mA(e),"ig"):null,n=this.filteredView.filter(t);this.fire("search",((o,a)=>{for(var l in a||(a={}))CM.call(a,l)&&fA(o,l,a[l]);if(pA)for(var l of pA(a))vM.call(a,l)&&fA(o,l,a[l]);return o})({query:e},n))}_createSearchTextQueryView(){const e=new pM(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,t=this.infoView;function n(o,{query:a,resultsCount:l,totalItemsCount:d}){return typeof o=="function"?o(a,l,d):o}this.on("search",(o,a)=>{if(a.resultsCount)t.set({isVisible:!1});else{const l=this._config.infoView&&this._config.infoView.text;let d,h;a.totalItemsCount?l&&l.notFound?(d=l.notFound.primary,h=l.notFound.secondary):(d=e("No results found"),h=""):l&&l.noSearchableItems?(d=l.noSearchableItems.primary,h=l.noSearchableItems.secondary):(d=e("No searchable items"),h=""),t.set({primaryText:n(d,a),secondaryText:n(h,a),isVisible:!0})}})}}var kA=m(5727),_M={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(kA.A,_M),kA.A.locals;const $h=class extends yM{constructor(r,e){super(r,e),this._config=e;const t=pi("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const n=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[n.if("isVisible","ck-hidden",o=>!o),n.to("_position",o=>`ck-search__results_${o}`)],style:{width:n.to("_width",t)}}}),this.focusTracker.on("change:isFocused",(o,a,l)=>{this._updateResultsVisibility(),l?this.resultsView.element.scrollTop=0:e.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(o,a)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,a())}),this.listenTo(C.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(o,{value:a})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=a,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new De(this.queryView.fieldView.element).width;const r=$h._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:$h.defaultResultsPositions});this.resultsView._position=r?r.name:"s"}_updateResultsVisibility(){const r=this._config.queryMinChars===void 0?0:this._config.queryMinChars,e=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&e>=r}};let bA=$h;bA.defaultResultsPositions=[r=>({top:r.bottom,left:r.left,name:"s"}),(r,e)=>({top:r.top-e.height,left:r.left,name:"n"})],bA._getOptimalPosition=Dl;var wA=m(9529),xM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(wA.A,xM),wA.A.locals;var AA=m(109),EM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(AA.A,EM),AA.A.locals;var CA=m(2710),DM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(CA.A,DM),CA.A.locals;var vA=m(3344),SM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(vA.A,SM),vA.A.locals;class IM extends Be{constructor(e){super(e);const t=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",n=>String(n)),"data-cke-tooltip-disabled":t.to("isOn")},on:{mouseenter:t.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new kr;return e.content=Xl,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}var yA=m(9481),TM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(yA.A,TM),yA.A.locals;class Gh extends Di{constructor(e,t){super(e);const n=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:n.to("mouseenter")}}),this.delegate("mouseenter").to(t)}}var NM=Object.defineProperty,_A=Object.getOwnPropertySymbols,MM=Object.prototype.hasOwnProperty,BM=Object.prototype.propertyIsEnumerable,xA=(r,e,t)=>e in r?NM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,EA=(r,e)=>{for(var t in e||(e={}))MM.call(e,t)&&xA(r,t,e[t]);if(_A)for(var t of _A(e))BM.call(e,t)&&xA(r,t,e[t]);return r};const Js={toggleMenusAndFocusItemsOnHover(r){r.on("menu:mouseenter",e=>{if(r.isOpen){for(const t of r.menus){const n=e.path[0],o=n instanceof Gh&&n.children.first===t;t.isOpen=(e.path.includes(t)||o)&&t.isEnabled}e.source.focus()}})},focusCycleMenusOnArrows(r){const e=r.locale.uiLanguageDirection==="rtl";function t(n,o){const a=r.children.getIndex(n),l=n.isOpen,d=r.children.length,h=r.children.get((a+d+o)%d);n.isOpen=!1,l&&(h.isOpen=!0),h.buttonView.focus()}r.on("menu:arrowright",n=>{t(n.source,e?-1:1)}),r.on("menu:arrowleft",n=>{t(n.source,e?1:-1)})},closeMenusWhenTheBarCloses(r){r.on("change:isOpen",()=>{r.isOpen||r.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(r){r.on("menu:change:isOpen",(e,t,n)=>{n&&r.menus.filter(o=>e.source.parentMenuView===o.parentMenuView&&e.source!==o&&o.isOpen).forEach(o=>{o.isOpen=!1})})},closeOnClickOutside(r){Nl({emitter:r,activator:()=>r.isOpen,callback:()=>r.close(),contextElements:()=>r.children.map(e=>e.element)})}},Lo={openAndFocusPanelOnArrowDownKey(r){r.keystrokes.set("arrowdown",(e,t)=>{r.focusTracker.focusedElement===r.buttonView.element&&(r.isOpen||(r.isOpen=!0),r.panelView.focus(),t())})},openOnArrowRightKey(r){const e=r.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";r.keystrokes.set(e,(t,n)=>{r.focusTracker.focusedElement===r.buttonView.element&&r.isEnabled&&(r.isOpen||(r.isOpen=!0),r.panelView.focus(),n())})},openOnButtonClick(r){r.buttonView.on("execute",()=>{r.isOpen=!0,r.panelView.focus()})},toggleOnButtonClick(r){r.buttonView.on("execute",()=>{r.isOpen=!r.isOpen,r.isOpen&&r.panelView.focus()})},closeOnArrowLeftKey(r){const e=r.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";r.keystrokes.set(e,(t,n)=>{r.isOpen&&(r.isOpen=!1,r.focus(),n())})},closeOnEscKey(r){r.keystrokes.set("esc",(e,t)=>{r.isOpen&&(r.isOpen=!1,r.focus(),t())})},closeOnParentClose(r){r.parentMenuView.on("change:isOpen",(e,t,n)=>{n||e.source!==r.parentMenuView||(r.isOpen=!1)})}},jM={southEast:r=>({top:r.bottom,left:r.left,name:"se"}),southWest:(r,e)=>({top:r.bottom,left:r.left-e.width+r.width,name:"sw"}),northEast:(r,e)=>({top:r.top-e.height,left:r.left,name:"ne"}),northWest:(r,e)=>({top:r.top-e.height,left:r.left-e.width+r.width,name:"nw"}),eastSouth:r=>({top:r.top,left:r.right-5,name:"es"}),eastNorth:(r,e)=>({top:r.top-e.height,left:r.right-5,name:"en"}),westSouth:(r,e)=>({top:r.top,left:r.left-e.width+5,name:"ws"}),westNorth:(r,e)=>({top:r.top-e.height,left:r.left-e.width+5,name:"wn"})},PM=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function LM({normalizedConfig:r,locale:e,componentFactory:t}){const n=Rn(r);return function(o,a){const l=a.removeItems,d=[];a.items=a.items.filter(({menuId:h})=>!l.includes(h)||(d.push(h),!1)),Ii(a.items,h=>{h.groups=h.groups.filter(({groupId:g})=>!l.includes(g)||(d.push(g),!1));for(const g of h.groups)g.items=g.items.filter(p=>{const A=IA(p);return!l.includes(A)||(d.push(A),!1)})});for(const h of l)d.includes(h)||$("menu-bar-item-could-not-be-removed",{menuBarConfig:o,itemName:h})}(r,n),function(o,a){const l=a.addItems,d=[];for(const h of l){const g=RM(h.position),p=FM(h.position);if(OM(h))if(p){const A=a.items.findIndex(y=>y.menuId===p);A!=-1?g==="before"?(a.items.splice(A,0,h.menu),d.push(h)):g==="after"&&(a.items.splice(A+1,0,h.menu),d.push(h)):DA(a,h.menu,p,g)&&d.push(h)}else g==="start"?(a.items.unshift(h.menu),d.push(h)):g==="end"&&(a.items.push(h.menu),d.push(h));else zM(h)?Ii(a.items,A=>{if(A.menuId===p)g==="start"?(A.groups.unshift(h.group),d.push(h)):g==="end"&&(A.groups.push(h.group),d.push(h));else{const y=A.groups.findIndex(E=>E.groupId===p);y!==-1&&(g==="before"?(A.groups.splice(y,0,h.group),d.push(h)):g==="after"&&(A.groups.splice(y+1,0,h.group),d.push(h)))}}):DA(a,h.item,p,g)&&d.push(h)}for(const h of l)d.includes(h)||$("menu-bar-item-could-not-be-added",{menuBarConfig:o,addedItemConfig:h})}(r,n),function(o,a,l){Ii(a.items,d=>{for(const h of d.groups)h.items=h.items.filter(g=>{const p=typeof g=="string"&&!l.has(g);return p&&!a.isUsingDefaultConfig&&$("menu-bar-item-unavailable",{menuBarConfig:o,parentMenuConfig:Rn(d),componentName:g}),!p})})}(r,n,t),SA(r,n),function(o,a){const l=a.t,d={File:l({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:l({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:l({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:l({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:l({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:l({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:l({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:l({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:l({string:"Font",id:"MENU_BAR_MENU_FONT"})};Ii(o.items,h=>{h.label in d&&(h.label=d[h.label])})}(n,e),n}function DA(r,e,t,n){let o=!1;return Ii(r.items,a=>{for(const{groupId:l,items:d}of a.groups){if(o)return;if(l===t)n==="start"?(d.unshift(e),o=!0):n==="end"&&(d.push(e),o=!0);else{const h=d.findIndex(g=>IA(g)===t);h!==-1&&(n==="before"?(d.splice(h,0,e),o=!0):n==="after"&&(d.splice(h+1,0,e),o=!0))}}}),o}function SA(r,e){const t=e.isUsingDefaultConfig;let n=!1;e.items=e.items.filter(o=>!!o.groups.length||(Kh(r,o,t),!1)),e.items.length?(Ii(e.items,o=>{o.groups=o.groups.filter(a=>!!a.items.length||(n=!0,!1));for(const a of o.groups)a.items=a.items.filter(l=>!(TA(l)&&!l.groups.length)||(Kh(r,l,t),n=!0,!1))}),n&&SA(r,e)):Kh(r,r,t)}function Kh(r,e,t){t||$("menu-bar-menu-empty",{menuBarConfig:r,emptyMenuConfig:e})}function Ii(r,e){if(Array.isArray(r))for(const n of r)t(n);function t(n){e(n);for(const o of n.groups)for(const a of o.items)TA(a)&&t(a)}}function OM(r){return typeof r=="object"&&"menu"in r}function zM(r){return typeof r=="object"&&"group"in r}function RM(r){return r.startsWith("start")?"start":r.startsWith("end")?"end":r.startsWith("after")?"after":"before"}function FM(r){const e=r.match(/^[^:]+:(.+)/);return e?e[1]:null}function IA(r){return typeof r=="string"?r:r.menuId}function TA(r){return typeof r=="object"&&"menuId"in r}function VM(r,e){const t=e.element;r.ui.focusTracker.add(t),r.keystrokes.listenTo(t);const n=function(o){let a;return a="items"in o&&o.items?EA({items:o.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},o):EA({items:Rn(PM),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},o),a}(r.config.get("menuBar")||{});e.fillFromConfig(n,r.ui.componentFactory),r.keystrokes.set("Esc",(o,a)=>{t.contains(r.ui.focusTracker.focusedElement)&&(r.editing.view.focus(),a())}),r.keystrokes.set("Alt+F9",(o,a)=>{t.contains(r.ui.focusTracker.focusedElement)||(e.focus(),a())})}var NA=m(9108),UM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(NA.A,UM),NA.A.locals;class HM extends ge{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",t.to("position",n=>`ck-menu-bar__menu__panel_position_${n}`),t.if("isVisible","ck-hidden",n=>!n)],tabindex:"-1"},children:this.children,on:{selectstart:t.to(n=>{n.target.tagName.toLocaleLowerCase()!=="input"&&n.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}var MA=m(4),qM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(MA.A,qM),MA.A.locals;const BA=class extends ge{constructor(r){super(r);const e=this.bindTemplate;this.buttonView=new IM(r),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new HM(r),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Lt,this.focusTracker=new kt,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",e.to("class"),e.if("isEnabled","ck-disabled",t=>!t),e.if("parentMenuView","ck-menu-bar__menu_top-level",t=>!t)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),Lo.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(Lo.openOnButtonClick(this),Lo.openOnArrowRightKey(this),Lo.closeOnArrowLeftKey(this),Lo.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),Lo.openAndFocusPanelOnArrowDownKey(this),Lo.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(r,e)=>{this.fire("arrowright"),e()}),this.keystrokes.set("arrowleft",(r,e)=>{this.fire("arrowleft"),e()})}_repositionPanelOnOpen(){this.on("change:isOpen",(r,e,t)=>{if(!t)return;const n=BA._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=n?n.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:r,southWest:e,northEast:t,northWest:n,westSouth:o,eastSouth:a,westNorth:l,eastNorth:d}=jM;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[a,d,o,l]:[r,e,t,n]:this.parentMenuView?[o,l,a,d]:[e,r,n,t]}};let Ti=BA;Ti._getOptimalPosition=Dl;class Qh extends Rh{constructor(e){super(e),this.role="menu"}}var jA=m(977),WM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(jA.A,WM),jA.A.locals;class dn extends Be{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class PA extends mw{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var LA=m(497),$M={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(LA.A,$M),LA.A.locals;const OA=["mouseenter","arrowleft","arrowright","change:isOpen"];class GM extends ge{constructor(e){super(e),this.menus=[];const t=e.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":t("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,t){const n=LM({normalizedConfig:e,locale:this.locale,componentFactory:t}).items.map(o=>this._createMenu({componentFactory:t,menuDefinition:o}));this.children.addMany(n)}render(){super.render(),Js.toggleMenusAndFocusItemsOnHover(this),Js.closeMenusWhenTheBarCloses(this),Js.closeMenuWhenAnotherOnTheSameLevelOpens(this),Js.focusCycleMenusOnArrows(this),Js.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,t=null){t?(e.delegate(...OA).to(t),e.parentMenuView=t):e.delegate(...OA).to(this,n=>"menu:"+n),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:t,parentMenuView:n}){const o=this.locale,a=new Ti(o);return this.registerMenu(a,n),a.buttonView.set({label:t.label}),a.once("change:isOpen",()=>{const l=new Qh(o);l.ariaLabel=t.label,a.panelView.children.add(l),l.items.addMany(this._createMenuItems({menuDefinition:t,parentMenuView:a,componentFactory:e}))}),a}_createMenuItems({menuDefinition:e,parentMenuView:t,componentFactory:n}){const o=this.locale,a=[];for(const l of e.groups){for(const d of l.items){const h=new Gh(o,t);if(Te(d))h.children.add(this._createMenu({componentFactory:n,menuDefinition:d,parentMenuView:t}));else{const g=this._createMenuItemContentFromFactory({componentName:d,componentFactory:n,parentMenuView:t});if(!g)continue;h.children.add(g)}a.push(h)}l!==e.groups[e.groups.length-1]&&a.push(new zh(o))}return a}_createMenuItemContentFromFactory({componentName:e,parentMenuView:t,componentFactory:n}){const o=n.create(e);return o instanceof Ti||o instanceof dn||o instanceof PA?(this._registerMenuTree(o,t),o.on("execute",()=>{this.close()}),o):($("menu-bar-component-unsupported",{componentName:e,componentView:o}),null)}_registerMenuTree(e,t){if(!(e instanceof Ti))return void e.delegate("mouseenter").to(t);this.registerMenu(e,t);const n=e.panelView.children.filter(a=>a instanceof Qh)[0];if(!n)return void e.delegate("mouseenter").to(t);const o=n.items.filter(a=>a instanceof Di);for(const a of o)this._registerMenuTree(a.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(t,n,o)=>{clearTimeout(e),o?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(a=>a.isOpen)},0)})}}class KM extends rM{constructor(e,t){super(e),this.view=t,this._toolbarConfig=_w(e.config.get("toolbar")),this._elementReplacer=new CD,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const t=this.editor,n=this.view,o=t.editing.view,a=n.editable,l=o.document.getRoot();a.name=l.rootName,n.render();const d=a.element;this.setEditableElement(a.name,d),n.editable.bind("isFocused").to(this.focusTracker),o.attachDomRoot(d),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),n.menuBarView&&VM(t,n.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:t})=>t||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot(),o=e.sourceElement;let a;const l=e.config.get("placeholder");l&&(a=typeof l=="string"?l:l[this.view.editable.name]),!a&&o&&o.tagName.toLowerCase()==="textarea"&&(a=o.getAttribute("placeholder")),a&&(n.placeholder=a),ab({view:t,element:n,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,t,n){const o=this.view.stickyPanel;if(o.isSticky){const a=new De(o.element).height;t.viewportOffset.top+=a}else{const a=()=>{this.editor.editing.view.scrollToTheSelection(n)};this.listenTo(o,"change:isSticky",a),setTimeout(()=>{this.stopListening(o,"change:isSticky",a)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,t=this.editor.plugins.get("Dialog");t.on("show",()=>{const n=t.view;n.on("moveTo",(o,a)=>{if(!e.isSticky||n.wasMoved)return;const l=new De(e.contentPanelElement);a[1]<l.bottom+ic.defaultOffset&&(a[1]=l.bottom+ic.defaultOffset)},{priority:"high"})},{priority:"low"})}}var zA=m(7388),QM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(zA.A,QM),zA.A.locals;class YM extends sM{constructor(e,t,n={}){super(e),this.stickyPanel=new gM(e),this.toolbar=new Oh(e,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),n.useMenuBar&&(this.menuBarView=new GM(e)),this.editable=new lM(e,t)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class RA{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const n="error"in t?t.error:t.reason;n instanceof Error&&this._handleError(n,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(n=>n!==t)}_fire(e,...t){const n=this._listeners[e]||[];for(const o of n)o.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Yh(r,e=new Set){const t=[r],n=new Set;let o=0;for(;t.length>o;){const a=t[o++];if(!n.has(a)&&ZM(a)&&!e.has(a))if(n.add(a),Symbol.iterator in a)try{for(const l of a)t.push(l)}catch{}else for(const l in a)l!=="defaultValue"&&t.push(a[l])}return n}function ZM(r){const e=Object.prototype.toString.call(r),t=typeof r;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||r==null||r._watchdogExcluded||r instanceof EventTarget||r instanceof Event)}function FA(r,e,t=new Set){if(r===e&&typeof(n=r)=="object"&&n!==null)return!0;var n;const o=Yh(r,t),a=Yh(e,t);for(const l of o)if(a.has(l))return!0;return!1}var JM=Object.defineProperty,XM=Object.defineProperties,eB=Object.getOwnPropertyDescriptors,dc=Object.getOwnPropertySymbols,VA=Object.prototype.hasOwnProperty,UA=Object.prototype.propertyIsEnumerable,HA=(r,e,t)=>e in r?JM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Zh=(r,e)=>{for(var t in e||(e={}))VA.call(e,t)&&HA(r,t,e[t]);if(dc)for(var t of dc(e))UA.call(e,t)&&HA(r,t,e[t]);return r};class qA extends RA{constructor(e,t={}){super(t),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=ac(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(n,o)=>e.create(n,o)),this._destructor=n=>n.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],n=this._config.rootsAttributes||{},o={};for(const[h,g]of Object.entries(this._data.roots))g.isLoaded?(e[h]="",o[h]=n[h]||{}):t.push(h);const a=(l=Zh({},this._config),d={extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:o,_watchdogInitialData:this._data},XM(l,eB(d)));var l,d;return delete a.initialData,a.extraPlugins.push(tB),this._initUsingData?this.create(e,a,a.context):xo(this._elementOrData)?this.create(this._elementOrData,a,a.context):this.create(this._editables,a,a.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,n){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=n,this._creator(e,this._config))).then(o=>{this._editor=o,o.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=o.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(d=>d.isAttached()&&d.rootName!="$graveyard"),{plugins:n}=e,o=n.has("CommentsRepository")&&n.get("CommentsRepository"),a=n.has("TrackChanges")&&n.get("TrackChanges"),l={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(d=>{l.roots[d.rootName]={content:JSON.stringify(Array.from(d.getChildren())),attributes:JSON.stringify(Array.from(d.getAttributes())),isLoaded:d._isLoaded}});for(const d of e.model.markers)d._affectsData&&(l.markers[d.name]={rangeJSON:d.getRange().toJSON(),usingOperation:d._managedUsingOperations,affectsData:d._affectsData});return o&&(l.commentThreads=JSON.stringify(o.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),a&&(l.suggestions=JSON.stringify(a.getSuggestions({toJSON:!0,skipNotAttached:!0}))),l}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const n=this.editor.ui.getEditableElement(t);n&&(e[t]=n)}return e}_isErrorComingFromThisItem(e){return FA(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Vu(e,(t,n)=>xo(t)||n==="context"?t:void 0)}}class tB{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,t){if("name"in t){const n=e.createElement(t.name,t.attributes);if(t.children)for(const o of t.children)n._appendChild(this._createNode(e,o));return n}return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach(([n,{content:o,attributes:a}])=>{const l=JSON.parse(o),d=JSON.parse(a),h=t.model.document.getRoot(n);for(const[g,p]of d)e.setAttribute(g,p,h);for(const g of l){const p=this._createNode(e,g);e.insert(p,h,"end")}}),Object.entries(this._data.markers).forEach(([n,o])=>{const{document:a}=t.model,l=o,{rangeJSON:{start:d,end:h}}=l,g=((I,T)=>{var O={};for(var R in I)VA.call(I,R)&&T.indexOf(R)<0&&(O[R]=I[R]);if(I!=null&&dc)for(var R of dc(I))T.indexOf(R)<0&&UA.call(I,R)&&(O[R]=I[R]);return O})(l,["rangeJSON"]),p=a.getRoot(d.root),A=e.createPositionFromPath(p,d.path,d.stickiness),y=e.createPositionFromPath(p,h.path,h.stickiness),E=e.createRange(A,y);e.addMarker(n,Zh({range:E},g))})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach(n=>{const o=this.editor.config.get("collaboration.channelId"),a=this.editor.plugins.get("CommentsRepository");a.hasCommentThread(n.threadId)&&a.getCommentThread(n.threadId).remove(),a.addCommentThread(Zh({channelId:o},n))}),t.forEach(n=>{const o=this.editor.plugins.get("TrackChangesEditing");o.hasSuggestion(n.id)?o.getSuggestion(n.id).attributes=n.attributes:o.addSuggestionData(n)})}}const Xs=Symbol("MainQueueId");class nB{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const n=e===Xs;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const o=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(Xs),this._queues.get(e)])).then(t),a=o.catch(()=>{});return this._queues.set(e,a),o.finally(()=>{this._activeActions--,this._queues.get(e)===a&&this._activeActions===0&&this._onEmptyCallbacks.forEach(l=>l())})}}function WA(r){return Array.isArray(r)?r:[r]}class uc extends Bh(z3){constructor(e,t={}){if(!hc(e)&&t.initialData!==void 0)throw new P("editor-create-initial-data",null);super(t),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",function(l){return hc(l)?(d=l,d instanceof HTMLTextAreaElement?d.value:d.innerHTML):l;var d}(e)),hc(e)&&(this.sourceElement=e),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),o=this.config.get("menuBar"),a=new YM(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n,useMenuBar:o.isVisible});this.ui=new KM(this,a),function(l){if(!Co(l.updateSourceElement))throw new P("attachtoform-missing-elementapi-interface",l);const d=l.sourceElement;if(function(h){return!!h&&h.tagName.toLowerCase()==="textarea"}(d)&&d.form){let h;const g=d.form,p=()=>l.updateSourceElement();Co(g.submit)&&(h=g.submit,g.submit=()=>{p(),h.apply(g)}),g.addEventListener("submit",p),l.on("destroy",()=>{g.removeEventListener("submit",p),h&&(g.submit=h)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(n=>{const o=new this(e,t);n(o.initPlugins().then(()=>o.ui.init(hc(e)?e:null)).then(()=>o.data.init(o.config.get("initialData"))).then(()=>o.fire("ready")).then(()=>o))})}}function hc(r){return xo(r)}uc.Context=ob,uc.EditorWatchdog=qA,uc.ContextWatchdog=class extends RA{constructor(r,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new nB,this._watchdogConfig=e,this._creator=t=>r.create(t),this._destructor=t=>t.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(r){this._creator=r}setDestructor(r){this._destructor=r}get context(){return this._context}create(r={}){return this._actionQueues.enqueue(Xs,()=>(this._contextConfig=r,this._create()))}getItem(r){return this._getWatchdog(r)._item}getItemState(r){return this._getWatchdog(r).state}add(r){const e=WA(r);return Promise.all(e.map(t=>this._actionQueues.enqueue(t.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let n;if(this._watchdogs.has(t.id))throw new Error(`Item with the given id is already added: '${t.id}'.`);if(t.type==="editor")return n=new qA(null,this._watchdogConfig),n.setCreator(t.creator),n._setExcludedProperties(this._contextProps),t.destructor&&n.setDestructor(t.destructor),this._watchdogs.set(t.id,n),n.on("error",(o,{error:a,causesRestart:l})=>{this._fire("itemError",{itemId:t.id,error:a}),l&&this._actionQueues.enqueue(t.id,()=>new Promise(d=>{const h=()=>{n.off("restart",h),this._fire("itemRestart",{itemId:t.id}),d()};n.on("restart",h)}))}),n.create(t.sourceElementOrData,t.config,this._context);throw new Error(`Not supported item type: '${t.type}'.`)})))}remove(r){const e=WA(r);return Promise.all(e.map(t=>this._actionQueues.enqueue(t,()=>{const n=this._getWatchdog(t);return this._watchdogs.delete(t),n.destroy()})))}destroy(){return this._actionQueues.enqueue(Xs,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Xs,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(r=>{console.error("An error happened during destroying the context or items.",r)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(r=>(this._context=r,this._contextProps=Yh(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const r=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(r))})}_getWatchdog(r){const e=this._watchdogs.get(r);if(!e)throw new Error(`Item with the given id was not registered: ${r}.`);return e}_isErrorComingFromThisItem(r){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(r))return!1;return FA(this._context,r.context)}};class ea extends Rr{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;function n(o){return(a,l)=>{l.preventDefault();const d=l.dropRange?[l.dropRange]:null,h=new M(t,o);t.fire(h,{dataTransfer:l.dataTransfer,method:a.name,targetRanges:d,target:l.target,domEvent:l.domEvent}),h.stop.called&&l.stopPropagation()}}this.listenTo(t,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",n("dragging"),{priority:"low"})}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,n=e.type=="drop"||e.type=="paste",o={dataTransfer:new Ub(t,{cacheFiles:n})};e.type!="drop"&&e.type!="dragover"||(o.dropRange=function(a,l){const d=l.target.ownerDocument,h=l.clientX,g=l.clientY;let p;return d.caretRangeFromPoint&&d.caretRangeFromPoint(h,g)?p=d.caretRangeFromPoint(h,g):l.rangeParent&&(p=d.createRange(),p.setStart(l.rangeParent,l.rangeOffset),p.collapse(!0)),p?a.domConverter.domRangeToView(p):null}(this.view,e)),this.fire(e.type,e,o)}}const $A=["figcaption","li"],GA=["ol","ul"];function KA(r){if(r.is("$text")||r.is("$textProxy"))return r.data;if(r.is("element","img")&&r.hasAttribute("alt"))return r.getAttribute("alt");if(r.is("element","br"))return`
`;let e="",t=null;for(const n of r.getChildren())e+=rB(n,t)+KA(n),t=n;return e}function rB(r,e){return e?r.is("element","li")&&!r.isEmpty&&r.getChild(0).is("containerElement")||GA.includes(r.name)&&GA.includes(e.name)?`

`:r.is("containerElement")||e.is("containerElement")?$A.includes(r.name)||$A.includes(e.name)?`
`:`

`:"":""}const oB=function(r,e){return r&&Lk(r,e,Ts)},iB=function(r,e,t,n){var o=t.length,a=o;if(r==null)return!a;for(r=Object(r);o--;){var l=t[o];if(l[2]?l[1]!==r[l[0]]:!(l[0]in r))return!1}for(;++o<a;){var d=(l=t[o])[0],h=r[d],g=l[1];if(l[2]){if(h===void 0&&!(d in r))return!1}else{var p=new ui,A;if(!(A===void 0?Wl(g,h,3,n,p):A))return!1}}return!0},QA=function(r){return r==r&&!Te(r)},sB=function(r){for(var e=Ts(r),t=e.length;t--;){var n=e[t],o=r[n];e[t]=[n,o,QA(o)]}return e},YA=function(r,e){return function(t){return t!=null&&t[r]===e&&(e!==void 0||r in Object(t))}},aB=function(r){var e=sB(r);return e.length==1&&e[0][2]?YA(e[0][0],e[0][1]):function(t){return t===r||iB(t,r,e)}},lB=function(r,e){return r!=null&&e in Object(r)},cB=function(r,e,t){for(var n=-1,o=(e=Ll(e,r)).length,a=!1;++n<o;){var l=bi(e[n]);if(!(a=r!=null&&t(r,l)))break;r=r[l]}return a||++n!=o?a:!!(o=r==null?0:r.length)&&Su(o)&&Cl(l,o)&&(nn(r)||Al(r))},dB=function(r,e){return r!=null&&cB(r,e,lB)},uB=function(r,e){return th(r)&&QA(e)?YA(bi(r),e):function(t){var n=Os(t,r);return n===void 0&&n===e?dB(t,r):Wl(e,n,3)}},hB=function(r){return function(e){return e==null?void 0:e[r]}},mB=function(r){return function(e){return oh(e,r)}},gB=function(r){return th(r)?hB(bi(r)):mB(r)},pB=function(r){return typeof r=="function"?r:r==null?zr:typeof r=="object"?nn(r)?uB(r[0],r[1]):aB(r):gB(r)},fB=function(r,e){var t={};return e=pB(e),oB(r,function(n,o,a){wl(t,o,e(n,o,a))}),t};var kB=Object.defineProperty,bB=Object.defineProperties,wB=Object.getOwnPropertyDescriptors,ZA=Object.getOwnPropertySymbols,AB=Object.prototype.hasOwnProperty,CB=Object.prototype.propertyIsEnumerable,JA=(r,e,t)=>e in r?kB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class ta extends ee{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,t){this._markersToCopy.set(e,t)}_copySelectedFragmentWithMarkers(e,t,n=o=>o.model.getSelectedContent(o.model.document.selection)){return this.editor.model.change(o=>{const a=o.model.document.selection;o.setSelection(t);const l=this._insertFakeMarkersIntoSelection(o,o.model.document.selection,e),d=n(o),h=this._removeFakeMarkersInsideElement(o,d);for(const[g,p]of Object.entries(l)){h[g]||(h[g]=o.createRangeIn(d));for(const A of p)o.remove(A)}d.markers.clear();for(const[g,p]of Object.entries(h))d.markers.set(g,p);return o.setSelection(a),d})}_pasteMarkersIntoTransformedElement(e,t){const n=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(o=>{const a=this._insertFakeMarkersElements(o,n),l=t(o),d=this._removeFakeMarkersInsideElement(o,l);for(const h of Object.values(a).flat())o.remove(h);for(const[h,g]of Object.entries(d))o.model.markers.has(h)||o.addMarker(h,{usingOperation:!0,affectsData:!0,range:g});return l})}_pasteFragmentWithMarkers(e){const t=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const n of t)e.markers.set(n.name,n.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,t,n={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const o=this._markersToCopy.get(e);this._markersToCopy.set(e,n),t(),o?this._markersToCopy.set(e,o):this._markersToCopy.delete(e)}_isMarkerCopyable(e,t){const n=this._getMarkerClipboardConfig(e);if(!n)return!1;if(!t)return!0;const{allowedActions:o}=n;return o==="all"||o.includes(t)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[t]=e.split(":");return this._markersToCopy.get(t)||null}_insertFakeMarkersIntoSelection(e,t,n){const o=this._getCopyableMarkersFromSelection(e,t,n);return this._insertFakeMarkersElements(e,o)}_getCopyableMarkersFromSelection(e,t,n){const o=Array.from(t.getRanges()),a=new Set(o.flatMap(l=>Array.from(e.model.markers.getMarkersIntersectingRange(l))));return Array.from(a).filter(l=>{if(!this._isMarkerCopyable(l.name,n))return!1;const{copyPartiallySelected:d}=this._getMarkerClipboardConfig(l.name);if(!d){const h=l.getRange();return o.some(g=>g.containsRange(h,!0))}return!0}).map(l=>({name:n==="dragstart"?this._getUniqueMarkerName(l.name):l.name,range:l.getRange()}))}_getPasteMarkersFromRangeMap(e,t=null){const{model:n}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([o,a])=>{if(!this._hasMarkerConfiguration(o))return[{name:o,range:a}];if(this._isMarkerCopyable(o,t)){const l=this._getMarkerClipboardConfig(o),d=n.markers.has(o)&&n.markers.get(o).getRange().root.rootName==="$graveyard";return(l.duplicateOnPaste||d)&&(o=this._getUniqueMarkerName(o)),[{name:o,range:a}]}return[]})}_insertFakeMarkersElements(e,t){const n={},o=t.flatMap(a=>{const{start:l,end:d}=a.range;return[{position:l,marker:a,type:"start"},{position:d,marker:a,type:"end"}]}).sort(({position:a},{position:l})=>a.isBefore(l)?1:-1);for(const{position:a,marker:l,type:d}of o){const h=e.createElement("$marker",{"data-name":l.name,"data-type":d});n[l.name]||(n[l.name]=[]),n[l.name].push(h),e.insert(h,a)}return n}_removeFakeMarkersInsideElement(e,t){const n=this._getAllFakeMarkersFromElement(e,t).reduce((o,a)=>{const l=a.markerElement&&e.createPositionBefore(a.markerElement);let d=o[a.name],h=!1;d&&d.start&&d.end&&(this._getMarkerClipboardConfig(a.name).duplicateOnPaste?o[this._getUniqueMarkerName(a.name)]=o[a.name]:h=!0,d=null);var g,p;return h||(o[a.name]=(g=((A,y)=>{for(var E in y||(y={}))AB.call(y,E)&&JA(A,E,y[E]);if(ZA)for(var E of ZA(y))CB.call(y,E)&&JA(A,E,y[E]);return A})({},d),p={[a.type]:l},bB(g,wB(p)))),a.markerElement&&e.remove(a.markerElement),o},{});return fB(n,o=>new G(o.start||e.createPositionFromPath(t,[0]),o.end||e.createPositionAt(t,"end")))}_getAllFakeMarkersFromElement(e,t){const n=Array.from(e.createRangeIn(t)).flatMap(({item:l})=>{if(!l.is("element","$marker"))return[];const d=l.getAttribute("data-name"),h=l.getAttribute("data-type");return[{markerElement:l,name:d,type:h}]}),o=[],a=[];for(const l of n)l.type==="end"&&(n.some(d=>d.name===l.name&&d.type==="start")||o.push({markerElement:null,name:l.name,type:"start"})),l.type==="start"&&(n.some(d=>d.name===l.name&&d.type==="end")||a.unshift({markerElement:null,name:l.name,type:"end"}));return[...o,...n,...a]}_getUniqueMarkerName(e){const t=e.split(":"),n=z().substring(1,6);return t.length===3?`${t.slice(0,2).join(":")}:${n}`:`${t.join(":")}:${n}`}}class xn extends ee{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[ta]}init(){this.editor.editing.view.addObserver(ea),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,n){const o=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:n==="cut"},()=>{const a=o._copySelectedFragmentWithMarkers(n,t);this.fire("outputTransformation",{dataTransfer:e,content:a,method:n})})}_setupPasteDrop(){const e=this.editor,t=e.model,n=e.editing.view,o=n.document,a=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(o,"clipboardInput",(l,d)=>{d.method!="paste"||e.model.canEditAt(e.model.document.selection)||l.stop()},{priority:"highest"}),this.listenTo(o,"clipboardInput",(l,d)=>{const h=d.dataTransfer;let g;if(d.content)g=d.content;else{let y="";h.getData("text/html")?y=function(E){return E.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(I,T)=>T.length==1?" ":T).replace(/<!--[\s\S]*?-->/g,"")}(h.getData("text/html")):h.getData("text/plain")&&(((p=(p=h.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||p.includes("<br>"))&&(p=`<p>${p}</p>`),y=p),g=this.editor.data.htmlProcessor.toView(y)}var p;const A=new M(this,"inputTransformation");this.fire(A,{content:g,dataTransfer:h,targetRanges:d.targetRanges,method:d.method}),A.stop.called&&l.stop(),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(l,d)=>{if(d.content.isEmpty)return;const h=this.editor.data.toModel(d.content,"$clipboardHolder");h.childCount!=0&&(l.stop(),t.change(()=>{this.fire("contentInsertion",{content:h,method:d.method,dataTransfer:d.dataTransfer,targetRanges:d.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(l,d)=>{d.resultRange=a._pasteFragmentWithMarkers(d.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,n=e.editing.view.document,o=(a,l)=>{const d=l.dataTransfer;l.preventDefault(),this._fireOutputTransformationEvent(d,t.selection,a.name)};this.listenTo(n,"copy",o,{priority:"low"}),this.listenTo(n,"cut",(a,l)=>{e.model.canEditAt(e.model.document.selection)?o(a,l):l.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(a,l)=>{const d=e.data.toView(l.content);n.fire("clipboardOutput",{dataTransfer:l.dataTransfer,content:d,method:l.method})},{priority:"low"}),this.listenTo(n,"clipboardOutput",(a,l)=>{l.content.isEmpty||(l.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(l.content)),l.dataTransfer.setData("text/plain",KA(l.content))),l.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}class XA{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(n,o)=>{o.isLocal&&o.isUndoable&&o!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class vB extends _e{constructor(e,t){super(e),this._buffer=new XA(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,n=t.document,o=e.text||"",a=o.length;let l=n.selection;if(e.selection?l=e.selection:e.range&&(l=t.createSelection(e.range)),!t.canEditAt(l))return;const d=e.resultRange;t.enqueueChange(this._buffer.batch,h=>{this._buffer.lock();const g=Array.from(n.selection.getAttributes());t.deleteContent(l),o&&t.insertContent(h.createText(o,g),l),d?h.setSelection(d):l.is("documentSelection")||h.setSelection(l),this._buffer.unlock(),this._buffer.input(a)})}}const eC=["insertText","insertReplacementText"];class yB extends rr{constructor(e){super(e),this.focusObserver=e.getObserver($l),D.isAndroid&&eC.push("insertCompositionText");const t=e.document;t.on("beforeinput",(n,o)=>{if(!this.isEnabled)return;const{data:a,targetRanges:l,inputType:d,domEvent:h}=o;if(!eC.includes(d))return;this.focusObserver.flush();const g=new M(t,"insertText");t.fire(g,new vi(e,h,{text:a,selection:e.createSelection(l)})),g.stop.called&&n.stop()}),t.on("compositionend",(n,{data:o,domEvent:a})=>{this.isEnabled&&!D.isAndroid&&o&&t.fire("insertText",new vi(e,a,{text:o,selection:t.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class tC extends ee{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,n=e.editing.view,o=t.document.selection;n.addObserver(yB);const a=new vB(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",a),e.commands.add("input",a),this.listenTo(n.document,"insertText",(l,d)=>{n.document.isComposing||d.preventDefault();const{text:h,selection:g,resultRange:p}=d,A=Array.from(g.getRanges()).map(I=>e.editing.mapper.toModelRange(I));let y=h;if(D.isAndroid){const I=Array.from(A[0].getItems()).reduce((T,O)=>T+(O.is("$textProxy")?O.data:""),"");I&&(I.length<=y.length?y.startsWith(I)&&(y=y.substring(I.length),A[0].start=A[0].start.getShiftedBy(I.length)):I.startsWith(y)&&(A[0].start=A[0].start.getShiftedBy(y.length),y=""))}const E={text:y,selection:t.createSelection(A)};p&&(E.resultRange=e.editing.mapper.toModelRange(p)),e.execute("insertText",E),n.scrollToTheSelection()}),D.isAndroid?this.listenTo(n.document,"keydown",(l,d)=>{!o.isCollapsed&&d.keyCode==229&&n.document.isComposing&&nC(t,a)}):this.listenTo(n.document,"compositionstart",()=>{o.isCollapsed||nC(t,a)})}}function nC(r,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),r.enqueueChange(t.batch,()=>{r.deleteContent(r.document.selection)}),t.unlock()}class rC extends _e{constructor(e,t){super(e),this.direction=t,this._buffer=new XA(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,n=t.document;t.enqueueChange(this._buffer.batch,o=>{this._buffer.lock();const a=o.createSelection(e.selection||n.selection);if(!t.canEditAt(a))return;const l=e.sequence||1,d=a.isCollapsed;if(a.isCollapsed&&t.modifySelection(a,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(l))return void this._replaceEntireContentWithParagraph(o);if(this._shouldReplaceFirstBlockWithParagraph(a,l))return void this.editor.execute("paragraph",{selection:a});if(a.isCollapsed)return;let h=0;a.getFirstRange().getMinimalFlatRanges().forEach(g=>{h+=_u(g.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(a,{doNotResetEntireContent:d,direction:this.direction}),this._buffer.input(h),o.setSelection(a),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,n=t.document.selection,o=t.schema.getLimitElement(n);if(!(n.isCollapsed&&n.containsEntireContent(o))||!t.schema.checkChild(o,"paragraph"))return!1;const a=o.getChild(0);return!a||!a.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const t=this.editor.model,n=t.document.selection,o=t.schema.getLimitElement(n),a=e.createElement("paragraph");e.remove(e.createRangeIn(o)),e.insert(a,o),e.setSelection(a,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const n=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const o=e.getFirstPosition(),a=n.schema.getLimitElement(o),l=a.getChild(0);return o.parent==l&&!!e.containsEntireContent(l)&&!!n.schema.checkChild(a,"paragraph")&&l.name!="paragraph"}}const oC="word",Vr="selection",Ni="backward",na="forward",iC={deleteContent:{unit:Vr,direction:Ni},deleteContentBackward:{unit:"codePoint",direction:Ni},deleteWordBackward:{unit:oC,direction:Ni},deleteHardLineBackward:{unit:Vr,direction:Ni},deleteSoftLineBackward:{unit:Vr,direction:Ni},deleteContentForward:{unit:"character",direction:na},deleteWordForward:{unit:oC,direction:na},deleteHardLineForward:{unit:Vr,direction:na},deleteSoftLineForward:{unit:Vr,direction:na}};class _B extends rr{constructor(e){super(e);const t=e.document;let n=0;t.on("keydown",()=>{n++}),t.on("keyup",()=>{n=0}),t.on("beforeinput",(o,a)=>{if(!this.isEnabled)return;const{targetRanges:l,domEvent:d,inputType:h}=a,g=iC[h];if(!g)return;const p={direction:g.direction,unit:g.unit,sequence:n};p.unit==Vr&&(p.selectionToRemove=e.createSelection(l[0])),h==="deleteContentBackward"&&(D.isAndroid&&(p.sequence=1),function(y){if(y.length!=1||y[0].isCollapsed)return!1;const E=y[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let I=0;for(const{nextPosition:T,item:O}of E){if(T.parent.is("$text")){const R=T.parent.data,U=T.offset;if(Ku(R,U)||Qu(R,U)||Vk(R,U))continue;I++}else(O.is("containerElement")||O.is("emptyElement"))&&I++;if(I>1)return!0}return!1}(l)&&(p.unit=Vr,p.selectionToRemove=e.createSelection(l)));const A=new wi(t,"delete",l[0]);t.fire(A,new vi(e,d,p)),A.stop.called&&o.stop()}),D.isBlink&&function(o){const a=o.view,l=a.document;let d=null,h=!1;function g(A){return A==Ie.backspace||A==Ie.delete}function p(A){return A==Ie.backspace?Ni:na}l.on("keydown",(A,{keyCode:y})=>{d=y,h=!1}),l.on("keyup",(A,{keyCode:y,domEvent:E})=>{const I=l.selection,T=o.isEnabled&&y==d&&g(y)&&!I.isCollapsed&&!h;if(d=null,T){const O=I.getFirstRange(),R=new wi(l,"delete",O),U={unit:Vr,direction:p(y),selectionToRemove:I};l.fire(R,new vi(a,E,U))}}),l.on("beforeinput",(A,{inputType:y})=>{const E=iC[y];g(d)&&E&&E.direction==p(d)&&(h=!0)},{priority:"high"}),l.on("beforeinput",(A,{inputType:y,data:E})=>{d==Ie.delete&&y=="insertText"&&E==""&&A.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class Ar extends ee{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,n=t.document,o=e.model.document;t.addObserver(_B),this._undoOnBackspace=!1;const a=new rC(e,"forward");e.commands.add("deleteForward",a),e.commands.add("forwardDelete",a),e.commands.add("delete",new rC(e,"backward")),this.listenTo(n,"delete",(l,d)=>{n.isComposing||d.preventDefault();const{direction:h,sequence:g,selectionToRemove:p,unit:A}=d,y=h==="forward"?"deleteForward":"delete",E={sequence:g};if(A=="selection"){const I=Array.from(p.getRanges()).map(T=>e.editing.mapper.toModelRange(T));E.selection=e.model.createSelection(I)}else E.unit=A;e.execute(y,E),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",(l,d)=>{this._undoOnBackspace&&d.direction=="backward"&&d.sequence==1&&d.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),d.preventDefault(),l.stop())},{context:"$capture"}),this.listenTo(o,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class xB extends ee{static get requires(){return[tC,Ar]}static get pluginName(){return"Typing"}}function sC(r,e){let t=r.start;return{text:Array.from(r.getWalker({ignoreElementEnd:!1})).reduce((n,{item:o})=>o.is("$text")||o.is("$textProxy")?n+o.data:(t=e.createPositionAfter(o),""),""),range:e.createRange(t,r.end)}}class aC extends Re(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(t,{directChange:n})=>{n&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(t,n)=>{!n.isUndo&&n.isLocal&&this._evaluateTextBeforeSelection("data",{batch:n})})}_evaluateTextBeforeSelection(e,t={}){const n=this.model,o=n.document.selection,a=n.createRange(n.createPositionAt(o.focus.parent,0),o.focus),{text:l,range:d}=sC(a,n),h=this.testCallback(l);if(!h&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!h,h){const g=Object.assign(t,{text:l,range:d});typeof h=="object"&&Object.assign(g,h),this.fire(`matched:${e}`,g)}}}class lC extends ee{constructor(e){super(e),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,t=e.model,n=e.editing.view,o=e.locale,a=t.document.selection;this.listenTo(n.document,"arrowKey",(l,d)=>{if(!a.isCollapsed||d.shiftKey||d.altKey||d.ctrlKey)return;const h=d.keyCode==Ie.arrowright,g=d.keyCode==Ie.arrowleft;if(!h&&!g)return;const p=o.contentLanguageDirection;let A=!1;A=p==="ltr"&&h||p==="rtl"&&g?this._handleForwardMovement(d):this._handleBackwardMovement(d),A===!0&&l.stop()},{context:"$text",priority:"highest"}),this.listenTo(a,"change:range",(l,d)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!d.directChange&&En(a.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,n=this.editor.model,o=n.document.selection,a=o.getFirstPosition();return!this._isGravityOverridden&&(!a.isAtStart||!Cr(o,t))&&!!En(a,t)&&(oa(e),Cr(o,t)&&En(a,t,!0)?ra(n,t):this._overrideGravity(),!0)}_handleBackwardMovement(e){const t=this.attributes,n=this.editor.model,o=n.document.selection,a=o.getFirstPosition();return this._isGravityOverridden?(oa(e),this._restoreGravity(),En(a,t,!0)?ra(n,t):mc(n,t,a),!0):a.isAtStart?!!Cr(o,t)&&(oa(e),mc(n,t,a),!0):!Cr(o,t)&&En(a,t,!0)?(oa(e),mc(n,t,a),!0):!!cC(a,t)&&(a.isAtEnd&&!Cr(o,t)&&En(a,t)?(oa(e),mc(n,t,a),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const e=this.editor,t=e.model,n=t.document.selection,o=e.editing.view.document;e.editing.view.addObserver(Nh);let a=!1;this.listenTo(o,"mousedown",()=>{a=!0}),this.listenTo(o,"selectionChange",()=>{const l=this.attributes;if(!a||(a=!1,!n.isCollapsed)||!Cr(n,l))return;const d=n.getFirstPosition();En(d,l)&&(d.isAtStart||En(d,l,!0)?ra(t,l):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection,n=this.attributes;this.listenTo(e,"insertContent",()=>{const o=t.getFirstPosition();Cr(t,n)&&En(o,n)&&ra(e,n)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,t=e.model,n=t.document.selection,o=e.editing.view;let a=!1,l=!1;this.listenTo(o.document,"delete",(d,h)=>{a=h.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{if(!a)return;const d=n.getFirstPosition();l=Cr(n,this.attributes)&&!cC(d,this.attributes)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{a&&(a=!1,l||e.model.enqueueChange(()=>{const d=n.getFirstPosition();Cr(n,this.attributes)&&En(d,this.attributes)&&(d.isAtStart||En(d,this.attributes,!0)?ra(t,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Cr(r,e){for(const t of e)if(r.hasAttribute(t))return!0;return!1}function mc(r,e,t){const n=t.nodeBefore;r.change(o=>{if(n){const a=[],l=r.schema.isObject(n)&&r.schema.isInline(n);for(const[d,h]of n.getAttributes())!r.schema.checkAttribute("$text",d)||l&&r.schema.getAttributeProperties(d).copyFromObject===!1||a.push([d,h]);o.setSelectionAttribute(a)}else o.removeSelectionAttribute(e)})}function ra(r,e){r.change(t=>{t.removeSelectionAttribute(e)})}function oa(r){r.preventDefault()}function cC(r,e){return En(r.getShiftedBy(-1),e)}function En(r,e,t=!1){const{nodeBefore:n,nodeAfter:o}=r;for(const a of e){const l=n?n.getAttribute(a):void 0,d=o?o.getAttribute(a):void 0;if((!t||l!==void 0&&d!==void 0)&&d!==l)return!0}return!1}const dC={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:Mi('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:Mi("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:Mi("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:Mi('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:Mi('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:Mi("'"),to:[null,"‚",null,"’"]}},uC={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},EB=["symbols","mathematical","typography","quotes"];function DB(r){return typeof r=="string"?new RegExp(`(${mA(r)})$`):r}function SB(r){return typeof r=="string"?()=>[r]:r instanceof Array?()=>r:r}function IB(r){return(r.textNode?r.textNode:r.nodeAfter).getAttributes()}function Mi(r){return new RegExp(`(^|\\s)(${r})([^${r}]*)(${r})$`)}function gc(r,e,t,n){return n.createRange(hC(r,e,t,!0,n),hC(r,e,t,!1,n))}function hC(r,e,t,n,o){let a=r.textNode||(n?r.nodeBefore:r.nodeAfter),l=null;for(;a&&a.getAttribute(e)==t;)l=a,a=n?a.previousSibling:a.nextSibling;return l?o.createPositionAt(l,n?"before":"after"):r}function*mC(r,e){for(const t of e)t&&r.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}class TB extends _e{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,n=t.document.selection,o=t.schema,a=n.isCollapsed,l=n.getFirstRange(),d=l.start.parent,h=l.end.parent;if(o.isLimit(d)||o.isLimit(h))return a||d!=h||t.deleteContent(n),!1;if(a){const g=mC(e.model.schema,n.getAttributes());return gC(e,l.start),e.setSelectionAttribute(g),!0}{const g=!(l.start.isAtStart&&l.end.isAtEnd),p=d==h;if(t.deleteContent(n,{leaveUnmerged:g}),g){if(p)return gC(e,n.focus),!0;e.setSelection(h,0)}}return!1}}function gC(r,e){r.split(e),r.setSelection(e.parent.nextSibling,0)}const NB={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class pC extends rr{constructor(e){super(e);const t=this.document;let n=!1;t.on("keydown",(o,a)=>{n=a.shiftKey}),t.on("beforeinput",(o,a)=>{if(!this.isEnabled)return;let l=a.inputType;D.isSafari&&n&&l=="insertParagraph"&&(l="insertLineBreak");const d=a.domEvent,h=NB[l];if(!h)return;const g=new wi(t,"enter",a.targetRanges[0]);t.fire(g,new vi(e,d,{isSoft:h.isSoft})),g.stop.called&&o.stop()})}observe(){}stopObserving(){}}class pc extends ee{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,n=t.document,o=this.editor.t;t.addObserver(pC),e.commands.add("enter",new TB(e)),this.listenTo(n,"enter",(a,l)=>{n.isComposing||l.preventDefault(),l.isSoft||(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class MB extends _e{execute(){const e=this.editor.model,t=e.document;e.change(n=>{(function(o,a,l){const d=l.isCollapsed,h=l.getFirstRange(),g=h.start.parent,p=h.end.parent,A=g==p;if(d){const y=mC(o.schema,l.getAttributes());fC(o,a,h.end),a.removeSelectionAttribute(l.getAttributeKeys()),a.setSelectionAttribute(y)}else{const y=!(h.start.isAtStart&&h.end.isAtEnd);o.deleteContent(l,{leaveUnmerged:y}),A?fC(o,a,l.focus):y&&a.setSelection(p,0)}})(e,n,t.selection),this.fire("afterExecute",{writer:n})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=function(n,o){if(o.rangeCount>1)return!1;const a=o.anchor;if(!a||!n.checkChild(a,"softBreak"))return!1;const l=o.getFirstRange(),d=l.start.parent,h=l.end.parent;return!((Jh(d,n)||Jh(h,n))&&d!==h)}(e.schema,t.selection)}}function fC(r,e,t){const n=e.createElement("softBreak");r.insertContent(n,t),e.setSelection(n,"after")}function Jh(r,e){return!r.is("rootElement")&&(e.isLimit(r)||Jh(r.parent,e))}class BB extends ee{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,n=e.conversion,o=e.editing.view,a=o.document,l=this.editor.t;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(d,{writer:h})=>h.createEmptyElement("br")}),o.addObserver(pC),e.commands.add("shiftEnter",new MB(e)),this.listenTo(a,"enter",(d,h)=>{a.isComposing||h.preventDefault(),h.isSoft&&(e.execute("shiftEnter"),o.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:l("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class jB extends K(){constructor(){super(...arguments),this._stack=[]}add(e,t){const n=this._stack,o=n[0];this._insertDescriptor(e);const a=n[0];o===a||Xh(o,a)||this.fire("change:top",{oldDescriptor:o,newDescriptor:a,writer:t})}remove(e,t){const n=this._stack,o=n[0];this._removeDescriptor(e);const a=n[0];o===a||Xh(o,a)||this.fire("change:top",{oldDescriptor:o,newDescriptor:a,writer:t})}_insertDescriptor(e){const t=this._stack,n=t.findIndex(a=>a.id===e.id);if(Xh(e,t[n]))return;n>-1&&t.splice(n,1);let o=0;for(;t[o]&&PB(t[o],e);)o++;t.splice(o,0,e)}_removeDescriptor(e){const t=this._stack,n=t.findIndex(o=>o.id===e);n>-1&&t.splice(n,1)}}function Xh(r,e){return r&&e&&r.priority==e.priority&&fc(r.classes)==fc(e.classes)}function PB(r,e){return r.priority>e.priority||!(r.priority<e.priority)&&fc(r.classes)>fc(e.classes)}function fc(r){return Array.isArray(r)?r.sort().join(","):r}const LB='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',OB="ck-widget",kC="ck-widget_selected";function lt(r){return!!r.is("element")&&!!r.getCustomProperty("widget")}function em(r,e,t={}){if(!r.is("containerElement"))throw new P("widget-to-widget-wrong-element-type",null,{element:r});return e.setAttribute("contenteditable","false",r),e.addClass(OB,r),e.setCustomProperty("widget",!0,r),r.getFillerOffset=FB,e.setCustomProperty("widgetLabel",[],r),t.label&&function(n,o){n.getCustomProperty("widgetLabel").push(o)}(r,t.label),t.hasSelectionHandle&&function(n,o){const a=o.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(l){const d=this.toDomElement(l),h=new kr;return h.set("content",LB),h.render(),d.appendChild(h.element),d});o.insert(o.createPositionAt(n,0),a),o.addClass(["ck-widget_with-selection-handle"],n)}(r,e),bC(r,e),r}function zB(r,e,t){if(e.classes&&t.addClass(He(e.classes),r),e.attributes)for(const n in e.attributes)t.setAttribute(n,e.attributes[n],r)}function RB(r,e,t){if(e.classes&&t.removeClass(He(e.classes),r),e.attributes)for(const n in e.attributes)t.removeAttribute(n,r)}function bC(r,e,t=zB,n=RB){const o=new jB;o.on("change:top",(a,l)=>{l.oldDescriptor&&n(r,l.oldDescriptor,l.writer),l.newDescriptor&&t(r,l.newDescriptor,l.writer)}),e.setCustomProperty("addHighlight",(a,l,d)=>o.add(l,d),r),e.setCustomProperty("removeHighlight",(a,l,d)=>o.remove(l,d),r)}function wC(r,e,t={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],r),e.setAttribute("role","textbox",r),e.setAttribute("tabindex","-1",r),t.label&&e.setAttribute("aria-label",t.label,r),e.setAttribute("contenteditable",r.isReadOnly?"false":"true",r),r.on("change:isReadOnly",(n,o,a)=>{e.setAttribute("contenteditable",a?"false":"true",r)}),r.on("change:isFocused",(n,o,a)=>{a?e.addClass("ck-editor__nested-editable_focused",r):e.removeClass("ck-editor__nested-editable_focused",r)}),bC(r,e),r}function AC(r,e){const t=r.getSelectedElement();if(t){const n=Ur(r);if(n)return e.createRange(e.createPositionAt(t,n))}return e.schema.findOptimalInsertionRange(r)}function FB(){return null}const vr="widget-type-around";function Oo(r,e,t){return!!r&&lt(r)&&!t.isInline(e)}function Ur(r){return r.getAttribute(vr)}var CC=m(8508),VB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(CC.A,VB),CC.A.locals;const vC=["before","after"],UB=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,yC="ck-widget__type-around_disabled";class HB extends ee{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[pc,Ar]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(n,o,a)=>{t.change(l=>{for(const d of t.document.roots)a?l.removeClass(yC,d):l.addClass(yC,d)}),a||e.model.change(l=>{l.removeSelectionAttribute(vr)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const n=this.editor,o=n.editing.view,a=n.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(e,t),attributes:a}),o.focus(),o.scrollToTheSelection()}_listenToIfEnabled(e,t,n,o){this.listenTo(e,t,(...a)=>{this.isEnabled&&n(...a)},o)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,t=Ur(e);if(!t)return!1;const n=e.getSelectedElement();return this._insertParagraph(n,t),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,n=e.locale.t,o={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(a,l,d)=>{const h=d.mapper.toViewElement(l.item);h&&Oo(h,l.item,t)&&(function(g,p,A){const y=g.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(E){const I=this.toDomElement(E);return function(T,O){for(const R of vC){const U=new Ln({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${R}`],title:O[R],"aria-hidden":"true"},children:[T.ownerDocument.importNode(UB,!0)]});T.appendChild(U.render())}}(I,p),function(T){const O=new Ln({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});T.appendChild(O.render())}(I),I});g.insert(g.createPositionAt(A,"end"),y)}(d.writer,o,h),h.getCustomProperty("widgetLabel").push(()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,n=t.document.selection,o=t.schema,a=e.editing.view;function l(d){return`ck-widget_type-around_show-fake-caret_${d}`}this._listenToIfEnabled(a.document,"arrowKey",(d,h)=>{this._handleArrowKeyPress(d,h)},{context:[lt,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",(d,h)=>{h.directChange&&e.model.change(g=>{g.removeSelectionAttribute(vr)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const d=n.getSelectedElement();d&&Oo(e.editing.mapper.toViewElement(d),d,o)||e.model.change(h=>{h.removeSelectionAttribute(vr)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(d,h,g)=>{const p=g.writer;if(this._currentFakeCaretModelElement){const I=g.mapper.toViewElement(this._currentFakeCaretModelElement);I&&(p.removeClass(vC.map(l),I),this._currentFakeCaretModelElement=null)}const A=h.selection.getSelectedElement();if(!A)return;const y=g.mapper.toViewElement(A);if(!Oo(y,A,o))return;const E=Ur(h.selection);E&&(p.addClass(l(E),y),this._currentFakeCaretModelElement=A)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(d,h,g)=>{g||e.model.change(p=>{p.removeSelectionAttribute(vr)})})}_handleArrowKeyPress(e,t){const n=this.editor,o=n.model,a=o.document.selection,l=o.schema,d=n.editing.view,h=function(A,y){const E=qu(A,y);return E==="down"||E==="right"}(t.keyCode,n.locale.contentLanguageDirection),g=d.document.selection.getSelectedElement();let p;Oo(g,n.editing.mapper.toModelElement(g),l)?p=this._handleArrowKeyPressOnSelectedWidget(h):a.isCollapsed?p=this._handleArrowKeyPressWhenSelectionNextToAWidget(h):t.shiftKey||(p=this._handleArrowKeyPressWhenNonCollapsedSelection(h)),p&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const t=this.editor.model,n=Ur(t.document.selection);return t.change(o=>n?n!==(e?"after":"before")?(o.removeSelectionAttribute(vr),!0):!1:(o.setSelectionAttribute(vr,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,n=t.model,o=n.schema,a=t.plugins.get("Widget"),l=a._getObjectElementNextToSelection(e);return!!Oo(t.editing.mapper.toViewElement(l),l,o)&&(n.change(d=>{a._setSelectionOverElement(l),d.setSelectionAttribute(vr,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,n=t.model,o=n.schema,a=t.editing.mapper,l=n.document.selection,d=e?l.getLastPosition().nodeBefore:l.getFirstPosition().nodeAfter;return!!Oo(a.toViewElement(d),d,o)&&(n.change(h=>{h.setSelection(d,"on"),h.setSelectionAttribute(vr,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(n,o)=>{const a=o.domTarget.closest(".ck-widget__type-around__button");if(!a)return;const l=function(g){return g.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(a),d=function(g,p){const A=g.closest(".ck-widget");return p.mapDomToView(A)}(a,t.domConverter),h=e.editing.mapper.toModelElement(d);this._insertParagraph(h,l),o.preventDefault(),n.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,n=e.editing.view;this._listenToIfEnabled(n.document,"enter",(o,a)=>{if(o.eventPhase!="atTarget")return;const l=t.getSelectedElement(),d=e.editing.mapper.toViewElement(l),h=e.model.schema;let g;this._insertParagraphAccordingToFakeCaretPosition()?g=!0:Oo(d,l,h)&&(this._insertParagraph(l,a.isSoft?"before":"after"),g=!0),g&&(a.preventDefault(),o.stop())},{context:lt})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(t,n)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(n.selection=e.selection)},{priority:"high"}),D.isAndroid?this._listenToIfEnabled(e,"keydown",(t,n)=>{n.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,n=e.model,o=n.schema;this._listenToIfEnabled(t.document,"delete",(a,l)=>{if(a.eventPhase!="atTarget")return;const d=Ur(n.document.selection);if(!d)return;const h=l.direction,g=n.document.selection.getSelectedElement(),p=h=="forward";if(d==="before"===p)e.execute("delete",{selection:n.createSelection(g,"on")});else{const A=o.getNearestSelectionRange(n.createPositionAt(g,d),h);if(A)if(A.isCollapsed){const y=n.createSelection(A.start);if(n.modifySelection(y,{direction:h}),y.focus.isEqual(A.start)){const E=function(I,T){let O=T;for(const R of T.getAncestors({parentFirst:!0})){if(R.childCount>1||I.isLimit(R))break;O=R}return O}(o,A.start.parent);n.deleteContent(n.createSelection(E,"on"),{doNotAutoparagraph:!0})}else n.change(E=>{E.setSelection(A),e.execute(p?"deleteForward":"delete")})}else n.change(y=>{y.setSelection(A),e.execute(p?"deleteForward":"delete")})}l.preventDefault(),a.stop()},{context:lt})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,n=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(o,[a,l])=>{if(l&&!l.is("documentSelection"))return;const d=Ur(n);return d?(o.stop(),t.change(h=>{const g=n.getSelectedElement(),p=t.createPositionAt(g,d),A=h.createSelection(p),y=t.insertContent(a,A);return h.setSelection(A),y})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(n,o)=>{const[,a,l={}]=o;if(a&&!a.is("documentSelection"))return;const d=Ur(t);d&&(l.findOptimalPosition=d,o[3]=l)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(n,[o])=>{o&&!o.is("documentSelection")||Ur(t)&&n.stop()},{priority:"high"})}}function qB(r){const e=r.model;return(t,n)=>{const o=n.keyCode==Ie.arrowup,a=n.keyCode==Ie.arrowdown,l=n.shiftKey,d=e.document.selection;if(!o&&!a)return;const h=a;if(l&&function(p,A){return!p.isCollapsed&&p.isBackward==A}(d,h))return;const g=function(p,A,y){const E=p.model;if(y){const I=A.isCollapsed?A.focus:A.getLastPosition(),T=_C(E,I,"forward");if(!T)return null;const O=E.createRange(I,T),R=xC(E.schema,O,"backward");return R?E.createRange(I,R):null}{const I=A.isCollapsed?A.focus:A.getFirstPosition(),T=_C(E,I,"backward");if(!T)return null;const O=E.createRange(T,I),R=xC(E.schema,O,"forward");return R?E.createRange(R,I):null}}(r,d,h);if(g){if(g.isCollapsed&&(d.isCollapsed||l))return;(g.isCollapsed||function(p,A,y){const E=p.model,I=p.view.domConverter;if(y){const W=E.createSelection(A.start);E.modifySelection(W),W.focus.isAtEnd||A.start.isEqual(W.focus)||(A=E.createRange(W.focus,A.end))}const T=p.mapper.toViewRange(A),O=I.viewRangeToDom(T),R=De.getDomRangeRects(O);let U;for(const W of R)if(U!==void 0){if(Math.round(W.top)>=U)return!1;U=Math.max(U,Math.round(W.bottom))}else U=Math.round(W.bottom);return!0}(r,g,h))&&(e.change(p=>{const A=h?g.end:g.start;if(l){const y=e.createSelection(d.anchor);y.setFocus(A),p.setSelection(y)}else p.setSelection(A)}),t.stop(),n.preventDefault(),n.stopPropagation())}}}function _C(r,e,t){const n=r.schema,o=r.createRangeIn(e.root),a=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:l,item:d,type:h}of o.getWalker({startPosition:e,direction:t})){if(n.isLimit(d)&&!n.isInline(d))return l;if(h==a&&n.isBlock(d))return null}return null}function xC(r,e,t){const n=t=="backward"?e.end:e.start;if(r.checkChild(n,"$text"))return n;for(const{nextPosition:o}of e.getWalker({direction:t}))if(r.checkChild(o,"$text"))return o;return null}var EC=m(695),WB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(EC.A,WB),EC.A.locals;class ia extends ee{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[HB,Ar]}init(){const e=this.editor,t=e.editing.view,n=t.document,o=e.t;this.editor.editing.downcastDispatcher.on("selection",(a,l,d)=>{const h=d.writer,g=l.selection;if(g.isCollapsed)return;const p=g.getSelectedElement();if(!p)return;const A=e.editing.mapper.toViewElement(p);var y;lt(A)&&d.consumable.consume(g,"selection")&&h.setSelection(h.createRangeOn(A),{fake:!0,label:(y=A,y.getCustomProperty("widgetLabel").reduce((E,I)=>typeof I=="function"?E?E+". "+I():I():E?E+". "+I:I,""))})}),this.editor.editing.downcastDispatcher.on("selection",(a,l,d)=>{this._clearPreviouslySelectedWidgets(d.writer);const h=d.writer,g=h.document.selection;let p=null;for(const A of g.getRanges())for(const y of A){const E=y.item;lt(E)&&!$B(E,p)&&(h.addClass(kC,E),this._previouslySelected.add(E),p=E)}},{priority:"low"}),t.addObserver(Nh),this.listenTo(n,"mousedown",(...a)=>this._onMousedown(...a)),this.listenTo(n,"arrowKey",(...a)=>{this._handleSelectionChangeOnArrowKeyPress(...a)},{context:[lt,"$text"]}),this.listenTo(n,"arrowKey",(...a)=>{this._preventDefaultOnArrowKeyPress(...a)},{context:"$root"}),this.listenTo(n,"arrowKey",qB(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",(a,l)=>{this._handleDelete(l.direction=="forward")&&(l.preventDefault(),a.stop())},{context:"$root"}),this.listenTo(n,"tab",(a,l)=>{a.eventPhase=="atTarget"&&(l.shiftKey||this._selectFirstNestedEditable()&&(l.preventDefault(),a.stop()))},{context:lt,priority:"low"}),this.listenTo(n,"tab",(a,l)=>{l.shiftKey&&this._selectAncestorWidget()&&(l.preventDefault(),a.stop())},{priority:"low"}),this.listenTo(n,"keydown",(a,l)=>{l.keystroke==Ie.esc&&this._selectAncestorWidget()&&(l.preventDefault(),a.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:o("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:o("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:o("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:o("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:o("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,t){const n=this.editor,o=n.editing.view,a=o.document;let l=t.target;if(t.domEvent.detail>=3)return void(this._selectBlockContent(l)&&t.preventDefault());if(function(h){let g=h;for(;g;){if(g.is("editableElement")&&!g.is("rootElement"))return!0;if(lt(g))return!1;g=g.parent}return!1}(l)||!lt(l)&&(l=l.findAncestor(lt),!l))return;D.isAndroid&&t.preventDefault(),a.isFocused||o.focus();const d=n.editing.mapper.toModelElement(l);this._setSelectionOverElement(d)}_selectBlockContent(e){const t=this.editor,n=t.model,o=t.editing.mapper,a=n.schema,l=o.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),d=function(h,g){for(const p of h.getAncestors({includeSelf:!0,parentFirst:!0})){if(g.checkChild(p,"$text"))return p;if(g.isLimit(p)&&!g.isObject(p))break}return null}(o.toModelElement(l),n.schema);return!!d&&(n.change(h=>{const g=a.isLimit(d)?null:function(y,E){const I=new mr({startPosition:y});for(const{item:T}of I){if(E.isLimit(T)||!T.is("element"))return null;if(E.checkChild(T,"$text"))return T}return null}(h.createPositionAfter(d),a),p=h.createPositionAt(d,0),A=g?h.createPositionAt(g,0):h.createPositionAt(d,"end");h.setSelection(h.createRange(p,A))}),!0)}_handleSelectionChangeOnArrowKeyPress(e,t){const n=t.keyCode,o=this.editor.model,a=o.schema,l=o.document.selection,d=l.getSelectedElement(),h=qu(n,this.editor.locale.contentLanguageDirection),g=h=="down"||h=="right",p=h=="up"||h=="down";if(d&&a.isObject(d)){const y=g?l.getLastPosition():l.getFirstPosition(),E=a.getNearestSelectionRange(y,g?"forward":"backward");return void(E&&(o.change(I=>{I.setSelection(E)}),t.preventDefault(),e.stop()))}if(!l.isCollapsed&&!t.shiftKey){const y=l.getFirstPosition(),E=l.getLastPosition(),I=y.nodeAfter,T=E.nodeBefore;return void((I&&a.isObject(I)||T&&a.isObject(T))&&(o.change(O=>{O.setSelection(g?E:y)}),t.preventDefault(),e.stop()))}if(!l.isCollapsed)return;const A=this._getObjectElementNextToSelection(g);if(A&&a.isObject(A)){if(a.isInline(A)&&p)return;this._setSelectionOverElement(A),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const n=this.editor.model,o=n.schema,a=n.document.selection.getSelectedElement();a&&o.isObject(a)&&(t.preventDefault(),e.stop())}_handleDelete(e){const t=this.editor.model.document.selection;if(!this.editor.model.canEditAt(t)||!t.isCollapsed)return;const n=this._getObjectElementNextToSelection(e);return n?(this.editor.model.change(o=>{let a=t.anchor.parent;for(;a.isEmpty;){const l=a;a=l.parent,o.remove(l)}this._setSelectionOverElement(n)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,n=t.schema,o=t.document.selection,a=t.createSelection(o);if(t.modifySelection(a,{direction:e?"forward":"backward"}),a.isEqual(o))return null;const l=e?a.focus.nodeBefore:a.focus.nodeAfter;return l&&n.isObject(l)?l:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(kC,t);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,t=this.editor.editing.view.document;for(const n of t.selection.getFirstRange().getItems())if(n.is("editableElement")){const o=e.editing.mapper.toModelElement(n);if(!o)continue;const a=e.model.createPositionAt(o,0),l=e.model.schema.getNearestSelectionRange(a,"forward");return e.model.change(d=>{d.setSelection(l)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,t=e.editing.mapper,n=e.editing.view.document.selection.getFirstPosition().parent,o=(n.is("$text")?n.parent:n).findAncestor(lt);if(!o)return!1;const a=t.toModelElement(o);return!!a&&(e.model.change(l=>{l.setSelection(a,"on")}),!0)}}function $B(r,e){return!!e&&Array.from(r.getAncestors()).includes(e)}class kc extends ee{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[cc]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",n=>{(function(o){const a=o.getSelectedElement();return!(!a||!lt(a))})(e.editing.view.document.selection)&&n.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:n,getRelatedElement:o,balloonClassName:a="ck-toolbar-container"}){if(!n.length)return void $("widget-toolbar-no-items",{toolbarId:e});const l=this.editor,d=l.t,h=new Oh(l.locale);if(h.ariaLabel=t||d("Widget toolbar"),this._toolbarDefinitions.has(e))throw new P("widget-toolbar-duplicated",this,{toolbarId:e});const g={view:h,getRelatedElement:o,balloonClassName:a,itemsConfig:n,initialized:!1};l.ui.addToolbar(h,{isContextual:!0,beforeFocus:()=>{const p=o(l.editing.view.document.selection);p&&this._showToolbar(g,p)},afterBlur:()=>{this._hideToolbar(g)}}),this._toolbarDefinitions.set(e,g)}_updateToolbarsVisibility(){let e=0,t=null,n=null;for(const o of this._toolbarDefinitions.values()){const a=o.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&a)if(this.editor.ui.focusTracker.isFocused){const l=a.getAncestors().length;l>e&&(e=l,t=a,n=o)}else this._isToolbarVisible(o)&&this._hideToolbar(o);else this._isToolbarInBalloon(o)&&this._hideToolbar(o)}n&&this._showToolbar(n,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?DC(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:SC(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const n of this._toolbarDefinitions.values())if(this._isToolbarVisible(n)){const o=n.getRelatedElement(this.editor.editing.view.document.selection);DC(this.editor,o)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function DC(r,e){const t=r.plugins.get("ContextualBalloon"),n=SC(r,e);t.updatePosition(n)}function SC(r,e){const t=r.editing.view,n=Ht.defaultPositions;return{target:t.domConverter.mapViewToDom(e),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}var IC=m(4095),GB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(IC.A,GB),IC.A.locals;const tm=pi("px");class KB extends ge{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",t=>!t)],style:{left:e.to("left",t=>tm(t)),top:e.to("top",t=>tm(t)),width:e.to("width",t=>tm(t))}}})}}class bc extends ee{constructor(){super(...arguments),this.removeDropMarkerDelayed=Gu(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=ac(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=ac(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new KB,this._domEmitter=new(Cn()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,n,o,a,l){this.removeDropMarkerDelayed.cancel();const d=TC(this.editor,e,t,n,o,a,l);if(d)return l&&l.containsRange(d)?this.removeDropMarker():void this._updateDropMarkerThrottled(d)}getFinalDropRange(e,t,n,o,a,l){const d=TC(this.editor,e,t,n,o,a,l);return this.removeDropMarker(),d}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:n})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(n);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,n=t.model.markers;t.model.change(o=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(e)||o.updateMarker("drop-target",{range:e}):o.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){const n=this.toDomElement(t);return n.append("⁠",t.createElement("span"),"⁠"),n})}_updateDropTargetLine(e){const t=this.editor.editing,n=e.start.nodeBefore,o=e.start.nodeAfter,a=e.start.parent,l=n?t.mapper.toViewElement(n):null,d=l?t.view.domConverter.mapViewToDom(l):null,h=o?t.mapper.toViewElement(o):null,g=h?t.view.domConverter.mapViewToDom(h):null,p=t.mapper.toViewElement(a);if(!p)return;const A=t.view.domConverter.mapViewToDom(p),y=this._getScrollableRect(p),{scrollX:E,scrollY:I}=C.window,T=d?new De(d):null,O=g?new De(g):null,R=new De(A).excludeScrollbarsAndBorders(),U=T?T.bottom:R.top,W=O?O.top:R.bottom,Z=C.window.getComputedStyle(A),le=U<=W?(U+W)/2:W;if(y.top<le&&le<y.bottom){const fe=R.left+parseFloat(Z.paddingLeft),we=R.right-parseFloat(Z.paddingRight),qe=Math.max(fe+E,y.left),mt=Math.min(we+E,y.right);this._dropTargetLineView.set({isVisible:!0,left:qe,top:le+I,width:mt-qe})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let n;if(this._scrollables.has(t))n=this._scrollables.get(t).domElement;else{n=function(a){let l=a;do{l=l.parentElement;const d=C.window.getComputedStyle(l).overflowY;if(d=="auto"||d=="scroll")break}while(l.tagName!="BODY");return l}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(n,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const o=new Ms(n,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:n,resizeObserver:o})}return new De(n).excludeScrollbarsAndBorders()}}function TC(r,e,t,n,o,a,l){const d=r.model,h=r.editing.mapper;let g=MC(r,e);for(;g;){if(!a){if(d.schema.checkChild(g,"$text")){if(t){const p=t[0].start,A=h.toModelPosition(p);if(!l||Array.from(l.getItems()).every(y=>d.schema.checkChild(A,y))){if(d.schema.checkChild(A,"$text"))return d.createRange(A);if(p)return wc(r,MC(r,p.parent),n,o)}}}else if(d.schema.isInline(g))return wc(r,g,n,o)}if(d.schema.isBlock(g))return wc(r,g,n,o);if(d.schema.checkChild(g,"$block")){const p=Array.from(g.getChildren()).filter(E=>E.is("element")&&!QB(r,E));let A=0,y=p.length;if(y==0)return d.createRange(d.createPositionAt(g,"end"));for(;A<y-1;){const E=Math.floor((A+y)/2);NC(r,p[E],n,o)=="before"?y=E:A=E}return wc(r,p[A],n,o)}g=g.parent}return null}function QB(r,e){const t=r.editing.mapper,n=r.editing.view.domConverter,o=t.toViewElement(e);if(!o)return!0;const a=n.mapViewToDom(o);return C.window.getComputedStyle(a).float!="none"}function wc(r,e,t,n){const o=r.model;return o.createRange(o.createPositionAt(e,NC(r,e,t,n)))}function NC(r,e,t,n){const o=r.editing.mapper,a=r.editing.view.domConverter,l=o.toViewElement(e),d=a.mapViewToDom(l),h=new De(d);return r.model.schema.isInline(e)?t<(h.left+h.right)/2?"before":"after":n<(h.top+h.bottom)/2?"before":"after"}function MC(r,e){const t=r.editing.mapper,n=r.editing.view,o=t.toModelElement(e);if(o)return o;const a=n.createPositionBefore(e),l=t.findMappedViewAncestor(a);return t.toModelElement(l)}var YB=Object.defineProperty,ZB=Object.defineProperties,JB=Object.getOwnPropertyDescriptors,BC=Object.getOwnPropertySymbols,XB=Object.prototype.hasOwnProperty,ej=Object.prototype.propertyIsEnumerable,jC=(r,e,t)=>e in r?YB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class tj extends ee{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(Cn())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(t,n,o)=>{o?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),D.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const t=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(t,"dragstart",(n,o)=>this._handleBlockDragStart(o)),this._domEmitter.listenTo(C.document,"dragover",(n,o)=>this._handleBlockDragging(o)),this._domEmitter.listenTo(C.document,"drop",(n,o)=>this._handleBlockDragging(o)),this._domEmitter.listenTo(C.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&t.setAttribute("draggable","true"),this.on("change:isEnabled",(n,o,a)=>{t.setAttribute("draggable",a?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,n=t.document.selection,o=this.editor.editing.view,a=Array.from(n.getSelectedBlocks()),l=t.createRange(t.createPositionBefore(a[0]),t.createPositionAfter(a[a.length-1]));t.change(d=>d.setSelection(l)),this._isBlockDragging=!0,o.focus(),o.getObserver(ea).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),n=e.clientY,o=document.elementFromPoint(t,n),a=this.editor.editing.view;var l,d;o&&o.closest(".ck-editor__editable")&&a.getObserver(ea).onDomEvent((l=((h,g)=>{for(var p in g||(g={}))XB.call(g,p)&&jC(h,p,g[p]);if(BC)for(var p of BC(g))ej.call(g,p)&&jC(h,p,g[p]);return h})({},e),d={type:e.type,dataTransfer:e.dataTransfer,target:o,clientX:t,clientY:n,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()},ZB(l,JB(d))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var PC=m(7793),nj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(PC.A,nj),PC.A.locals;class rj extends ee{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=Gu(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(Cn())}static get pluginName(){return"DragDrop"}static get requires(){return[xn,ia,bc,tj]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(ea),t.addObserver(Nh),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(n,o,a)=>{a?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(n,o,a)=>{a||this._finalizeDragging(!1)}),D.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,n=e.editing.view,o=n.document,a=e.plugins.get(bc);this.listenTo(o,"dragstart",(l,d)=>{if(d.target&&d.target.is("editableElement")||(this._prepareDraggedRange(d.target),!this._draggedRange))return void d.preventDefault();this._draggingUid=z(),d.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",d.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const h=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(d.dataTransfer,h,"dragstart");const{dataTransfer:g,domTarget:p,domEvent:A}=d,{clientX:y}=A;this._updatePreview({dataTransfer:g,domTarget:p,clientX:y}),d.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(o,"dragend",(l,d)=>{this._finalizeDragging(!d.dataTransfer.isCanceled&&d.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(C.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(o,"dragenter",()=>{this.isEnabled&&n.focus()}),this.listenTo(o,"dragleave",()=>{a.removeDropMarkerDelayed()}),this.listenTo(o,"dragging",(l,d)=>{if(!this.isEnabled)return void(d.dataTransfer.dropEffect="none");const{clientX:h,clientY:g}=d.domEvent;a.updateDropMarker(d.target,d.targetRanges,h,g,this._blockMode,this._draggedRange),this._draggedRange||(d.dataTransfer.dropEffect="copy"),D.isGecko||(d.dataTransfer.effectAllowed=="copy"?d.dataTransfer.dropEffect="copy":["all","copyMove"].includes(d.dataTransfer.effectAllowed)&&(d.dataTransfer.dropEffect="move")),l.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,t=e.editing.view.document,n=e.plugins.get(bc);this.listenTo(t,"clipboardInput",(o,a)=>{if(a.method!="drop")return;const{clientX:l,clientY:d}=a.domEvent,h=n.getFinalDropRange(a.target,a.targetRanges,l,d,this._blockMode,this._draggedRange);if(!h)return this._finalizeDragging(!1),void o.stop();if(this._draggedRange&&this._draggingUid!=a.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),LC(a.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(h,!0))return this._finalizeDragging(!1),void o.stop();a.targetRanges=[e.editing.mapper.toViewRange(h)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(xn);e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const o=n.targetRanges.map(a=>this.editor.editing.mapper.toModelRange(a));this.editor.model.change(a=>a.setSelection(o))},{priority:"high"}),e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const o=LC(n.dataTransfer)=="move",a=!n.resultRange||!n.resultRange.isCollapsed;this._finalizeDragging(a&&o)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,n=t.document;this.listenTo(n,"mousedown",(o,a)=>{if(D.isAndroid||!a)return;this._clearDraggableAttributesDelayed.cancel();let l=OC(a.target);if(D.isBlink&&!e.isReadOnly&&!l&&!n.selection.isCollapsed){const d=n.selection.getSelectedElement();d&&lt(d)||(l=n.selection.editableElement)}l&&(t.change(d=>{d.setAttribute("draggable","true",l)}),this._draggableElement=e.editing.mapper.toModelElement(l))}),this.listenTo(n,"mouseup",()=>{D.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const t=this.editor,n=t.model;t.plugins.get(bc).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&n.change(o=>{const a=n.createSelection(this._draggedRange);n.deleteContent(a,{doNotAutoparagraph:!0});const l=a.getFirstPosition().parent;l.isEmpty&&!n.schema.checkChild(l,"$text")&&n.schema.checkChild(l,"paragraph")&&o.insertElement("paragraph",l,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,n=t.model,o=n.document.selection,a=e?OC(e):null;if(a){const g=t.editing.mapper.toModelElement(a);this._draggedRange=ln.fromRange(n.createRangeOn(g)),this._blockMode=n.schema.isBlock(g),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(o.isCollapsed&&!o.getFirstPosition().parent.isEmpty)return;const l=Array.from(o.getSelectedBlocks()),d=o.getFirstRange();if(l.length==0)return void(this._draggedRange=ln.fromRange(d));const h=zC(n,l);if(l.length>1)this._draggedRange=ln.fromRange(h),this._blockMode=!0;else if(l.length==1){const g=d.start.isTouching(h.start)&&d.end.isTouching(h.end);this._draggedRange=ln.fromRange(g?h:d),this._blockMode=g}n.change(g=>g.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:n}){const o=this.editor.editing.view,a=o.document.selection.editableElement,l=o.domConverter.mapViewToDom(a),d=C.window.getComputedStyle(l);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=An(C.document,"div",{style:"position: fixed; left: -999999px;"}),C.document.body.appendChild(this._previewContainer));const h=new De(l);if(l.contains(t))return;const g=parseFloat(d.paddingLeft),p=An(C.document,"div");p.className="ck ck-content",p.style.width=d.width,p.style.paddingLeft=`${h.left-n+g}px`,D.isiOS&&(p.style.backgroundColor="white"),p.innerHTML=e.getData("text/html"),e.setDragImage(p,0,0),this._previewContainer.appendChild(p)}}function LC(r){return D.isGecko?r.dropEffect:["all","copyMove"].includes(r.effectAllowed)?"move":"copy"}function OC(r){if(r.is("editableElement"))return null;if(r.hasClass("ck-widget__selection-handle"))return r.findAncestor(lt);if(lt(r))return r;const e=r.findAncestor(t=>lt(t)||t.is("editableElement"));return lt(e)?e:null}function zC(r,e){const t=e[0],n=e[e.length-1],o=t.getCommonAncestor(n),a=r.createPositionBefore(t),l=r.createPositionAfter(n);if(o&&o.is("element")&&!r.schema.isLimit(o)){const d=r.createRangeOn(o),h=a.isTouching(d.start),g=l.isTouching(d.end);if(h&&g)return zC(r,[o])}return r.createRange(a,l)}class oj extends ee{static get pluginName(){return"PastePlainText"}static get requires(){return[xn]}init(){const e=this.editor,t=e.model,n=e.editing.view,o=n.document,a=t.document.selection;let l=!1;n.addObserver(ea),this.listenTo(o,"keydown",(d,h)=>{l=h.shiftKey}),e.plugins.get(xn).on("contentInsertion",(d,h)=>{(l||function(g,p){if(g.childCount>1)return!1;const A=g.getChild(0);return p.isObject(A)?!1:Array.from(A.getAttributeKeys()).length==0}(h.content,t.schema))&&t.change(g=>{const p=Array.from(a.getAttributes()).filter(([y])=>t.schema.getAttributeProperties(y).isFormatting);a.isCollapsed||t.deleteContent(a,{doNotAutoparagraph:!0}),p.push(...a.getAttributes());const A=g.createRangeIn(h.content);for(const y of A.getItems())y.is("$textProxy")&&g.setAttributes(p,y)})})}}class RC extends ee{static get pluginName(){return"Clipboard"}static get requires(){return[ta,xn,rj,oj]}init(){const e=this.editor,t=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Copy selected content"),keystroke:"CTRL+C"},{label:t("Paste content"),keystroke:"CTRL+V"},{label:t("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class ij extends _e{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!FC(e.schema,n))do if(n=n.parent,!n)return;while(!FC(e.schema,n));e.change(o=>{o.setSelection(n,"in")})}}function FC(r,e){return r.isLimit(e)&&(r.checkChild(e,"$text")||r.checkChild(e,"paragraph"))}const sj=Ps("Ctrl+A");class aj extends ee{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,t=e.t,n=e.editing.view.document;e.commands.add("selectAll",new ij(e)),this.listenTo(n,"keydown",(o,a)=>{fi(a)===sj&&(e.execute("selectAll"),a.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Select all"),keystroke:"CTRL+A"}]})}}class lj extends ee{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",()=>{const t=this._createButton(Be);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(dn))}_createButton(e){const t=this.editor,n=t.locale,o=t.commands.get("selectAll"),a=new e(t.locale),l=n.t;return a.set({label:l("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),a.bind("isEnabled").to(o,"isEnabled"),this.listenTo(a,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),a}}class cj extends ee{static get requires(){return[aj,lj]}static get pluginName(){return"SelectAll"}}var dj=Object.defineProperty,VC=Object.getOwnPropertySymbols,uj=Object.prototype.hasOwnProperty,hj=Object.prototype.propertyIsEnumerable,UC=(r,e,t)=>e in r?dj(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class HC extends _e{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,n)=>{n[1]=((a,l)=>{for(var d in l||(l={}))uj.call(l,d)&&UC(a,d,l[d]);if(VC)for(var d of VC(l))hj.call(l,d)&&UC(a,d,l[d]);return a})({},n[1]);const o=n[1];o.batchType||(o.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,n)=>{n[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,n){const o=this.editor.model,a=o.document,l=[],d=e.map(g=>g.getTransformedByOperations(n)),h=d.flat();for(const g of d){const p=g.filter(A=>A.root!=a.graveyard).filter(A=>!gj(A,h));p.length&&(mj(p),l.push(p[0]))}l.length&&o.change(g=>{g.setSelection(l,{backward:t})})}_undo(e,t){const n=this.editor.model,o=n.document;this._createdBatches.add(t);const a=e.operations.slice().filter(l=>l.isDocumentOperation);a.reverse();for(const l of a){const d=l.baseVersion+1,h=Array.from(o.history.getOperations(d)),g=GT([l.getReversed()],h,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let p of g){const A=p.affectedSelectable;A&&!n.canEditAt(A)&&(p=new ut(p.baseVersion)),t.addOperation(p),n.applyOperation(p),o.history.setOperationAsUndone(l,p)}}}}function mj(r){r.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<r.length;e++){const t=r[e-1].getJoined(r[e],!0);t&&(e--,r.splice(e,2,t))}}function gj(r,e){return e.some(t=>t!==r&&t.containsRange(r,!0))}class pj extends HC{execute(e=null){const t=e?this._stack.findIndex(a=>a.batch==e):this._stack.length-1,n=this._stack.splice(t,1)[0],o=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(o,()=>{this._undo(n.batch,o);const a=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,a)}),this.fire("revert",n.batch,o),this.refresh()}}class fj extends HC{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const n=e.batch.operations[e.batch.operations.length-1].baseVersion+1,o=this.editor.model.document.history.getOperations(n);this._restoreSelection(e.selection.ranges,e.selection.isBackward,o),this._undo(e.batch,t)}),this.refresh()}}class kj extends ee{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor,t=e.t;this._undoCommand=new pj(e),this._redoCommand=new fj(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(n,o)=>{const a=o[0];if(!a.isDocumentOperation)return;const l=a.batch,d=this._redoCommand.createdBatches.has(l),h=this._undoCommand.createdBatches.has(l);this._batchRegistry.has(l)||(this._batchRegistry.add(l),l.isUndoable&&(d?this._undoCommand.addBatch(l):h||(this._undoCommand.addBatch(l),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(n,o,a)=>{this._redoCommand.addBatch(a)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Undo"),keystroke:"CTRL+Z"},{label:t("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class bj extends ee{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,n=e.t,o=t.uiLanguageDirection=="ltr"?be.undo:be.redo,a=t.uiLanguageDirection=="ltr"?be.redo:be.undo;this._addButtonsToFactory("undo",n("Undo"),"CTRL+Z",o),this._addButtonsToFactory("redo",n("Redo"),"CTRL+Y",a)}_addButtonsToFactory(e,t,n,o){const a=this.editor;a.ui.componentFactory.add(e,()=>{const l=this._createButton(Be,e,t,n,o);return l.set({tooltip:!0}),l}),a.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(dn,e,t,n,o))}_createButton(e,t,n,o,a){const l=this.editor,d=l.locale,h=l.commands.get(t),g=new e(d);return g.set({label:n,icon:a,keystroke:o}),g.bind("isEnabled").to(h,"isEnabled"),this.listenTo(g,"execute",()=>{l.execute(t),l.editing.view.focus()}),g}}class qC extends ee{static get requires(){return[kj,bj]}static get pluginName(){return"Undo"}}class wj extends Re(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((n,o)=>{t.onload=()=>{const a=t.result;this._data=a,n(a)},t.onerror=()=>{o("error")},t.onabort=()=>{o("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class Un extends ee{constructor(){super(...arguments),this.loaders=new Pn,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[iw]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return $("filerepository-no-upload-adapter"),null;const t=new WC(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(n=>{this._loadersMap.set(n,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let n=0;for(const o of this.loaders)n+=o.uploaded;this.uploaded=n}),t.on("change:uploadTotal",()=>{let n=0;for(const o of this.loaders)o.uploadTotal&&(n+=o.uploadTotal);this.uploadTotal=n}),t}destroyLoader(e){const t=e instanceof WC?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((n,o)=>{n===t&&this._loadersMap.delete(o)})}_updatePendingAction(){const e=this.editor.plugins.get(iw);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,n=o=>`${t("Upload in progress")} ${parseInt(o)}%.`;this._pendingAction=e.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else e.remove(this._pendingAction),this._pendingAction=null}}class WC extends Re(){constructor(e,t){super(),this.id=z(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new wj,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,o)=>o?n/o*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new P("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new P("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((n,o)=>{t.rejecter=o,t.isFulfilled=!1,e.then(a=>{t.isFulfilled=!0,n(a)}).catch(a=>{t.isFulfilled=!0,o(a)})}),t}}const $C="ckCsrfToken",GC="abcdefghijklmnopqrstuvwxyz0123456789";function Aj(){let r=function(n){n=n.toLowerCase();const o=document.cookie.split(";");for(const a of o){const l=a.split("=");if(decodeURIComponent(l[0].trim().toLowerCase())===n)return decodeURIComponent(l[1])}return null}($C);var e,t;return r&&r.length==40||(r=function(n){let o="";const a=new Uint8Array(n);window.crypto.getRandomValues(a);for(let l=0;l<a.length;l++){const d=GC.charAt(a[l]%GC.length);o+=Math.random()>.5?d.toUpperCase():d}return o}(40),e=$C,t=r,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/"),r}class Cj{constructor(e,t,n){this.loader=e,this.url=t,this.t=n}upload(){return this.loader.file.then(e=>new Promise((t,n)=>{this._initRequest(),this._initListeners(t,n,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,t,n){const o=this.xhr,a=this.loader,l=(0,this.t)("Cannot upload file:")+` ${n.name}.`;o.addEventListener("error",()=>t(l)),o.addEventListener("abort",()=>t()),o.addEventListener("load",()=>{const d=o.response;if(!d||!d.uploaded)return t(d&&d.error&&d.error.message?d.error.message:l);e({default:d.url})}),o.upload&&o.upload.addEventListener("progress",d=>{d.lengthComputable&&(a.uploadTotal=d.total,a.uploaded=d.loaded)})}_sendRequest(e){const t=new FormData;t.append("upload",e),t.append("ckCsrfToken",Aj()),this.xhr.send(t)}}function Hr(r,e,t,n){let o,a=null;typeof n=="function"?o=n:(a=r.commands.get(n),o=()=>{r.execute(n)}),r.model.document.on("change:data",(l,d)=>{if(a&&!a.isEnabled||!e.isEnabled)return;const h=ft(r.model.document.selection.getRanges());if(!h.isCollapsed||d.isUndo||!d.isLocal)return;const g=Array.from(r.model.document.differ.getChanges()),p=g[0];if(g.length!=1||p.type!=="insert"||p.name!="$text"||p.length!=1)return;const A=p.position.parent;if(A.is("element","codeBlock")||A.is("element","listItem")&&typeof n!="function"&&!["numberedList","bulletedList","todoList"].includes(n)||a&&a.value===!0)return;const y=A.getChild(0),E=r.model.createRangeOn(y);if(!E.containsRange(h)&&!h.end.isEqual(E.end))return;const I=t.exec(y.data.substr(0,h.end.offset));I&&r.model.enqueueChange(T=>{const O=T.createPositionAt(A,0),R=T.createPositionAt(A,I[0].length),U=new ln(O,R);if(o({match:I})!==!1){T.remove(U);const W=r.model.document.selection.getFirstRange(),Z=T.createRangeIn(A);!A.isEmpty||Z.isEqual(W)||Z.containsRange(W,!0)||T.remove(A)}U.detach(),r.model.enqueueChange(()=>{r.plugins.get("Delete").requestUndoOnBackspace()})})})}function Bi(r,e,t,n){let o,a;t instanceof RegExp?o=t:a=t,a=a||(l=>{let d;const h=[],g=[];for(;(d=o.exec(l))!==null&&!(d&&d.length<4);){let{index:p,1:A,2:y,3:E}=d;const I=A+y+E;p+=d[0].length-I.length;const T=[p,p+A.length],O=[p+A.length+y.length,p+A.length+y.length+E.length];h.push(T),h.push(O),g.push([p+A.length,p+A.length+y.length])}return{remove:h,format:g}}),r.model.document.on("change:data",(l,d)=>{if(d.isUndo||!d.isLocal||!e.isEnabled)return;const h=r.model,g=h.document.selection;if(!g.isCollapsed)return;const p=Array.from(h.document.differ.getChanges()),A=p[0];if(p.length!=1||A.type!=="insert"||A.name!="$text"||A.length!=1)return;const y=g.focus,E=y.parent,{text:I,range:T}=function(W,Z){let le=W.start;return{text:Array.from(W.getItems()).reduce((we,qe)=>!qe.is("$text")&&!qe.is("$textProxy")||qe.getAttribute("code")?(le=Z.createPositionAfter(qe),""):we+qe.data,""),range:Z.createRange(le,W.end)}}(h.createRange(h.createPositionAt(E,0),y),h),O=a(I),R=KC(T.start,O.format,h),U=KC(T.start,O.remove,h);R.length&&U.length&&h.enqueueChange(W=>{if(n(W,R)!==!1){for(const Z of U.reverse())W.remove(Z);h.enqueueChange(()=>{r.plugins.get("Delete").requestUndoOnBackspace()})}})})}function KC(r,e,t){return e.filter(n=>n[0]!==void 0&&n[1]!==void 0).map(n=>t.createRange(r.getShiftedBy(n[0]),r.getShiftedBy(n[1])))}function Ac(r,e){return(t,n)=>{if(!r.commands.get(e).isEnabled)return!1;const o=r.model.schema.getValidRanges(n,e);for(const a of o)t.setAttribute(e,!0,a);t.removeSelectionAttribute(e)}}class QC extends _e{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,n=t.document.selection,o=e.forceValue===void 0?!this.value:e.forceValue;t.change(a=>{if(n.isCollapsed)o?a.setSelectionAttribute(this.attributeKey,!0):a.removeSelectionAttribute(this.attributeKey);else{const l=t.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const d of l)o?a.setAttribute(this.attributeKey,o,d):a.removeAttribute(this.attributeKey,d)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const o of n.getRanges())for(const a of o.getItems())if(t.checkAttribute(a,this.attributeKey))return a.hasAttribute(this.attributeKey);return!1}}const ji="bold";class vj extends ee{static get pluginName(){return"BoldEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:ji}),e.model.schema.setAttributeProperties(ji,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:ji,view:"strong",upcastAlso:["b",n=>{const o=n.getStyle("font-weight");return o&&(o=="bold"||Number(o)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(ji,new QC(e,ji)),e.keystrokes.set("CTRL+B",ji),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Bold text"),keystroke:"CTRL+B"}]})}}function YC({editor:r,commandName:e,plugin:t,icon:n,label:o,keystroke:a}){return l=>{const d=r.commands.get(e),h=new l(r.locale);return h.set({label:o,icon:n,keystroke:a,isToggleable:!0}),h.bind("isEnabled").to(d,"isEnabled"),t.listenTo(h,"execute",()=>{r.execute(e),r.editing.view.focus()}),h}}const Cc="bold";class yj extends ee{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.locale.t,n=e.commands.get(Cc),o=YC({editor:e,commandName:Cc,plugin:this,icon:be.bold,label:t("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(Cc,()=>{const a=o(Be);return a.set({tooltip:!0}),a.bind("isOn").to(n,"value"),a}),e.ui.componentFactory.add("menuBar:"+Cc,()=>o(dn))}}var ZC=m(4199),_j={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(ZC.A,_j),ZC.A.locals;const Pi="italic";class xj extends ee{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Pi}),e.model.schema.setAttributeProperties(Pi,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Pi,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Pi,new QC(e,Pi)),e.keystrokes.set("CTRL+I",Pi),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Italic text"),keystroke:"CTRL+I"}]})}}const vc="italic";class Ej extends ee{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.commands.get(vc),n=e.locale.t,o=YC({editor:e,commandName:vc,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:n("Italic")});e.ui.componentFactory.add(vc,()=>{const a=o(Be);return a.set({tooltip:!0}),a.bind("isOn").to(t,"value"),a}),e.ui.componentFactory.add("menuBar:"+vc,()=>o(dn))}}class Dj extends _e{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.schema,o=t.document.selection,a=Array.from(o.getSelectedBlocks()),l=e.forceValue===void 0?!this.value:e.forceValue;t.change(d=>{if(l){const h=a.filter(g=>yc(g)||XC(n,g));this._applyQuote(d,h)}else this._removeQuote(d,a.filter(yc))})}_getValue(){const e=ft(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!yc(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=ft(e.getSelectedBlocks());return!!n&&XC(t,n)}_removeQuote(e,t){JC(e,t).reverse().forEach(n=>{if(n.start.isAtStart&&n.end.isAtEnd)return void e.unwrap(n.start.parent);if(n.start.isAtStart){const a=e.createPositionBefore(n.start.parent);return void e.move(n,a)}n.end.isAtEnd||e.split(n.end);const o=e.createPositionAfter(n.end.parent);e.move(n,o)})}_applyQuote(e,t){const n=[];JC(e,t).reverse().forEach(o=>{let a=yc(o.start);a||(a=e.createElement("blockQuote"),e.wrap(o,a)),n.push(a)}),n.reverse().reduce((o,a)=>o.nextSibling==a?(e.merge(e.createPositionAfter(o)),o):a)}}function yc(r){return r.parent.name=="blockQuote"?r.parent:null}function JC(r,e){let t,n=0;const o=[];for(;n<e.length;){const a=e[n],l=e[n+1];t||(t=r.createPositionBefore(a)),l&&a.nextSibling==l||(o.push(r.createRange(t,r.createPositionAfter(a))),t=null),n++}return o}function XC(r,e){const t=r.checkChild(e.parent,"blockQuote"),n=r.checkChild(["$root","blockQuote"],e);return t&&n}class Sj extends ee{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[pc,Ar]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new Dj(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(l=>{const d=e.model.document.differ.getChanges();for(const h of d)if(h.type=="insert"){const g=h.position.nodeAfter;if(!g)continue;if(g.is("element","blockQuote")&&g.isEmpty)return l.remove(g),!0;if(g.is("element","blockQuote")&&!t.checkChild(h.position,g))return l.unwrap(g),!0;if(g.is("element")){const p=l.createRangeIn(g);for(const A of p.getItems())if(A.is("element","blockQuote")&&!t.checkChild(l.createPositionBefore(A),A))return l.unwrap(A),!0}}else if(h.type=="remove"){const g=h.position.parent;if(g.is("element","blockQuote")&&g.isEmpty)return l.remove(g),!0}return!1});const n=this.editor.editing.view.document,o=e.model.document.selection,a=e.commands.get("blockQuote");this.listenTo(n,"enter",(l,d)=>{!o.isCollapsed||!a.value||o.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),d.preventDefault(),l.stop())},{context:"blockquote"}),this.listenTo(n,"delete",(l,d)=>{if(d.direction!="backward"||!o.isCollapsed||!a.value)return;const h=o.getLastPosition().parent;h.isEmpty&&!h.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),d.preventDefault(),l.stop())},{context:"blockquote"})}}var ev=m(8708),Ij={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(ev.A,Ij),ev.A.locals;class Tj extends ee{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,t=e.commands.get("blockQuote");e.ui.componentFactory.add("blockQuote",()=>{const n=this._createButton(Be);return n.set({tooltip:!0}),n.bind("isOn").to(t,"value"),n}),e.ui.componentFactory.add("menuBar:blockQuote",()=>this._createButton(dn))}_createButton(e){const t=this.editor,n=t.locale,o=t.commands.get("blockQuote"),a=new e(t.locale),l=n.t;return a.set({label:l("Block quote"),icon:be.quote,isToggleable:!0}),a.bind("isEnabled").to(o,"isEnabled"),this.listenTo(a,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),a}}class Nj extends ee{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor;if(!e.commands.get("ckbox"))return;const t=e.t,n=e.ui.componentFactory;if(n.add("ckbox",()=>{const o=this._createButton(Be);return o.tooltip=!0,o}),n.add("menuBar:ckbox",()=>this._createButton(dn)),e.plugins.has("ImageInsertUI")){const o=e.plugins.get("ImageInsertUI");o.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckbox"),buttonViewCreator:()=>{const a=this.editor.ui.componentFactory.create("ckbox");return a.icon=be.imageAssetManager,a.bind("label").to(o,"isImageSelected",l=>t(l?"Replace image with file manager":"Insert image with file manager")),a},formViewCreator:()=>{const a=this.editor.ui.componentFactory.create("ckbox");return a.icon=be.imageAssetManager,a.withText=!0,a.bind("label").to(o,"isImageSelected",l=>t(l?"Replace with file manager":"Insert with file manager")),a.on("execute",()=>{o.dropdownView.isOpen=!1}),a}})}}_createButton(e){const t=this.editor,n=t.locale,o=new e(n),a=t.commands.get("ckbox"),l=n.t;return o.set({label:l("Open file manager"),icon:be.browseFiles}),o.bind("isOn","isEnabled").to(a,"value","isEnabled"),o.on("execute",()=>{t.execute("ckbox")}),o}}var Mj=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],sa=r=>{let e=0;for(let t=0;t<r.length;t++){let n=r[t];e=83*e+Mj.indexOf(n)}return e},nm=r=>{let e=r/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},rm=r=>{let e=Math.max(0,Math.min(1,r));return e<=.0031308?Math.trunc(12.92*e*255+.5):Math.trunc(255*(1.055*Math.pow(e,.4166666666666667)-.055)+.5)},om=(r,e)=>(t=>t<0?-1:1)(r)*Math.pow(Math.abs(r),e),tv=class extends Error{constructor(r){super(r),this.name="ValidationError",this.message=r}},Bj=r=>{if(!r||r.length<6)throw new tv("The blurhash string must be at least 6 characters");let e=sa(r[0]),t=Math.floor(e/9)+1,n=e%9+1;if(r.length!==4+2*n*t)throw new tv(`blurhash length mismatch: length is ${r.length} but it should be ${4+2*n*t}`)},jj=r=>{let e=r>>8&255,t=255&r;return[nm(r>>16),nm(e),nm(t)]},Pj=(r,e)=>{let t=Math.floor(r/361),n=Math.floor(r/19)%19,o=r%19;return[om((t-9)/9,2)*e,om((n-9)/9,2)*e,om((o-9)/9,2)*e]},Lj=(r,e,t,n)=>{Bj(r),n|=1;let o=sa(r[0]),a=Math.floor(o/9)+1,l=o%9+1,d=(sa(r[1])+1)/166,h=new Array(l*a);for(let A=0;A<h.length;A++)if(A===0){let y=sa(r.substring(2,6));h[A]=jj(y)}else{let y=sa(r.substring(4+2*A,6+2*A));h[A]=Pj(y,d*n)}let g=4*e,p=new Uint8ClampedArray(g*t);for(let A=0;A<t;A++)for(let y=0;y<e;y++){let E=0,I=0,T=0;for(let W=0;W<a;W++)for(let Z=0;Z<l;Z++){let le=Math.cos(Math.PI*y*Z/e)*Math.cos(Math.PI*A*W/t),fe=h[Z+W*l];E+=fe[0]*le,I+=fe[1]*le,T+=fe[2]*le}let O=rm(E),R=rm(I),U=rm(T);p[4*y+0+A*g]=O,p[4*y+1+A*g]=R,p[4*y+2+A*g]=U,p[4*y+3+A*g]=255}return p},Oj=Object.defineProperty,nv=Object.getOwnPropertySymbols,zj=Object.prototype.hasOwnProperty,Rj=Object.prototype.propertyIsEnumerable,rv=(r,e,t)=>e in r?Oj(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;function ov(r){const e=[];let t=0;for(const o in r){const a=parseInt(o,10);isNaN(a)||(a>t&&(t=a),e.push(`${r[o]} ${o}w`))}const n=[{srcset:e.join(","),sizes:`(max-width: ${t}px) 100vw, ${t}px`,type:"image/webp"}];return{imageFallbackUrl:r.default,imageSources:n}}const aa=32;function iv({url:r,method:e="GET",data:t,onUploadProgress:n,signal:o,authorization:a}){const l=new XMLHttpRequest;l.open(e,r.toString()),l.setRequestHeader("Authorization",a),l.setRequestHeader("CKBox-Version","CKEditor 5"),l.responseType="json";const d=()=>{l.abort()};return new Promise((h,g)=>{o.throwIfAborted(),o.addEventListener("abort",d),l.addEventListener("loadstart",()=>{o.addEventListener("abort",d)}),l.addEventListener("loadend",()=>{o.removeEventListener("abort",d)}),l.addEventListener("error",()=>{g()}),l.addEventListener("abort",()=>{g()}),l.addEventListener("load",()=>{const p=l.response;if(!p||p.statusCode>=400)return g(p&&p.message);h(p)}),n&&l.upload.addEventListener("progress",p=>{n(p)}),l.send(t)})}const Fj={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};function Vj(r,e){return t=this,n=null,o=function*(){try{const a=yield fetch(r,((l,d)=>{for(var h in d||(d={}))zj.call(d,h)&&rv(l,h,d[h]);if(nv)for(var h of nv(d))Rj.call(d,h)&&rv(l,h,d[h]);return l})({method:"HEAD",cache:"force-cache"},e));return a.ok&&a.headers.get("content-type")||""}catch{return""}},new Promise((a,l)=>{var d=p=>{try{g(o.next(p))}catch(A){l(A)}},h=p=>{try{g(o.throw(p))}catch(A){l(A)}},g=p=>p.done?a(p.value):Promise.resolve(p.value).then(d,h);g((o=o.apply(t,n)).next())});var t,n,o}var Uj=Object.defineProperty,sv=Object.getOwnPropertySymbols,Hj=Object.prototype.hasOwnProperty,qj=Object.prototype.propertyIsEnumerable,av=(r,e,t)=>e in r?Uj(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,lv=(r,e)=>{for(var t in e||(e={}))Hj.call(e,t)&&av(r,t,e[t]);if(sv)for(var t of sv(e))qj.call(e,t)&&av(r,t,e[t]);return r};class Wj extends _e{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");return!(!e.isEnabled&&!t.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,forceDemoLabel:e.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:t=>this.fire("ckbox:choose",t)}}}_initListeners(){const e=this.editor,t=e.model,n=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=An(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,e.editing.view.focus())}),this.on("ckbox:choose",(o,a)=>{if(!this.isEnabled)return;const l=e.commands.get("insertImage"),d=e.commands.get("link"),h=function({assets:p,isImageAllowed:A,isLinkAllowed:y}){return p.map(E=>function(I){const T=I.data.metadata;return T?T.width&&T.height:!1}(E)?{id:E.data.id,type:"image",attributes:$j(E)}:{id:E.data.id,type:"link",attributes:Gj(E)}).filter(E=>E.type==="image"?A:y)}({assets:a,isImageAllowed:l.isEnabled,isLinkAllowed:d.isEnabled}),g=h.length;g!==0&&(t.change(p=>{for(const A of h){const y=A===h[g-1],E=g===1;this._insertAsset(A,y,p,E),n&&(setTimeout(()=>this._chosenAssets.delete(A),1e3),this._chosenAssets.add(A))}}),e.editing.view.focus())}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,t,n,o){const a=this.editor.model.document.selection;n.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,n,o),t||n.setSelection(a.getLastPosition())}_insertImage(e){const t=this.editor,{imageFallbackUrl:n,imageSources:o,imageTextAlternative:a,imageWidth:l,imageHeight:d,imagePlaceholder:h}=e.attributes;t.execute("insertImage",{source:lv({src:n,sources:o,alt:a,width:l,height:d},h?{placeholder:h}:null)})}_insertLink(e,t,n){const o=this.editor,a=o.model,l=a.document.selection,{linkName:d,linkHref:h}=e.attributes;if(l.isCollapsed){const g=er(l.getAttributes()),p=t.createText(d,g);if(!n){const y=l.getLastPosition(),E=y.parent;E.name==="paragraph"&&E.isEmpty||o.execute("insertParagraph",{position:y});const I=a.insertContent(p);return t.setSelection(I),void o.execute("link",h)}const A=a.insertContent(p);t.setSelection(A)}o.execute("link",h)}}function $j(r){const{imageFallbackUrl:e,imageSources:t}=ov(r.data.imageUrls),{description:n,width:o,height:a,blurHash:l}=r.data.metadata,d=function(h){if(h)try{const g=`${aa}px`,p=document.createElement("canvas");p.setAttribute("width",g),p.setAttribute("height",g);const A=p.getContext("2d");if(!A)return;const y=A.createImageData(aa,aa),E=Lj(h,aa,aa);return y.data.set(E),A.putImageData(y,0,0),p.toDataURL()}catch{return}}(l);return lv({imageFallbackUrl:e,imageSources:t,imageTextAlternative:n||"",imageWidth:o,imageHeight:a},d?{imagePlaceholder:d}:null)}function Gj(r){return{linkName:r.data.name,linkHref:Kj(r)}}function Kj(r){const e=new URL(r.data.url);return e.searchParams.set("download","true"),e.toString()}var im=(r,e,t)=>new Promise((n,o)=>{var a=h=>{try{d(t.next(h))}catch(g){o(g)}},l=h=>{try{d(t.throw(h))}catch(g){o(g)}},d=h=>h.done?n(h.value):Promise.resolve(h.value).then(a,l);d((t=t.apply(r,e)).next())});class cv extends ee{static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}init(){return im(this,null,function*(){const e=this.editor,t=!!e.config.get("ckbox"),n=!!window.CKBox;if(!t&&!n)return;e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"lark",tokenUrl:e.config.get("cloudServices.tokenUrl")});const o=e.plugins.get("CloudServices"),a=e.config.get("cloudServices.tokenUrl"),l=e.config.get("ckbox.tokenUrl");if(!l)throw new P("ckbox-plugin-missing-token-url",this);this._token=l==a?o.token:yield o.registerTokenUrl(l)})}getToken(){return this._token}getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),t=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),n=function(o,a){const[,l]=o.value.split("."),d=JSON.parse(atob(l)),h=d.auth&&d.auth.ckbox&&d.auth.ckbox.workspaces||[d.aud];return a?(d.auth&&d.auth.ckbox&&d.auth.ckbox.role)=="superadmin"||h.includes(a)?a:null:h[0]}(this._token,t);if(n==null)throw ae("ckbox-access-default-workspace-error"),e;return n}getCategoryIdForFile(e,t){return im(this,null,function*(){const n=(0,this.editor.t)("Cannot determine a category for the uploaded file."),o=this.editor.config.get("ckbox.defaultUploadCategories"),a=this._getAvailableCategories(t),l=typeof e=="string"?(d=yield Vj(e,t),Fj[d]):function(p){const A=p.name,y=new RegExp("\\.(?<ext>[^.]+)$");return A.match(y).groups.ext.toLowerCase()}(e);var d;const h=yield a;if(!h)throw n;if(o){const p=Object.keys(o).find(A=>o[A].find(y=>y.toLowerCase()==l));if(p){const A=h.find(y=>y.id===p||y.name===p);if(!A)throw n;return A.id}}const g=h.find(p=>p.extensions.find(A=>A.toLowerCase()==l));if(!g)throw n;return g.id})}_getAvailableCategories(e){return im(this,null,function*(){const t=this.editor,n=this._token,{signal:o}=e,a=t.config.get("ckbox.serviceOrigin"),l=this.getWorkspaceId();try{const h=[];let g,p=0;do{const A=yield d(p);h.push(...A.items),g=A.totalCount-(p+50),p+=50}while(g>0);return h}catch{return o.throwIfAborted(),void ae("ckbox-fetch-category-http-error")}function d(h){const g=new URL("categories",a);return g.searchParams.set("limit","50"),g.searchParams.set("offset",h.toString()),g.searchParams.set("workspaceId",l),iv({url:g,signal:o,authorization:n.value})}})}}var sm=(r,e,t)=>new Promise((n,o)=>{var a=h=>{try{d(t.next(h))}catch(g){o(g)}},l=h=>{try{d(t.throw(h))}catch(g){o(g)}},d=h=>h.done?n(h.value):Promise.resolve(h.value).then(a,l);d((t=t.apply(r,e)).next())});class Qj extends ee{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Un,dv]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return sm(this,null,function*(){const e=this.editor,t=!!e.config.get("ckbox"),n=!!window.CKBox;if(!t&&!n)return;const o=e.plugins.get(Un),a=e.plugins.get(cv);o.createUploadAdapter=h=>new Yj(h,e,a);const l=!e.config.get("ckbox.ignoreDataId"),d=e.plugins.get("ImageUploadEditing");l&&d.on("uploadComplete",(h,{imageElement:g,data:p})=>{e.model.change(A=>{A.setAttribute("ckboxImageId",p.ckboxImageId,g)})})})}}class Yj{constructor(e,t,n){this.loader=e,this.token=n.getToken(),this.ckboxUtils=n,this.editor=t,this.controller=new AbortController,this.serviceOrigin=t.config.get("ckbox.serviceOrigin")}upload(){return sm(this,null,function*(){const e=this.ckboxUtils,t=this.editor.t,n=yield this.loader.file,o=yield e.getCategoryIdForFile(n,{signal:this.controller.signal}),a=new URL("assets",this.serviceOrigin),l=new FormData;return a.searchParams.set("workspaceId",e.getWorkspaceId()),l.append("categoryId",o),l.append("file",n),iv({method:"POST",url:a,data:l,onUploadProgress:d=>{d.lengthComputable&&(this.loader.uploadTotal=d.total,this.loader.uploaded=d.loaded)},signal:this.controller.signal,authorization:this.token.value}).then(d=>sm(this,null,function*(){const h=ov(d.imageUrls);return{ckboxImageId:d.id,default:h.imageFallbackUrl,sources:h.imageSources}})).catch(()=>{const d=t("Cannot upload file:")+` ${n.name}.`;return Promise.reject(d)})})}abort(){this.controller.abort()}}class dv extends ee{static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",Qj,cv]}init(){const e=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),hv()&&e.commands.add("ckbox",new Wj(e)))}afterInit(){const e=this.editor;this._shouldBeInitialised()&&(e.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||hv()}_checkImagePlugins(){const e=this.editor;e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||ae("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((t,n)=>{if(!t.last.getAttribute("linkHref")&&n==="ckboxLinkId")return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(n=>{n.on("attribute:ckboxLinkId:imageBlock",(o,a,l)=>{const{writer:d,mapper:h,consumable:g}=l;if(!g.consume(a.item,o.name))return;const p=[...h.toViewElement(a.item).getChildren()].find(A=>A.name==="a");p&&(a.item.hasAttribute("ckboxLinkId")?d.setAttribute("data-ckbox-resource-id",a.item.getAttribute("ckboxLinkId"),p):d.removeAttribute("data-ckbox-resource-id",p))},{priority:"low"}),n.on("attribute:ckboxLinkId",(o,a,l)=>{const{writer:d,mapper:h,consumable:g}=l;if(g.consume(a.item,o.name)){if(a.attributeOldValue){const p=uv(d,a.attributeOldValue);d.unwrap(h.toViewRange(a.range),p)}if(a.attributeNewValue){const p=uv(d,a.attributeNewValue);if(a.item.is("selection")){const A=d.document.selection;d.wrap(A.getFirstRange(),p)}else d.wrap(h.toViewRange(a.range),p)}}},{priority:"low"})}),e.conversion.for("upcast").add(n=>{n.on("element:a",(o,a,l)=>{const{writer:d,consumable:h}=l;if(!a.viewItem.getAttribute("href")||!h.consume(a.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const g=a.viewItem.getAttribute("data-ckbox-resource-id");if(g)if(a.modelRange)for(let p of a.modelRange.getItems())p.is("$textProxy")&&(p=p.textNode),Jj(p)&&d.setAttribute("ckboxLinkId",g,p);else{const p=a.modelCursor.nodeBefore||a.modelCursor.parent;d.setAttribute("ckboxLinkId",g,p)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:n=>n.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const t=e.commands.get("replaceImageSource");t&&this.listenTo(t,"cleanupImage",(n,[o,a])=>{o.removeAttribute("ckboxImageId",a)})}_initFixers(){const e=this.editor,t=e.model,n=t.document.selection;t.document.registerPostFixer(function(o){return a=>{let l=!1;const d=o.model,h=o.commands.get("ckbox");if(!h)return l;for(const g of d.document.differ.getChanges()){if(g.type!=="insert"&&g.type!=="attribute")continue;const p=g.type==="insert"?new G(g.position,g.position.getShiftedBy(g.length)):g.range,A=g.type==="attribute"&&g.attributeKey==="linkHref"&&g.attributeNewValue===null;for(const y of p.getItems()){if(A&&y.hasAttribute("ckboxLinkId")){a.removeAttribute("ckboxLinkId",y),l=!0;continue}const E=Zj(y,h._chosenAssets);for(const I of E){const T=I.type==="image"?"ckboxImageId":"ckboxLinkId";I.id!==y.getAttribute(T)&&(a.setAttribute(T,I.id,y),l=!0)}}}return l}}(e)),t.document.registerPostFixer(function(o){return a=>!(o.hasAttribute("linkHref")||!o.hasAttribute("ckboxLinkId"))&&(a.removeSelectionAttribute("ckboxLinkId"),!0)}(n))}}function Zj(r,e){const t=r.is("element","imageInline")||r.is("element","imageBlock"),n=r.hasAttribute("linkHref");return[...e].filter(o=>o.type==="image"&&t?o.attributes.imageFallbackUrl===r.getAttribute("src"):o.type==="link"&&n?o.attributes.linkHref===r.getAttribute("linkHref"):void 0)}function uv(r,e){const t=r.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return r.setCustomProperty("link",!0,t),t}function Jj(r){return!!r.is("$text")||!(!r.is("element","imageInline")&&!r.is("element","imageBlock"))}function hv(){return!!window.CKBox}var mv=m(1866),Xj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(mv.A,Xj),mv.A.locals;class eP extends ee{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,t=e.ui.componentFactory,n=e.t;if(t.add("ckfinder",o=>{const a=this._createButton(Be),l=o.t;return a.set({label:l("Insert image or file"),tooltip:!0}),a}),t.add("menuBar:ckfinder",o=>{const a=this._createButton(dn),l=o.t;return a.label=l("Image or file"),a}),e.plugins.has("ImageInsertUI")){const o=e.plugins.get("ImageInsertUI");o.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckfinder"),buttonViewCreator:()=>{const a=this.editor.ui.componentFactory.create("ckfinder");return a.icon=be.imageAssetManager,a.bind("label").to(o,"isImageSelected",l=>n(l?"Replace image with file manager":"Insert image with file manager")),a},formViewCreator:()=>{const a=this.editor.ui.componentFactory.create("ckfinder");return a.icon=be.imageAssetManager,a.withText=!0,a.bind("label").to(o,"isImageSelected",l=>n(l?"Replace with file manager":"Insert with file manager")),a.on("execute",()=>{o.dropdownView.isOpen=!1}),a}})}}_createButton(e){const t=this.editor,n=new e(t.locale),o=t.commands.get("ckfinder");return n.icon=be.browseFiles,n.bind("isEnabled").to(o),n.on("execute",()=>{t.execute("ckfinder"),t.editing.view.focus()}),n}}class tP extends _e{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");this.isEnabled=e.isEnabled||t.isEnabled}execute(){const e=this.editor,t=this.editor.config.get("ckfinder.openerMethod")||"modal";if(t!="popup"&&t!="modal")throw new P("ckfinder-unknown-openermethod",e);const n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;const o=n.onInit;n.language||(n.language=e.locale.uiLanguage),n.onInit=a=>{o&&o(a),a.on("files:choose",l=>{const d=l.data.files.toArray(),h=d.filter(A=>!A.isImage()),g=d.filter(A=>A.isImage());for(const A of h)e.execute("link",A.getUrl());const p=[];for(const A of g){const y=A.getUrl();p.push(y||a.request("file:getProxyUrl",{file:A}))}p.length&&gv(e,p)}),a.on("file:choose:resizedImage",l=>{const d=l.data.resizedUrl;if(d)gv(e,[d]);else{const h=e.plugins.get("Notification"),g=e.locale.t;h.showWarning(g("Could not obtain resized image URL."),{title:g("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[t](n)}}function gv(r,e){if(r.commands.get("insertImage").isEnabled)r.execute("insertImage",{source:e});else{const t=r.plugins.get("Notification"),n=r.locale.t;t.showWarning(n("Could not insert image at the current position."),{title:n("Inserting image failed"),namespace:"ckfinder"})}}class nP extends ee{static get pluginName(){return"CKFinderEditing"}static get requires(){return[Wh,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new P("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new tP(e))}}class rP extends ee{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Un]}init(){const e=this.editor,t=e.plugins.get("CloudServices"),n=t.token,o=t.uploadUrl;if(!n)return;const a=e.plugins.get("CloudServicesCore");this._uploadGateway=a.createUploadGateway(n,o),e.plugins.get(Un).createUploadAdapter=l=>new oP(this._uploadGateway,l)}}class oP{constructor(e,t){this.uploadGateway=e,this.loader=t}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(t,n)=>{this.loader.uploadTotal=n.total,this.loader.uploaded=n.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class iP extends _e{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=ft(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&pv(t,e.schema)}execute(e={}){const t=this.editor.model,n=t.document,o=e.selection||n.selection;t.canEditAt(o)&&t.change(a=>{const l=o.getSelectedBlocks();for(const d of l)!d.is("element","paragraph")&&pv(d,t.schema)&&a.rename(d,"paragraph")})}}function pv(r,e){return e.checkChild(r.parent,"paragraph")&&!e.isObject(r)}class sP extends _e{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,n=e.attributes;let o=e.position;t.canEditAt(o)&&t.change(a=>{if(o=this._findPositionToInsertParagraph(o,a),!o)return;const l=a.createElement("paragraph");n&&t.schema.setAllowedAttributes(l,n,a),t.insertContent(l,o),a.setSelection(l,"in")})}_findPositionToInsertParagraph(e,t){const n=this.editor.model;if(n.schema.checkChild(e,"paragraph"))return e;const o=n.schema.findAllowedParent(e,"paragraph");if(!o)return null;const a=e.parent,l=n.schema.checkChild(a,"$text");return a.isEmpty||l&&e.isAtEnd?n.createPositionAfter(a):!a.isEmpty&&l&&e.isAtStart?n.createPositionBefore(a):t.split(e,o).position}}const fv=class extends ee{static get pluginName(){return"Paragraph"}init(){const r=this.editor,e=r.model;r.commands.add("paragraph",new iP(r)),r.commands.add("insertParagraph",new sP(r)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),r.conversion.elementToElement({model:"paragraph",view:"p"}),r.conversion.for("upcast").elementToElement({model:(t,{writer:n})=>fv.paragraphLikeElements.has(t.name)?t.isEmpty?null:n.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let am=fv;am.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class aP extends _e{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=ft(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>kv(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,n=t.document,o=e.value;t.change(a=>{const l=Array.from(n.selection.getSelectedBlocks()).filter(d=>kv(d,o,t.schema));for(const d of l)d.is("element",o)||a.rename(d,o)})}}function kv(r,e,t){return t.checkChild(r.parent,e)&&!t.isObject(r)}const bv="paragraph";class lP extends ee{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[am]}init(){const e=this.editor,t=e.config.get("heading.options"),n=[];for(const o of t)o.model!=="paragraph"&&(e.model.schema.register(o.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(o),n.push(o.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new aP(e,n))}afterInit(){const e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(o,a)=>{const l=e.model.document.selection.getFirstPosition().parent;n.some(d=>l.is("element",d.model))&&!l.is("element",bv)&&l.childCount===0&&a.writer.rename(l,bv)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:V.low+1})}}var wv=m(6269),cP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(wv.A,cP),wv.A.locals;class dP extends ee{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,n=function(l){const d=l.t,h={Paragraph:d("Paragraph"),"Heading 1":d("Heading 1"),"Heading 2":d("Heading 2"),"Heading 3":d("Heading 3"),"Heading 4":d("Heading 4"),"Heading 5":d("Heading 5"),"Heading 6":d("Heading 6")};return l.config.get("heading.options").map(g=>{const p=h[g.title];return p&&p!=g.title&&(g.title=p),g})}(e),o=t("Choose heading"),a=t("Heading");e.ui.componentFactory.add("heading",l=>{const d={},h=new Pn,g=e.commands.get("heading"),p=e.commands.get("paragraph"),A=[g];for(const E of n){const I={type:"button",model:new lA({label:E.title,class:E.class,role:"menuitemradio",withText:!0})};E.model==="paragraph"?(I.model.bind("isOn").to(p,"value"),I.model.set("commandName","paragraph"),A.push(p)):(I.model.bind("isOn").to(g,"value",T=>T===E.model),I.model.set({commandName:"heading",commandValue:E.model})),h.add(I),d[E.model]=E.title}const y=br(l);return Nw(y,h,{ariaLabel:a,role:"menu"}),y.buttonView.set({ariaLabel:a,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:a}),y.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),y.bind("isEnabled").toMany(A,"isEnabled",(...E)=>E.some(I=>I)),y.buttonView.bind("label").to(g,"value",p,"value",(E,I)=>{const T=I?"paragraph":E;return typeof T=="boolean"?o:d[T]?d[T]:o}),y.buttonView.bind("ariaLabel").to(g,"value",p,"value",(E,I)=>{const T=I?"paragraph":E;return typeof T=="boolean"?a:d[T]?`${d[T]}, ${a}`:a}),this.listenTo(y,"execute",E=>{const{commandName:I,commandValue:T}=E.source;e.execute(I,T?{value:T}:void 0),e.editing.view.focus()}),y}),e.ui.componentFactory.add("menuBar:heading",l=>{const d=new Ti(l),h=e.commands.get("heading"),g=e.commands.get("paragraph"),p=[h],A=new Qh(l);d.set({class:"ck-heading-dropdown"}),A.set({ariaLabel:t("Heading"),role:"menu"}),d.buttonView.set({label:t("Heading")}),d.panelView.children.add(A);for(const y of n){const E=new Gh(l,d),I=new dn(l);E.children.add(I),A.items.add(E),I.set({label:y.title,role:"menuitemradio",class:y.class}),I.bind("ariaChecked").to(I,"isOn"),I.delegate("execute").to(d),I.on("execute",()=>{const T=y.model==="paragraph"?"paragraph":"heading";e.execute(T,{value:y.model}),e.editing.view.focus()}),y.model==="paragraph"?(I.bind("isOn").to(g,"value"),p.push(g)):I.bind("isOn").to(h,"value",T=>T===y.model)}return d.bind("isEnabled").toMany(p,"isEnabled",(...y)=>y.some(E=>E)),d})}}function Av(r){return r.createContainerElement("figure",{class:"image"},[r.createEmptyElement("img"),r.createSlot("children")])}function Cv(r,e){const t=r.plugins.get("ImageUtils"),n=r.plugins.has("ImageInlineEditing")&&r.plugins.has("ImageBlockEditing");return a=>t.isInlineImageView(a)?n&&(a.getStyle("display")=="block"||a.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:o(a):null;function o(a){const l={name:!0};return a.hasAttribute("src")&&(l.attributes=["src"]),l}}function lm(r,e){const t=ft(e.getSelectedBlocks());return!t||r.isObject(t)||t.isEmpty&&t.name!="listItem"?"imageBlock":"imageInline"}function _c(r){return r&&r.endsWith("px")?parseInt(r):null}function vv(r){const e=_c(r.getStyle("width")),t=_c(r.getStyle("height"));return!(!e||!t)}var uP=Object.defineProperty,yv=Object.getOwnPropertySymbols,hP=Object.prototype.hasOwnProperty,mP=Object.prototype.propertyIsEnumerable,_v=(r,e,t)=>e in r?uP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xv=(r,e)=>{for(var t in e||(e={}))hP.call(e,t)&&_v(r,t,e[t]);if(yv)for(var t of yv(e))mP.call(e,t)&&_v(r,t,e[t]);return r};const gP=/^(image|image-inline)$/;class Wt extends ee{constructor(){super(...arguments),this._domEmitter=new(Cn())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,n=null,o={}){const a=this.editor,l=a.model,d=l.document.selection,h=Ev(a,t||d,n);e=xv(xv({},Object.fromEntries(d.getAttributes())),e);for(const g in e)l.schema.checkAttribute(h,g)||delete e[g];return l.change(g=>{const{setImageSizes:p=!0}=o,A=g.createElement(h,e);return l.insertObject(A,t,null,{setSelection:"on",findOptimalPosition:t||h=="imageInline"?void 0:"auto"}),A.parent?(p&&this.setImageNaturalSizeAttributes(A),A):null})}setImageNaturalSizeAttributes(e){const t=e.getAttribute("src");t&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(n=>{const o=new C.window.Image;this._domEmitter.listenTo(o,"load",()=>{e.getAttribute("width")||e.getAttribute("height")||this.editor.model.enqueueChange(n.batch,a=>{a.setAttribute("width",o.naturalWidth,e),a.setAttribute("height",o.naturalHeight,e)}),this._domEmitter.stopListening(o,"load")}),o.src=t}))}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const n=e.getSelectedElement();if(n&&this.isImageWidget(n))return n;let o=t.parent;for(;o;){if(o.is("element")&&this.isImageWidget(o))return o;o=o.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:gP})}isImageAllowed(){const e=this.editor.model.document.selection;return function(t,n){if(Ev(t,n,null)=="imageBlock"){const a=function(l,d){const h=AC(l,d),g=h.start.parent;return g.isEmpty&&!g.is("element","$root")?g.parent:g}(n,t.model);if(t.model.schema.checkChild(a,"imageBlock"))return!0}else if(t.model.schema.checkChild(n.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(t){return[...t.focus.getAncestors()].every(n=>!n.is("element","imageBlock"))}(e)}toImageWidget(e,t,n){return t.setCustomProperty("image",!0,e),em(e,t,{label:()=>{const o=this.findViewImgElement(e).getAttribute("alt");return o?`${o} ${n}`:n}})}isImageWidget(e){return!!e.getCustomProperty("image")&&lt(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:n}of t.createRangeIn(e))if(this.isInlineImageView(n))return n}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function Ev(r,e,t){const n=r.model.schema,o=r.config.get("image.insert.type");return r.plugins.has("ImageBlockEditing")?r.plugins.has("ImageInlineEditing")?t||(o==="inline"?"imageInline":o!=="auto"?"imageBlock":e.is("selection")?lm(n,e):n.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class pP extends _e{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,n=t.plugins.get("ImageUtils"),o=t.model,a=n.getClosestSelectedImageElement(o.document.selection);o.change(l=>{l.setAttribute("alt",e.newValue,a)})}}class fP extends ee{static get requires(){return[Wt]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new pP(this.editor))}}var Dv=m(4062),kP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Dv.A,kP),Dv.A.locals;var Sv=m(2722),bP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Sv.A,bP),Sv.A.locals;class wP extends ge{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new kt,this.keystrokes=new Lt,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),be.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),be.cancel,"ck-button-cancel","cancel"),this._focusables=new vn,this._focusCycler=new _n({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Ml({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,n,o){const a=new Be(this.locale);return a.set({label:e,icon:t,tooltip:!0}),a.extendTemplate({attributes:{class:n}}),o&&a.delegate("execute").to(this,o),a}_createLabeledInputView(){const e=this.locale.t,t=new ec(this.locale,rc);return t.label=e("Text alternative"),t}}function Iv(r){const e=r.editing.view,t=Ht.defaultPositions,n=r.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(n.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}class AP extends ee{static get requires(){return[cc]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",n=>{const o=e.commands.get("imageTextAlternative"),a=new Be(n);return a.set({label:t("Change image text alternative"),icon:be.textAlternative,tooltip:!0}),a.bind("isEnabled").to(o,"isEnabled"),a.bind("isOn").to(o,"value",l=>!!l),this.listenTo(a,"execute",()=>{this._showForm()}),a})}_createForm(){const e=this.editor,t=e.editing.view.document,n=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Ju(wP))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(o,a)=>{this._hideForm(!0),a()}),this.listenTo(e.ui,"update",()=>{n.getClosestSelectedImageWidget(t.selection)?this._isVisible&&function(o){const a=o.plugins.get("ContextualBalloon");if(o.plugins.get("ImageUtils").getClosestSelectedImageWidget(o.editing.view.document.selection)){const l=Iv(o);a.updatePosition(l)}}(e):this._hideForm(!0)}),Nl({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:Iv(e)}),n.fieldView.value=n.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class Tv extends ee{static get requires(){return[fP,AP]}static get pluginName(){return"ImageTextAlternative"}}function Nv(r,e){const t=(n,o,a)=>{if(!a.consumable.consume(o.item,n.name))return;const l=a.writer,d=a.mapper.toViewElement(o.item),h=r.findViewImgElement(d);o.attributeNewValue===null?(l.removeAttribute("srcset",h),l.removeAttribute("sizes",h)):o.attributeNewValue&&(l.setAttribute("srcset",o.attributeNewValue,h),l.setAttribute("sizes","100vw",h))};return n=>{n.on(`attribute:srcset:${e}`,t)}}function xc(r,e,t){const n=(o,a,l)=>{if(!l.consumable.consume(a.item,o.name))return;const d=l.writer,h=l.mapper.toViewElement(a.item),g=r.findViewImgElement(h);d.setAttribute(a.attributeKey,a.attributeNewValue||"",g)};return o=>{o.on(`attribute:${t}:${e}`,n)}}class Mv extends rr{observe(e){this.listenTo(e,"load",(t,n)=>{const o=n.target;this.checkShouldIgnoreEventFromTarget(o)||o.tagName=="IMG"&&this._fireEvents(n)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}var CP=Object.defineProperty,Bv=Object.getOwnPropertySymbols,vP=Object.prototype.hasOwnProperty,yP=Object.prototype.propertyIsEnumerable,jv=(r,e,t)=>e in r?CP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ec=(r,e)=>{for(var t in e||(e={}))vP.call(e,t)&&jv(r,t,e[t]);if(Bv)for(var t of Bv(e))yP.call(e,t)&&jv(r,t,e[t]);return r};class _P extends _e{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||t==="block"&&$("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||t==="inline"&&$("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=He(e.source),n=this.editor.model.document.selection,o=this.editor.plugins.get("ImageUtils"),a=Object.fromEntries(n.getAttributes());t.forEach((l,d)=>{const h=n.getSelectedElement();if(typeof l=="string"&&(l={src:l}),d&&h&&o.isImage(h)){const g=this.editor.model.createPositionAfter(h);o.insertImage(Ec(Ec({},l),a),g)}else o.insertImage(Ec(Ec({},l),a))})}}class xP extends _e{constructor(e){super(e),this.decorate("cleanupImage")}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(t),this.value=this.isEnabled?t.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement(),n=this.editor.plugins.get("ImageUtils");this.editor.model.change(o=>{o.setAttribute("src",e.source,t),this.cleanupImage(o,t),n.setImageNaturalSizeAttributes(t)})}cleanupImage(e,t){e.removeAttribute("srcset",t),e.removeAttribute("sizes",t),e.removeAttribute("sources",t),e.removeAttribute("width",t),e.removeAttribute("height",t),e.removeAttribute("alt",t)}}class cm extends ee{static get requires(){return[Wt]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(Mv),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const n=new _P(e),o=new xP(e);e.commands.add("insertImage",n),e.commands.add("replaceImageSource",o),e.commands.add("imageInsert",n)}}class Pv extends ee{static get requires(){return[Wt]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const t=this.editor,n=t.plugins.get("ImageUtils"),o=e==="imageBlock"?"figure":"img";function a(l,d,h,g){l.on(`attribute:${d}:${e}`,(p,A,y)=>{if(!y.consumable.consume(A.item,p.name))return;const E=y.writer,I=y.mapper.toViewElement(A.item),T=n.findViewImgElement(I);if(A.attributeNewValue!==null?E.setAttribute(h,A.attributeNewValue,T):E.removeAttribute(h,T),A.item.hasAttribute("sources"))return;const O=A.item.hasAttribute("resizedWidth");if(e==="imageInline"&&!O&&!g)return;const R=A.item.getAttribute("width"),U=A.item.getAttribute("height");R&&U&&E.setStyle("aspect-ratio",`${R}/${U}`,T)})}t.conversion.for("upcast").attributeToAttribute({view:{name:o,styles:{width:/.+/}},model:{key:"width",value:l=>vv(l)?_c(l.getStyle("width")):null}}).attributeToAttribute({view:{name:o,key:"width"},model:"width"}).attributeToAttribute({view:{name:o,styles:{height:/.+/}},model:{key:"height",value:l=>vv(l)?_c(l.getStyle("height")):null}}).attributeToAttribute({view:{name:o,key:"height"},model:"height"}),t.conversion.for("editingDowncast").add(l=>{a(l,"width","width",!0),a(l,"height","height",!0)}),t.conversion.for("dataDowncast").add(l=>{a(l,"width","width",!1),a(l,"height","height",!1)})}}class Lv extends _e{constructor(e,t){super(e),this._modelElementName=t}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(t):this.isEnabled=e.isBlockImage(t)}execute(e={}){const t=this.editor,n=this.editor.model,o=t.plugins.get("ImageUtils"),a=o.getClosestSelectedImageElement(n.document.selection),l=Object.fromEntries(a.getAttributes());return l.src||l.uploadId?n.change(d=>{const{setImageSizes:h=!0}=e,g=Array.from(n.markers).filter(y=>y.getRange().containsItem(a)),p=o.insertImage(l,n.createSelection(a,"on"),this._modelElementName,{setImageSizes:h});if(!p)return null;const A=d.createRangeOn(p);for(const y of g){const E=y.getRange(),I=E.root.rootName!="$graveyard"?E.getJoined(A,!0):A;d.updateMarker(y,{range:I})}return{oldElement:a,newElement:p}}):null}}var Ov=m(7378),EP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Ov.A,EP),Ov.A.locals;class zv extends ee{static get requires(){return[Wt]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const e=this.editor.model.schema;e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["placeholder"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const e=this.editor,t=e.conversion,n=e.plugins.get("ImageUtils");t.for("editingDowncast").add(o=>{o.on("attribute:placeholder",(a,l,d)=>{if(!d.consumable.test(l.item,a.name)||!l.item.is("element","imageBlock")&&!l.item.is("element","imageInline"))return;d.consumable.consume(l.item,a.name);const h=d.writer,g=d.mapper.toViewElement(l.item),p=n.findViewImgElement(g);l.attributeNewValue?(h.addClass("image_placeholder",p),h.setStyle("background-image",`url(${l.attributeNewValue})`,p),h.setCustomProperty("editingPipeline:doNotReuseOnce",!0,p)):(h.removeClass("image_placeholder",p),h.removeStyle("background-image",p))})})}_setupLoadListener(){const e=this.editor,t=e.model,n=e.editing,o=n.view,a=e.plugins.get("ImageUtils");o.addObserver(Mv),this.listenTo(o.document,"imageLoaded",(l,d)=>{const h=o.domConverter.mapDomToView(d.target);if(!h)return;const g=a.getImageWidgetFromImageView(h);if(!g)return;const p=n.mapper.toModelElement(g);p&&p.hasAttribute("placeholder")&&t.enqueueChange({isUndoable:!1},A=>{A.removeAttribute("placeholder",p)})})}}class Rv extends ee{static get requires(){return[cm,Pv,Wt,zv,xn]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new Lv(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,o=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(a,{writer:l})=>Av(l)}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(a,{writer:l})=>o.toImageWidget(Av(l),l,t("image widget"))}),n.for("downcast").add(xc(o,"imageBlock","src")).add(xc(o,"imageBlock","alt")).add(Nv(o,"imageBlock")),n.for("upcast").elementToElement({view:Cv(e,"imageBlock"),model:(a,{writer:l})=>l.createElement("imageBlock",a.hasAttribute("src")?{src:a.getAttribute("src")}:void 0)}).add(function(a){const l=(d,h,g)=>{if(!g.consumable.test(h.viewItem,{name:!0,classes:"image"}))return;const p=a.findViewImgElement(h.viewItem);if(!p||!g.consumable.test(p,{name:!0}))return;g.consumable.consume(h.viewItem,{name:!0,classes:"image"});const A=ft(g.convertItem(p,h.modelCursor).modelRange.getItems());A?(g.convertChildren(h.viewItem,A),g.updateConversionResult(A,h)):g.consumable.revert(h.viewItem,{name:!0,classes:"image"})};return d=>{d.on("element:figure",l)}}(o))}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,o=e.plugins.get("ImageUtils"),a=e.plugins.get("ClipboardPipeline");this.listenTo(a,"inputTransformation",(l,d)=>{const h=Array.from(d.content.getChildren());let g;if(!h.every(o.isInlineImageView))return;g=d.targetRanges?e.editing.mapper.toModelRange(d.targetRanges[0]):t.document.selection.getFirstRange();const p=t.createSelection(g);if(lm(t.schema,p)==="imageBlock"){const A=new fr(n.document),y=h.map(E=>A.createElement("figure",{class:"image"},E));d.content=A.createDocumentFragment(y)}}),this.listenTo(a,"contentInsertion",(l,d)=>{d.method==="paste"&&t.change(h=>{const g=h.createRangeIn(d.content);for(const p of g.getItems())p.is("element","imageBlock")&&o.setImageNaturalSizeAttributes(p)})})}}var Fv=m(3350),DP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Fv.A,DP),Fv.A.locals;class SP extends ge{constructor(e,t=[]){super(e),this.focusTracker=new kt,this.keystrokes=new Lt,this._focusables=new vn,this.children=this.createCollection(),this._focusCycler=new _n({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const n of t)this.children.add(n),this._focusables.add(n),n instanceof Z3&&this._focusables.addMany(n.children);if(this._focusables.length>1)for(const n of this._focusables)IP(n)&&(n.focusCycler.on("forwardCycle",o=>{this._focusCycler.focusNext(),o.stop()}),n.focusCycler.on("backwardCycle",o=>{this._focusCycler.focusPrevious(),o.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),Ml({view:this});for(const t of this._focusables)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function IP(r){return"focusCycler"in r}class Vv extends ee{constructor(e){super(e),this._integrations=new Map,e.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get requires(){return[Wt]}init(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",()=>{this.isImageSelected=n.isImage(t.getSelectedElement())});const o=a=>this._createToolbarComponent(a);e.ui.componentFactory.add("insertImage",o),e.ui.componentFactory.add("imageInsert",o)}registerIntegration({name:e,observable:t,buttonViewCreator:n,formViewCreator:o,requiresForm:a}){this._integrations.has(e)&&$("image-insert-integration-exists",{name:e}),this._integrations.set(e,{observable:t,buttonViewCreator:n,formViewCreator:o,requiresForm:!!a})}_createToolbarComponent(e){const t=this.editor,n=e.t,o=this._prepareIntegrations();if(!o.length)return null;let a;const l=o[0];if(o.length==1){if(!l.requiresForm)return l.buttonViewCreator(!0);a=l.buttonViewCreator(!0)}else{const g=l.buttonViewCreator(!1);a=new nc(e,g),a.tooltip=!0,a.bind("label").to(this,"isImageSelected",p=>n(p?"Replace image":"Insert image"))}const d=this.dropdownView=br(e,a),h=o.map(({observable:g})=>typeof g=="function"?g():g);return d.bind("isEnabled").toMany(h,"isEnabled",(...g)=>g.some(p=>p)),d.once("change:isOpen",()=>{const g=o.map(({formViewCreator:A})=>A(o.length==1)),p=new SP(t.locale,g);d.panelView.children.add(p)}),d}_prepareIntegrations(){const e=this.editor.config.get("image.insert.integrations"),t=[];if(!e.length)return $("image-insert-integrations-not-specified"),t;for(const n of e)this._integrations.has(n)?t.push(this._integrations.get(n)):["upload","assetManager","url"].includes(n)||$("image-insert-unknown-integration",{item:n});return t.length||$("image-insert-integrations-not-registered"),t}}var Uv=m(265),TP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Uv.A,TP),Uv.A.locals;class NP extends ee{static get requires(){return[Rv,ia,Tv,Vv]}static get pluginName(){return"ImageBlock"}}class MP extends ee{static get requires(){return[cm,Pv,Wt,zv,xn]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((n,o)=>{if(n.endsWith("caption")&&o.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new Lv(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,o=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(a,{writer:l})=>l.createEmptyElement("img")}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:(a,{writer:l})=>o.toImageWidget(function(d){return d.createContainerElement("span",{class:"image-inline"},d.createEmptyElement("img"))}(l),l,t("image widget"))}),n.for("downcast").add(xc(o,"imageInline","src")).add(xc(o,"imageInline","alt")).add(Nv(o,"imageInline")),n.for("upcast").elementToElement({view:Cv(e,"imageInline"),model:(a,{writer:l})=>l.createElement("imageInline",a.hasAttribute("src")?{src:a.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,o=e.plugins.get("ImageUtils"),a=e.plugins.get("ClipboardPipeline");this.listenTo(a,"inputTransformation",(l,d)=>{const h=Array.from(d.content.getChildren());let g;if(!h.every(o.isBlockImageView))return;g=d.targetRanges?e.editing.mapper.toModelRange(d.targetRanges[0]):t.document.selection.getFirstRange();const p=t.createSelection(g);if(lm(t.schema,p)==="imageInline"){const A=new fr(n.document),y=h.map(E=>E.childCount===1?(Array.from(E.getAttributes()).forEach(I=>A.setAttribute(...I,o.findViewImgElement(E))),E.getChild(0)):E);d.content=A.createDocumentFragment(y)}}),this.listenTo(a,"contentInsertion",(l,d)=>{d.method==="paste"&&t.change(h=>{const g=h.createRangeIn(d.content);for(const p of g.getItems())p.is("element","imageInline")&&o.setImageNaturalSizeAttributes(p)})})}}class BP extends ee{static get requires(){return[MP,ia,Tv,Vv]}static get pluginName(){return"ImageInline"}}class Hv extends ee{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Wt]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),n=e.getFirstPosition().findAncestor("caption");return n&&t.isBlockImage(n.parent)?n:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&t.isBlockImageView(e.parent)?{name:!0}:null}}class jP extends _e{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),n=e.plugins.get("ImageUtils");if(!e.plugins.has(Rv))return this.isEnabled=!1,void(this.value=!1);const o=e.model.document.selection,a=o.getSelectedElement();if(!a){const l=t.getCaptionFromModelSelection(o);return this.isEnabled=!!l,void(this.value=!!l)}this.isEnabled=n.isImage(a),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(a):this.value=!1}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(n=>{this.value?this._hideImageCaption(n):this._showImageCaption(n,t)})}_showImageCaption(e,t){const n=this.editor.model.document.selection,o=this.editor.plugins.get("ImageCaptionEditing"),a=this.editor.plugins.get("ImageUtils");let l=n.getSelectedElement();const d=o._getSavedCaption(l);a.isInlineImage(l)&&(this.editor.execute("imageTypeBlock"),l=n.getSelectedElement());const h=d||e.createElement("caption");e.append(h,l),t&&e.setSelection(h,"in")}_hideImageCaption(e){const t=this.editor,n=t.model.document.selection,o=t.plugins.get("ImageCaptionEditing"),a=t.plugins.get("ImageCaptionUtils");let l,d=n.getSelectedElement();d?l=a.getCaptionFromImageModelElement(d):(l=a.getCaptionFromModelSelection(n),d=l.parent),o._saveCaption(d,l),e.setSelection(d,"on"),e.remove(l)}}class PP extends ee{constructor(e){super(e),this._savedCaptionsMap=new WeakMap}static get requires(){return[Wt,Hv]}static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new jP(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageUtils"),o=e.plugins.get("ImageCaptionUtils"),a=e.t;e.conversion.for("upcast").elementToElement({view:l=>o.matchImageCaptionViewElement(l),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(l,{writer:d})=>n.isBlockImage(l.parent)?d.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(l,{writer:d})=>{if(!n.isBlockImage(l.parent))return null;const h=d.createEditableElement("figcaption");d.setCustomProperty("imageCaption",!0,h),h.placeholder=a("Enter image caption"),ab({view:t,element:h,keepOnFocus:!0});const g=l.parent.getAttribute("alt");return wC(h,d,{label:g?a("Caption for image: %0",[g]):a("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.plugins.get("ImageCaptionUtils"),o=e.commands.get("imageTypeInline"),a=e.commands.get("imageTypeBlock"),l=d=>{if(!d.return)return;const{oldElement:h,newElement:g}=d.return;if(!h)return;if(t.isBlockImage(h)){const A=n.getCaptionFromImageModelElement(h);if(A)return void this._saveCaption(g,A)}const p=this._getSavedCaption(h);p&&this._saveCaption(g,p)};o&&this.listenTo(o,"execute",l,{priority:"low"}),a&&this.listenTo(a,"execute",l,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?Le.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,n=e.plugins.get("ImageUtils"),o=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const a=t.document.differ.getChanges();for(const l of a){if(l.attributeKey!=="alt")continue;const d=l.range.start.nodeAfter;if(n.isBlockImage(d)){const h=o.getCaptionFromImageModelElement(d);if(!h)return;e.editing.reconvertItem(h)}}})}}class LP extends ee{static get requires(){return[Hv]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageCaptionUtils"),o=e.t;e.ui.componentFactory.add("toggleImageCaption",a=>{const l=e.commands.get("toggleImageCaption"),d=new Be(a);return d.set({icon:be.caption,tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(l,"value","isEnabled"),d.bind("label").to(l,"value",h=>o(h?"Toggle caption off":"Toggle caption on")),this.listenTo(d,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const h=n.getCaptionFromModelSelection(e.model.document.selection);if(h){const g=e.editing.mapper.toViewElement(h);t.scrollToTheSelection(),t.change(p=>{p.addClass("image__caption_highlighted",g)})}e.editing.view.focus()}),d})}}var qv=m(5247),OP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(qv.A,OP),qv.A.locals;function Wv(r){const e=r.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function zP(r){return new Promise((e,t)=>{const n=r.getAttribute("src");fetch(n).then(o=>o.blob()).then(o=>{const a=$v(o,n),l=a.replace("image/",""),d=new File([o],`image.${l}`,{type:a});e(d)}).catch(o=>o&&o.name==="TypeError"?function(a){return function(l){return new Promise((d,h)=>{const g=C.document.createElement("img");g.addEventListener("load",()=>{const p=C.document.createElement("canvas");p.width=g.width,p.height=g.height,p.getContext("2d").drawImage(g,0,0),p.toBlob(A=>A?d(A):h())}),g.addEventListener("error",()=>h()),g.src=l})}(a).then(l=>{const d=$v(l,a),h=d.replace("image/","");return new File([l],`image.${h}`,{type:d})})}(n).then(e).catch(t):t(o))})}function $v(r,e){return r.type?r.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class RP extends ee{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,t=e.t,n=()=>{const o=this._createButton(mw);return o.set({label:t("Upload image from computer"),tooltip:!0}),o};if(e.ui.componentFactory.add("uploadImage",n),e.ui.componentFactory.add("imageUpload",n),e.ui.componentFactory.add("menuBar:uploadImage",()=>{const o=this._createButton(PA);return o.label=t("Image from computer"),o}),e.plugins.has("ImageInsertUI")){const o=e.plugins.get("ImageInsertUI");o.registerIntegration({name:"upload",observable:()=>e.commands.get("uploadImage"),buttonViewCreator:()=>{const a=e.ui.componentFactory.create("uploadImage");return a.bind("label").to(o,"isImageSelected",l=>t(l?"Replace image from computer":"Upload image from computer")),a},formViewCreator:()=>{const a=e.ui.componentFactory.create("uploadImage");return a.withText=!0,a.bind("label").to(o,"isImageSelected",l=>t(l?"Replace from computer":"Upload from computer")),a.on("execute",()=>{o.dropdownView.isOpen=!1}),a}})}}_createButton(e){const t=this.editor,n=t.locale,o=t.commands.get("uploadImage"),a=t.config.get("image.upload.types"),l=Wv(a),d=new e(t.locale),h=n.t;return d.set({acceptedType:a.map(g=>`image/${g}`).join(","),allowMultipleFiles:!0,label:h("Upload image from computer"),icon:be.imageUpload}),d.bind("isEnabled").to(o),d.on("done",(g,p)=>{const A=Array.from(p).filter(y=>l.test(y.type));A.length&&(t.execute("uploadImage",{file:A}),t.editing.view.focus())}),d}}var Gv=m(2267),FP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Gv.A,FP),Gv.A.locals;var Kv=m(7693),VP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Kv.A,VP),Kv.A.locals;var Qv=m(1559),UP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Qv.A,UP),Qv.A.locals;class HP extends ee{constructor(e){super(e),this.uploadStatusChange=(t,n,o)=>{const a=this.editor,l=n.item,d=l.getAttribute("uploadId");if(!o.consumable.consume(n.item,t.name))return;const h=a.plugins.get("ImageUtils"),g=a.plugins.get(Un),p=d?n.attributeNewValue:null,A=this.placeholder,y=a.editing.mapper.toViewElement(l),E=o.writer;if(p=="reading")return Yv(y,E),void Zv(h,A,y,E);if(p=="uploading"){const I=g.loaders.get(d);return Yv(y,E),void(I?(Jv(y,E),function(T,O,R,U){const W=function(Z){const le=Z.createUIElement("div",{class:"ck-progress-bar"});return Z.setCustomProperty("progressBar",!0,le),le}(O);O.insert(O.createPositionAt(T,"end"),W),R.on("change:uploadedPercent",(Z,le,fe)=>{U.change(we=>{we.setStyle("width",fe+"%",W)})})}(y,E,I,a.editing.view),function(T,O,R,U){if(U.data){const W=T.findViewImgElement(O);R.setAttribute("src",U.data,W)}}(h,y,E,I)):Zv(h,A,y,E))}p=="complete"&&g.loaders.get(d)&&function(I,T,O){const R=T.createUIElement("div",{class:"ck-image-upload-complete-icon"});T.insert(T.createPositionAt(I,"end"),R),setTimeout(()=>{O.change(U=>U.remove(U.createRangeOn(R)))},3e3)}(y,E,a.editing.view),function(I,T){ey(I,T,"progressBar")}(y,E),Jv(y,E),function(I,T){T.removeClass("ck-appear",I)}(y,E)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function Yv(r,e){r.hasClass("ck-appear")||e.addClass("ck-appear",r)}function Zv(r,e,t,n){t.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",t);const o=r.findViewImgElement(t);o.getAttribute("src")!==e&&n.setAttribute("src",e,o),Xv(t,"placeholder")||n.insert(n.createPositionAfter(o),function(a){const l=a.createUIElement("div",{class:"ck-upload-placeholder-loader"});return a.setCustomProperty("placeholder",!0,l),l}(n))}function Jv(r,e){r.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",r),ey(r,e,"placeholder")}function Xv(r,e){for(const t of r.getChildren())if(t.getCustomProperty(e))return t}function ey(r,e,t){const n=Xv(r,t);n&&e.remove(e.createRangeOn(n))}var qP=Object.defineProperty,WP=Object.defineProperties,$P=Object.getOwnPropertyDescriptors,ty=Object.getOwnPropertySymbols,GP=Object.prototype.hasOwnProperty,KP=Object.prototype.propertyIsEnumerable,ny=(r,e,t)=>e in r?qP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class QP extends _e{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(n)}execute(e){const t=He(e.file),n=this.editor.model.document.selection,o=this.editor.plugins.get("ImageUtils"),a=Object.fromEntries(n.getAttributes());t.forEach((l,d)=>{const h=n.getSelectedElement();if(d&&h&&o.isImage(h)){const g=this.editor.model.createPositionAfter(h);this._uploadImage(l,a,g)}else this._uploadImage(l,a)})}_uploadImage(e,t,n){const o=this.editor,a=o.plugins.get(Un).createLoader(e),l=o.plugins.get("ImageUtils");var d,h;a&&l.insertImage((d=((g,p)=>{for(var A in p||(p={}))GP.call(p,A)&&ny(g,A,p[A]);if(ty)for(var A of ty(p))KP.call(p,A)&&ny(g,A,p[A]);return g})({},t),h={uploadId:a.id},WP(d,$P(h))),n)}}class YP extends ee{constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[Un,Wh,xn,Wt]}static get pluginName(){return"ImageUploadEditing"}init(){const e=this.editor,t=e.model.document,n=e.conversion,o=e.plugins.get(Un),a=e.plugins.get("ImageUtils"),l=e.plugins.get("ClipboardPipeline"),d=Wv(e.config.get("image.upload.types")),h=new QP(e);e.commands.add("uploadImage",h),e.commands.add("imageUpload",h),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(g,p)=>{if(A=p.dataTransfer,Array.from(A.types).includes("text/html")&&A.getData("text/html")!=="")return;var A;const y=Array.from(p.dataTransfer.files).filter(E=>!!E&&d.test(E.type));y.length&&(g.stop(),e.model.change(E=>{p.targetRanges&&E.setSelection(p.targetRanges.map(I=>e.editing.mapper.toModelRange(I))),e.execute("uploadImage",{file:y})}))}),this.listenTo(l,"inputTransformation",(g,p)=>{const A=Array.from(e.editing.view.createRangeIn(p.content)).map(E=>E.item).filter(E=>function(I,T){return!(!I.isInlineImageView(T)||!T.getAttribute("src")||!T.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!T.getAttribute("src").match(/^blob:/g))}(a,E)&&!E.getAttribute("uploadProcessed")).map(E=>({promise:zP(E),imageElement:E}));if(!A.length)return;const y=new fr(e.editing.view.document);for(const E of A){y.setAttribute("uploadProcessed",!0,E.imageElement);const I=o.createLoader(E.promise);I&&(y.setAttribute("src","",E.imageElement),y.setAttribute("uploadId",I.id,E.imageElement))}}),e.editing.view.document.on("dragover",(g,p)=>{p.preventDefault()}),t.on("change",()=>{const g=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),p=new Set;for(const A of g)if(A.type=="insert"&&A.name!="$text"){const y=A.position.nodeAfter,E=A.position.root.rootName=="$graveyard";for(const I of ZP(e,y)){const T=I.getAttribute("uploadId");if(!T)continue;const O=o.loaders.get(T);O&&(E?p.has(T)||O.abort():(p.add(T),this._uploadImageElements.set(T,I),O.status=="idle"&&this._readAndUpload(O)))}}}),this.on("uploadComplete",(g,{imageElement:p,data:A})=>{const y=A.urls?A.urls:A;this.editor.model.change(E=>{E.setAttribute("src",y.default,p),this._parseAndSetSrcsetAttributeOnImage(y,p,E),a.setImageNaturalSizeAttributes(p)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const t=this.editor,n=t.model,o=t.locale.t,a=t.plugins.get(Un),l=t.plugins.get(Wh),d=t.plugins.get("ImageUtils"),h=this._uploadImageElements;return n.enqueueChange({isUndoable:!1},p=>{p.setAttribute("uploadStatus","reading",h.get(e.id))}),e.read().then(()=>{const p=e.upload(),A=h.get(e.id);if(D.isSafari){const y=t.editing.mapper.toViewElement(A),E=d.findViewImgElement(y);t.editing.view.once("render",()=>{if(!E.parent)return;const I=t.editing.view.domConverter.mapViewToDom(E.parent);if(!I)return;const T=I.style.display;I.style.display="none",I._ckHack=I.offsetHeight,I.style.display=T})}return t.ui&&t.ui.ariaLiveAnnouncer.announce(o("Uploading image")),n.enqueueChange({isUndoable:!1},y=>{y.setAttribute("uploadStatus","uploading",A)}),p}).then(p=>{n.enqueueChange({isUndoable:!1},A=>{const y=h.get(e.id);A.setAttribute("uploadStatus","complete",y),t.ui&&t.ui.ariaLiveAnnouncer.announce(o("Image upload complete")),this.fire("uploadComplete",{data:p,imageElement:y})}),g()}).catch(p=>{if(t.ui&&t.ui.ariaLiveAnnouncer.announce(o("Error during image upload")),e.status!=="error"&&e.status!=="aborted")throw p;e.status=="error"&&p&&l.showWarning(p,{title:o("Upload failed"),namespace:"upload"}),n.enqueueChange({isUndoable:!1},A=>{A.remove(h.get(e.id))}),g()});function g(){n.enqueueChange({isUndoable:!1},p=>{const A=h.get(e.id);p.removeAttribute("uploadId",A),p.removeAttribute("uploadStatus",A),h.delete(e.id)}),a.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,n){let o=0;const a=Object.keys(e).filter(l=>{const d=parseInt(l,10);if(!isNaN(d))return o=Math.max(o,d),!0}).map(l=>`${e[l]} ${l}w`).join(", ");if(a!=""){const l={srcset:a};t.hasAttribute("width")||t.hasAttribute("height")||(l.width=o),n.setAttributes(l,t)}}}function ZP(r,e){const t=r.plugins.get("ImageUtils");return Array.from(r.model.createRangeOn(e)).filter(n=>t.isImage(n.item)).map(n=>n.item)}var ry=m(4642),JP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(ry.A,JP),ry.A.locals;var oy=m(3469),XP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(oy.A,XP),oy.A.locals;class e6 extends _e{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(n=>{if(n.isDefault)for(const o of n.modelElements)this._defaultStyles[o]=n.name;return[n.name,n]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const t=this.editor,n=t.model,o=t.plugins.get("ImageUtils");n.change(a=>{const l=e.value,{setImageSizes:d=!0}=e;let h=o.getClosestSelectedImageElement(n.document.selection);l&&this.shouldConvertImageType(l,h)&&(this.editor.execute(o.isBlockImage(h)?"imageTypeInline":"imageTypeBlock",{setImageSizes:d}),h=o.getClosestSelectedImageElement(n.document.selection)),!l||this._styles.get(l).isDefault?a.removeAttribute("imageStyle",h):a.setAttribute("imageStyle",l,h),d&&o.setImageNaturalSizeAttributes(h)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}var t6=Object.defineProperty,iy=Object.getOwnPropertySymbols,n6=Object.prototype.hasOwnProperty,r6=Object.prototype.propertyIsEnumerable,sy=(r,e,t)=>e in r?t6(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ay=(r,e)=>{for(var t in e||(e={}))n6.call(e,t)&&sy(r,t,e[t]);if(iy)for(var t of iy(e))r6.call(e,t)&&sy(r,t,e[t]);return r};const{objectFullWidth:o6,objectInline:ly,objectLeft:cy,objectRight:dm,objectCenter:um,objectBlockLeft:dy,objectBlockRight:uy}=be,Dc={get inline(){return{name:"inline",title:"In line",icon:ly,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:cy,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:dy,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:um,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:dm,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:uy,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:um,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:dm,modelElements:["imageBlock"],className:"image-style-side"}}},hy={full:o6,left:dy,right:uy,center:um,inlineLeft:cy,inlineRight:dm,inline:ly},my=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function gy(r){$("image-style-configuration-definition-invalid",r)}const hm={normalizeStyles:function(r){return(r.configuredStyles.options||[]).map(e=>function(t){return t=typeof t=="string"?Dc[t]?ay({},Dc[t]):{name:t}:function(n,o){const a=ay({},o);for(const l in n)Object.prototype.hasOwnProperty.call(o,l)||(a[l]=n[l]);return a}(Dc[t.name],t),typeof t.icon=="string"&&(t.icon=hy[t.icon]||t.icon),t}(e)).filter(e=>function(t,{isBlockPluginLoaded:n,isInlinePluginLoaded:o}){const{modelElements:a,name:l}=t;if(!(a&&a.length&&l))return gy({style:t}),!1;{const d=[n?"imageBlock":null,o?"imageInline":null];if(!a.some(h=>d.includes(h)))return $("image-style-missing-dependency",{style:t,missingPlugins:a.map(h=>h==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,r))},getDefaultStylesConfiguration:function(r,e){return r&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:r?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(r){return r.has("ImageBlockEditing")&&r.has("ImageInlineEditing")?[...my]:[]},warnInvalidStyle:gy,DEFAULT_OPTIONS:Dc,DEFAULT_ICONS:hy,DEFAULT_DROPDOWN_DEFINITIONS:my};function py(r,e){for(const t of e)if(t.name===r)return t}class fy extends ee{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Wt]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=hm,n=this.editor,o=n.plugins.has("ImageBlockEditing"),a=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",t(o,a)),this.normalizedStyles=e({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:o,isInlinePluginLoaded:a}),this._setupConversion(o,a),this._setupPostFixer(),n.commands.add("imageStyle",new e6(n,this.normalizedStyles))}_setupConversion(e,t){const n=this.editor,o=n.model.schema,a=(l=this.normalizedStyles,(h,g,p)=>{if(!p.consumable.consume(g.item,h.name))return;const A=py(g.attributeNewValue,l),y=py(g.attributeOldValue,l),E=p.mapper.toViewElement(g.item),I=p.writer;y&&I.removeClass(y.className,E),A&&I.addClass(A.className,E)});var l;const d=function(h){const g={imageInline:h.filter(p=>!p.isDefault&&p.modelElements.includes("imageInline")),imageBlock:h.filter(p=>!p.isDefault&&p.modelElements.includes("imageBlock"))};return(p,A,y)=>{if(!A.modelRange)return;const E=A.viewItem,I=ft(A.modelRange.getItems());if(I&&y.schema.checkAttribute(I,"imageStyle"))for(const T of g[I.name])y.consumable.consume(E,{classes:T.className})&&y.writer.setAttribute("imageStyle",T.name,I)}}(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",a),n.data.downcastDispatcher.on("attribute:imageStyle",a),e&&(o.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",d,{priority:"low"})),t&&(o.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",d,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,n=e.plugins.get(Wt),o=new Map(this.normalizedStyles.map(a=>[a.name,a]));t.registerPostFixer(a=>{let l=!1;for(const d of t.differ.getChanges())if(d.type=="insert"||d.type=="attribute"&&d.attributeKey=="imageStyle"){let h=d.type=="insert"?d.position.nodeAfter:d.range.start.nodeAfter;if(h&&h.is("element","paragraph")&&h.childCount>0&&(h=h.getChild(0)),!n.isImage(h))continue;const g=h.getAttribute("imageStyle");if(!g)continue;const p=o.get(g);p&&p.modelElements.includes(h.name)||(a.removeAttribute("imageStyle",h),l=!0)}return l})}}var ky=m(6386),i6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(ky.A,i6),ky.A.locals;class s6 extends ee{static get requires(){return[fy]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],n=by(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const a of n)this._createButton(a);const o=by([...t.filter(Te),...hm.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const a of o)this._createDropdown(a,n)}_createDropdown(e,t){const n=this.editor.ui.componentFactory;n.add(e.name,o=>{let a;const{defaultItem:l,items:d,title:h}=e,g=d.filter(E=>t.find(({name:I})=>wy(I)===E)).map(E=>{const I=n.create(E);return E===l&&(a=I),I});d.length!==g.length&&hm.warnInvalidStyle({dropdown:e});const p=br(o,nc),A=p.buttonView,y=A.arrowView;return Fh(p,g,{enableActiveItemFocusOnDropdownOpen:!0}),A.set({label:Ay(h,a.label),class:null,tooltip:!0}),y.unbind("label"),y.set({label:h}),A.bind("icon").toMany(g,"isOn",(...E)=>{const I=E.findIndex(zr);return I<0?a.icon:g[I].icon}),A.bind("label").toMany(g,"isOn",(...E)=>{const I=E.findIndex(zr);return Ay(h,I<0?a.label:g[I].label)}),A.bind("isOn").toMany(g,"isOn",(...E)=>E.some(zr)),A.bind("class").toMany(g,"isOn",(...E)=>E.some(zr)?"ck-splitbutton_flatten":void 0),A.on("execute",()=>{g.some(({isOn:E})=>E)?p.isOpen=!p.isOpen:a.fire("execute")}),p.bind("isEnabled").toMany(g,"isEnabled",(...E)=>E.some(zr)),this.listenTo(p,"execute",()=>{this.editor.editing.view.focus()}),p})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(wy(t),n=>{const o=this.editor.commands.get("imageStyle"),a=new Be(n);return a.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),a.bind("isEnabled").to(o,"isEnabled"),a.bind("isOn").to(o,"value",l=>l===t),a.on("execute",this._executeCommand.bind(this,t)),a})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function by(r,e){for(const t of r)e[t.title]&&(t.title=e[t.title]);return r}function wy(r){return`imageStyle:${r}`}function Ay(r,e){return(r?r+": ":"")+e}class a6 extends ee{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new tb(e)),e.commands.add("outdent",new tb(e))}}class l6 extends ee{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,n=e.t,o=t.uiLanguageDirection=="ltr"?be.indent:be.outdent,a=t.uiLanguageDirection=="ltr"?be.outdent:be.indent;this._defineButton("indent",n("Increase indent"),o),this._defineButton("outdent",n("Decrease indent"),a)}_defineButton(e,t,n){const o=this.editor;o.ui.componentFactory.add(e,()=>{const a=this._createButton(Be,e,t,n);return a.set({tooltip:!0}),a}),o.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(dn,e,t,n))}_createButton(e,t,n,o){const a=this.editor,l=a.commands.get(t),d=new e(a.locale);return d.set({label:n,icon:o}),d.bind("isEnabled").to(l,"isEnabled"),this.listenTo(d,"execute",()=>{a.execute(t),a.editing.view.focus()}),d}}class c6{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,n,o)=>{if(!o.consumable.test(n.item,"attribute:linkHref")||!n.item.is("selection")&&!o.schema.isInline(n.item))return;const a=o.writer,l=a.document.selection;for(const d of this._definitions){const h=a.createAttributeElement("a",d.attributes,{priority:5});d.classes&&a.addClass(d.classes,h);for(const g in d.styles)a.setStyle(g,d.styles[g],h);a.setCustomProperty("link",!0,h),d.callback(n.attributeNewValue)?n.item.is("selection")?a.wrap(l.getFirstRange(),h):a.wrap(o.mapper.toViewRange(n.range),h):a.unwrap(o.mapper.toViewRange(n.range),h)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,n,{writer:o,mapper:a})=>{const l=a.toViewElement(n.item),d=Array.from(l.getChildren()).find(h=>h.is("element","a"));for(const h of this._definitions){const g=er(h.attributes);if(h.callback(n.attributeNewValue)){for(const[p,A]of g)p==="class"?o.addClass(A,d):o.setAttribute(p,A,d);h.classes&&o.addClass(h.classes,d);for(const p in h.styles)o.setStyle(p,h.styles[p],d)}else{for(const[p,A]of g)p==="class"?o.removeClass(A,d):o.removeAttribute(p,d);h.classes&&o.removeClass(h.classes,d);for(const p in h.styles)o.removeStyle(p,d)}}})}}}const d6=function(r,e,t){var n=r.length;return t=t===void 0?n:t,!e&&t>=n?r:mb(r,e,t)};var u6=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const Cy=function(r){return u6.test(r)},h6=function(r){return r.split("")};var vy="\\ud800-\\udfff",m6="["+vy+"]",mm="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",gm="\\ud83c[\\udffb-\\udfff]",yy="[^"+vy+"]",_y="(?:\\ud83c[\\udde6-\\uddff]){2}",xy="[\\ud800-\\udbff][\\udc00-\\udfff]",Ey="(?:"+mm+"|"+gm+")?",Dy="[\\ufe0e\\ufe0f]?",g6=Dy+Ey+("(?:\\u200d(?:"+[yy,_y,xy].join("|")+")"+Dy+Ey+")*"),p6="(?:"+[yy+mm+"?",mm,_y,xy,m6].join("|")+")",f6=RegExp(gm+"(?="+gm+")|"+p6+g6,"g");const k6=function(r){return r.match(f6)||[]},b6=function(r){return Cy(r)?k6(r):h6(r)},w6=function(r){return function(e){e=rh(e);var t=Cy(e)?b6(e):void 0,n=t?t[0]:e.charAt(0),o=t?d6(t,1).join(""):e.slice(1);return n[r]()+o}}("toUpperCase"),A6=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,C6=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,v6=/^((\w+:(\/{2,})?)|(\W))/i,y6=["https?","ftps?","mailto"],Sc="Ctrl+K";function Sy(r,{writer:e}){const t=e.createAttributeElement("a",{href:r},{priority:5});return e.setCustomProperty("link",!0,t),t}function Iy(r,e=y6){const t=String(r),n=e.join("|");return function(o,a){return!!o.replace(A6,"").match(a)}(t,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",n)}`,"i"))?t:"#"}function pm(r,e){return!!r&&e.checkAttribute(r.name,"linkHref")}function fm(r,e){const t=(n=r,C6.test(n)?"mailto:":e);var n;const o=!!t&&!Ty(r);return r&&o?t+r:r}function Ty(r){return v6.test(r)}function Ny(r){window.open(r,"_blank","noopener")}class _6 extends _e{constructor(){super(...arguments),this.manualDecorators=new Pn,this.automaticDecorators=new c6}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement()||ft(t.getSelectedBlocks());pm(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const o of this.manualDecorators)o.value=this._getDecoratorStateFromModel(o.id)}execute(e,t={}){const n=this.editor.model,o=n.document.selection,a=[],l=[];for(const d in t)t[d]?a.push(d):l.push(d);n.change(d=>{if(o.isCollapsed){const h=o.getFirstPosition();if(o.hasAttribute("linkHref")){const g=My(o);let p=gc(h,"linkHref",o.getAttribute("linkHref"),n);o.getAttribute("linkHref")===g&&(p=this._updateLinkContent(n,d,p,e)),d.setAttribute("linkHref",e,p),a.forEach(A=>{d.setAttribute(A,!0,p)}),l.forEach(A=>{d.removeAttribute(A,p)}),d.setSelection(d.createPositionAfter(p.end.nodeBefore))}else if(e!==""){const g=er(o.getAttributes());g.set("linkHref",e),a.forEach(A=>{g.set(A,!0)});const{end:p}=n.insertContent(d.createText(e,g),h);d.setSelection(p)}["linkHref",...a,...l].forEach(g=>{d.removeSelectionAttribute(g)})}else{const h=n.schema.getValidRanges(o.getRanges(),"linkHref"),g=[];for(const A of o.getSelectedBlocks())n.schema.checkAttribute(A,"linkHref")&&g.push(d.createRangeOn(A));const p=g.slice();for(const A of h)this._isRangeToUpdate(A,g)&&p.push(A);for(const A of p){let y=A;if(p.length===1){const E=My(o);o.getAttribute("linkHref")===E&&(y=this._updateLinkContent(n,d,A,e),d.setSelection(d.createSelection(y)))}d.setAttribute("linkHref",e,y),a.forEach(E=>{d.setAttribute(E,!0,y)}),l.forEach(E=>{d.removeAttribute(E,y)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model,n=t.document.selection,o=n.getSelectedElement();return pm(o,t.schema)?o.getAttribute(e):n.getAttribute(e)}_isRangeToUpdate(e,t){for(const n of t)if(n.containsRange(e))return!1;return!0}_updateLinkContent(e,t,n,o){const a=t.createText(o,{linkHref:o});return e.insertContent(a,n)}}function My(r){if(r.isCollapsed){const e=r.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(r.getFirstRange().getItems());if(e.length>1)return null;const t=e[0];return t.is("$text")||t.is("$textProxy")?t.data:null}}class x6 extends _e{refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement();pm(n,e.schema)?this.isEnabled=e.schema.checkAttribute(n,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,n=t.document.selection,o=e.commands.get("link");t.change(a=>{const l=n.isCollapsed?[gc(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),t)]:t.schema.getValidRanges(n.getRanges(),"linkHref");for(const d of l)if(a.removeAttribute("linkHref",d),o)for(const h of o.manualDecorators)a.removeAttribute(h.id,d)})}}class E6 extends Re(){constructor({id:e,label:t,attributes:n,classes:o,styles:a,defaultValue:l}){super(),this.id=e,this.set("value",void 0),this.defaultValue=l,this.label=t,this.attributes=n,this.classes=o,this.styles=a}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var By=m(7719),D6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(By.A,D6),By.A.locals;var S6=Object.defineProperty,jy=Object.getOwnPropertySymbols,I6=Object.prototype.hasOwnProperty,T6=Object.prototype.propertyIsEnumerable,Py=(r,e,t)=>e in r?S6(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,N6=(r,e)=>{for(var t in e||(e={}))I6.call(e,t)&&Py(r,t,e[t]);if(jy)for(var t of jy(e))T6.call(e,t)&&Py(r,t,e[t]);return r};const Ly="automatic",M6=/^(https?:)?\/\//;class Oy extends ee{static get pluginName(){return"LinkEditing"}static get requires(){return[lC,tC,xn]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const e=this.editor,t=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Sy}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(o,a)=>Sy(Iy(o,t),a)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:o=>o.getAttribute("href")}}),e.commands.add("link",new _6(e)),e.commands.add("unlink",new x6(e));const n=function(o,a){const l={"Open in a new tab":o("Open in a new tab"),Downloadable:o("Downloadable")};return a.forEach(d=>("label"in d&&l[d.label]&&(d.label=l[d.label]),d)),a}(e.t,function(o){const a=[];if(o)for(const[l,d]of Object.entries(o)){const h=Object.assign({},d,{id:`link${w6(l)}`});a.push(h)}return a}(e.config.get("link.decorators")));this._enableAutomaticDecorators(n.filter(o=>o.mode===Ly)),this._enableManualDecorators(n.filter(o=>o.mode==="manual")),e.plugins.get(lC).registerAttribute("linkHref"),function(o,a,l,d){const h=o.editing.view,g=new Set;h.document.registerPostFixer(p=>{const A=o.model.document.selection;let y=!1;if(A.hasAttribute(a)){const E=gc(A.getFirstPosition(),a,A.getAttribute(a),o.model),I=o.editing.mapper.toViewRange(E);for(const T of I.getItems())T.is("element",l)&&!T.hasClass(d)&&(p.addClass(d,T),g.add(T),y=!0)}return y}),o.conversion.for("editingDowncast").add(p=>{function A(){h.change(y=>{for(const E of g.values())y.removeClass(d,E),g.delete(E)})}p.on("insert",A,{priority:"highest"}),p.on("remove",A,{priority:"highest"}),p.on("attribute",A,{priority:"highest"}),p.on("selection",A,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,n=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:Ly,callback:o=>!!o&&M6.test(o),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(e),n.length&&t.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,n=t.commands.get("link").manualDecorators;e.forEach(o=>{t.model.schema.extend("$text",{allowAttributes:o.id});const a=new E6(o);n.add(a),t.conversion.for("downcast").attributeToElement({model:a.id,view:(l,{writer:d,schema:h},{item:g})=>{if((g.is("selection")||h.isInline(g))&&l){const p=d.createAttributeElement("a",a.attributes,{priority:5});a.classes&&d.addClass(a.classes,p);for(const A in a.styles)d.setStyle(A,a.styles[A],p);return d.setCustomProperty("link",!0,p),p}}}),t.conversion.for("upcast").elementToAttribute({view:N6({name:"a"},a._createPattern()),model:{key:a.id}})})}_enableLinkOpen(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(n,o)=>{if(!(D.isMac?o.domEvent.metaKey:o.domEvent.ctrlKey))return;let a=o.domTarget;if(a.tagName.toLowerCase()!="a"&&(a=a.closest("a")),!a)return;const l=a.getAttribute("href");l&&(n.stop(),o.preventDefault(),Ny(l))},{context:"$capture"}),this.listenTo(t,"keydown",(n,o)=>{const a=e.commands.get("link").value;a&&o.keyCode===Ie.enter&&o.altKey&&(n.stop(),Ny(a))})}_enableSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection;this.listenTo(t,"change:attribute",(n,{attributeKeys:o})=>{o.includes("linkHref")&&!t.hasAttribute("linkHref")&&e.change(a=>{var l;(function(d,h){d.removeSelectionAttribute("linkHref");for(const g of h)d.removeSelectionAttribute(g)})(a,(l=e.schema,l.getDefinition("$text").allowAttributes.filter(d=>d.startsWith("link"))))})})}_enableClipboardIntegration(){const e=this.editor,t=e.model,n=this.editor.config.get("link.defaultProtocol");n&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(o,a)=>{t.change(l=>{const d=l.createRangeIn(a.content);for(const h of d.getItems())if(h.hasAttribute("linkHref")){const g=fm(h.getAttribute("linkHref"),n);l.setAttribute("linkHref",g,h)}})})}}var zy=m(3817),B6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(zy.A,B6),zy.A.locals;class j6 extends ge{constructor(e,t,n){super(e),this.focusTracker=new kt,this.keystrokes=new Lt,this._focusables=new vn;const o=e.t;this._validators=n,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(o("Save"),be.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(o("Cancel"),be.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new _n({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const a=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&a.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:a,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),Ml({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const e=this.locale.t,t=new ec(this.locale,rc);return t.label=e("Link URL"),t}_createButton(e,t,n,o){const a=new Be(this.locale);return a.set({label:e,icon:t,tooltip:!0}),a.extendTemplate({attributes:{class:n}}),o&&a.delegate("execute").to(this,o),a}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const n of e.manualDecorators){const o=new Jl(this.locale);o.set({name:n.id,label:n.label,withText:!0}),o.bind("isOn").toMany([n,e],"value",(a,l)=>l===void 0&&a===void 0?!!n.defaultValue:!!a),o.on("execute",()=>{n.set("value",!o.isOn)}),t.add(o)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const n=new ge;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(o=>({tag:"li",children:[o],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(n)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}var Ry=m(8762),P6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Ry.A,P6),Ry.A.locals;class L6 extends ge{constructor(e,t={}){super(e),this.focusTracker=new kt,this.keystrokes=new Lt,this._focusables=new vn;const n=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(n("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(n("Edit link"),be.pencil,"edit"),this.set("href",void 0),this._linkConfig=t,this._focusCycler=new _n({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,n){const o=new Be(this.locale);return o.set({label:e,icon:t,tooltip:!0}),o.delegate("execute").to(this,n),o}_createPreviewButton(){const e=new Be(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",o=>o&&Iy(o,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",o=>o||n("This link has no URL")),e.bind("isEnabled").to(this,"href",o=>!!o),e.template.tag="a",e.template.eventListeners={},e}}const ir="link-ui";class O6 extends ee{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[cc]}static get pluginName(){return"LinkUI"}init(){const e=this.editor,t=this.editor.t;e.editing.view.addObserver(T3),this._balloon=e.plugins.get(cc),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:ir,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:ir,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Create link"),keystroke:Sc},{label:t("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new L6(e.locale,e.config.get("link")),n=e.commands.get("link"),o=e.commands.get("unlink");return t.bind("href").to(n,"value"),t.editButtonView.bind("isEnabled").to(n),t.unlinkButtonView.bind("isEnabled").to(o),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(a,l)=>{this._hideUI(),l()}),t.keystrokes.set(Sc,(a,l)=>{this._addFormView(),l()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),n=e.config.get("link.defaultProtocol"),o=new(Ju(j6))(e.locale,t,function(a){const l=a.t,d=a.config.get("link.allowCreatingEmptyLinks");return[h=>{if(!d&&!h.url.length)return l("Link URL must not be empty.")}]}(e));return o.urlInputView.fieldView.bind("value").to(t,"value"),o.urlInputView.bind("isEnabled").to(t,"isEnabled"),o.saveButtonView.bind("isEnabled").to(t,"isEnabled"),this.listenTo(o,"submit",()=>{if(o.isValid()){const{value:a}=o.urlInputView.fieldView.element,l=fm(a,n);e.execute("link",l,o.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(o.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(o,"cancel",()=>{this._closeFormView()}),o.keystrokes.set("Esc",(a,l)=>{this._closeFormView(),l()}),o}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link");e.ui.componentFactory.add("link",()=>{const n=this._createButton(Be);return n.set({tooltip:!0,isToggleable:!0}),n.bind("isOn").to(t,"value",o=>!!o),n}),e.ui.componentFactory.add("menuBar:link",()=>this._createButton(dn))}_createButton(e){const t=this.editor,n=t.locale,o=t.commands.get("link"),a=new e(t.locale),l=n.t;return a.set({label:l("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:Sc}),a.bind("isEnabled").to(o,"isEnabled"),this.listenTo(a,"execute",()=>this._showUI(!0)),a}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(Sc,(n,o)=>{o(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),Nl({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let n=this._getSelectedLinkElement(),o=l();const a=()=>{const d=this._getSelectedLinkElement(),h=l();n&&!d||!n&&h!==o?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=d,o=h};function l(){return t.selection.focus.getAncestors().reverse().find(d=>d.is("element"))}this.listenTo(e.ui,"update",a),this.listenTo(this._balloon,"change:visibleView",a)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,n=e.document;let o;if(t.markers.has(ir)){const a=Array.from(this.editor.editing.mapper.markerNameToElements(ir)),l=e.createRange(e.createPositionBefore(a[0]),e.createPositionAfter(a[a.length-1]));o=e.domConverter.viewRangeToDom(l)}else o=()=>{const a=this._getSelectedLinkElement();return a?e.domConverter.mapViewToDom(a):e.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:o}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,n=t.getSelectedElement();if(t.isCollapsed||n&&lt(n))return km(t.getFirstPosition());{const o=t.getFirstRange().getTrimmed(),a=km(o.start),l=km(o.end);return a&&a==l&&e.createRangeIn(a).getTrimmed().isEqual(o)?a:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const n=e.document.selection.getFirstRange();if(e.markers.has(ir))t.updateMarker(ir,{range:n});else if(n.start.isAtEnd){const o=n.start.getLastMatchingPosition(({item:a})=>!e.schema.isContent(a),{boundaries:n});t.addMarker(ir,{usingOperation:!1,affectsData:!1,range:t.createRange(o,n.end)})}else t.addMarker(ir,{usingOperation:!1,affectsData:!1,range:n})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(ir)&&e.change(t=>{t.removeMarker(ir)})}}function km(r){return r.getAncestors().find(e=>{return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t})||null}const Fy=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class z6 extends ee{static get requires(){return[Ar,Oy]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,t){return t.textNode&&t.textNode.hasAttribute("linkHref")?gc(t,"linkHref",t.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,t){const n=this.editor.model,o=n.document.selection,a=o.getFirstPosition(),l=o.getLastPosition();let d=t.getJoined(this._expandLinkRange(n,a)||t);d&&(d=d.getJoined(this._expandLinkRange(n,l)||t)),d&&(d.start.isBefore(a)||d.end.isAfter(l))&&e.setSelection(d)}_enablePasteLinking(){const e=this.editor,t=e.model,n=t.document.selection,o=e.plugins.get("ClipboardPipeline"),a=e.commands.get("link");o.on("inputTransformation",(l,d)=>{if(!this.isEnabled||!a.isEnabled||n.isCollapsed||d.method!=="paste"||n.rangeCount>1)return;const h=n.getFirstRange(),g=d.dataTransfer.getData("text/plain");if(!g)return;const p=g.match(Fy);p&&p[2]===g&&(t.change(A=>{this._selectEntireLinks(A,h),a.execute(g)}),l.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,t=new aC(e.model,n=>{if(!function(a){return a.length>4&&a[a.length-1]===" "&&a[a.length-2]!==" "}(n))return;const o=Vy(n.substr(0,n.length-1));return o?{url:o}:void 0});t.on("matched:data",(n,o)=>{const{batch:a,range:l,url:d}=o;if(!a.isTyping)return;const h=l.end.getShiftedBy(-1),g=h.getShiftedBy(-d.length),p=e.model.createRange(g,h);this._applyAutoLink(d,p)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("enter");n&&n.on("execute",()=>{const o=t.document.selection.getFirstPosition();if(!o.parent.previousSibling)return;const a=t.createRangeIn(o.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(a)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("shiftEnter");n&&n.on("execute",()=>{const o=t.document.selection.getFirstPosition(),a=t.createRange(t.createPositionAt(o.parent,0),o.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(a)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:n,range:o}=sC(e,t),a=Vy(n);if(a){const l=t.createRange(o.end.getShiftedBy(-a.length),o.end);this._applyAutoLink(a,l)}}_applyAutoLink(e,t){const n=this.editor.model,o=fm(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(a,l){return l.schema.checkAttributeInSelection(l.createSelection(a),"linkHref")}(t,n)&&Ty(o)&&!function(a){const l=a.start.nodeAfter;return!!l&&l.hasAttribute("linkHref")}(t)&&this._persistAutoLink(o,t)}_persistAutoLink(e,t){const n=this.editor.model,o=this.editor.plugins.get("Delete");n.enqueueChange(a=>{a.setAttribute("linkHref",e,t),n.enqueueChange(()=>{o.requestUndoOnBackspace()})})}}function Vy(r){const e=Fy.exec(r);return e?e[2]:null}var Uy=m(4808),R6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Uy.A,R6),Uy.A.locals;class Dn{constructor(e,t){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward=t.direction=="forward",this._includeSelf=!!t.includeSelf,this._sameAttributes=He(t.sameAttributes||[]),this._sameIndent=!!t.sameIndent,this._lowerIndent=!!t.lowerIndent,this._higherIndent=!!t.higherIndent}static first(e,t){return ft(new this(e,t)[Symbol.iterator]())}*[Symbol.iterator](){const e=[];for(const{node:t}of la(this._getStartNode(),this._isForward?"forward":"backward")){const n=t.getAttribute("listIndent");if(n<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=n}else if(n>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(t);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some(o=>t.getAttribute(o)!==this._startElement.getAttribute(o)))break}e.length&&(yield*e,e.length=0),yield t}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*la(r,e="forward"){const t=e=="forward",n=[];let o=null;for(;ht(r);){let a=null;if(o){const l=r.getAttribute("listIndent"),d=o.getAttribute("listIndent");l>d?n[d]=o:l<d?(a=n[l],n.length=l):a=o}yield{node:r,previous:o,previousNodeInList:a},o=r,r=t?r.nextSibling:r.previousSibling}}class F6{constructor(e){this._listHead=e}[Symbol.iterator](){return la(this._listHead,"forward")}}var V6=Object.defineProperty,U6=Object.defineProperties,H6=Object.getOwnPropertyDescriptors,Hy=Object.getOwnPropertySymbols,q6=Object.prototype.hasOwnProperty,W6=Object.prototype.propertyIsEnumerable,qy=(r,e,t)=>e in r?V6(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ca=(r,e)=>{for(var t in e||(e={}))q6.call(e,t)&&qy(r,t,e[t]);if(Hy)for(var t of Hy(e))W6.call(e,t)&&qy(r,t,e[t]);return r},bm=(r,e)=>U6(r,H6(e));class Li{static next(){return z()}}function ht(r){return!!r&&r.is("element")&&r.hasAttribute("listItemId")}function wm(r,e={}){return[...qr(r,bm(ca({},e),{direction:"backward"})),...qr(r,bm(ca({},e),{direction:"forward"}))]}function qr(r,e={}){const t=e.direction=="forward",n=Array.from(new Dn(r,bm(ca({},e),{includeSelf:t,sameIndent:!0,sameAttributes:"listItemId"})));return t?n:n.reverse()}function Wy(r,e){const t=new Dn(r,ca({sameIndent:!0,sameAttributes:"listType"},e)),n=new Dn(r,ca({sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"},e));return[...Array.from(t).reverse(),...n]}function zo(r){return!Dn.first(r,{sameIndent:!0,sameAttributes:"listItemId"})}function $y(r){return!Dn.first(r,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function da(r,e={}){r=He(r);const t=e.withNested!==!1,n=new Set;for(const o of r)for(const a of wm(o,{higherIndent:t}))n.add(a);return Ro(n)}function $6(r){r=He(r);const e=new Set;for(const t of r)for(const n of Wy(t))e.add(n);return Ro(e)}function Am(r,e){const t=qr(r,{direction:"forward"}),n=Li.next();for(const o of t)e.setAttribute("listItemId",n,o);return t}function Cm(r,e,t){const n={};for(const[a,l]of e.getAttributes())a.startsWith("list")&&(n[a]=l);const o=qr(r,{direction:"forward"});for(const a of o)t.setAttributes(n,a);return o}function vm(r,e,{expand:t,indentBy:n=1}={}){r=He(r);const o=t?da(r):r;for(const a of o){const l=a.getAttribute("listIndent")+n;l<0?Ic(a,e):e.setAttribute("listIndent",l,a)}return o}function Ic(r,e){r=He(r);for(const t of r)t.is("element","listItem")&&e.rename(t,"paragraph");for(const t of r)for(const n of t.getAttributeKeys())n.startsWith("list")&&e.removeAttribute(n,t);return r}function ua(r){if(!r.length)return!1;const e=r[0].getAttribute("listItemId");return!!e&&!r.some(t=>t.getAttribute("listItemId")!=e)}function Ro(r){return Array.from(r).filter(e=>e.root.rootName!=="$graveyard").sort((e,t)=>e.index-t.index)}function ha(r){const e=r.document.selection.getSelectedElement();return e&&r.schema.isObject(e)&&r.schema.isBlock(e)?e:null}function ym(r,e){return e.checkChild(r.parent,"listItem")&&e.checkChild(r,"$text")&&!e.isObject(r)}function G6(r){return r=="numbered"||r=="customNumbered"}function K6(r,e,t){return qr(e,{direction:"forward"}).pop().index>r.index?Cm(r,e,t):[]}class Gy extends _e{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=Ky(e.document.selection);e.change(n=>{const o=[];ua(t)&&!zo(t[0])?(this._direction=="forward"&&o.push(...vm(t,n)),o.push(...Am(t[0],n))):this._direction=="forward"?o.push(...vm(t,n,{expand:!0})):o.push(...function(a,l){const d=da(a=He(a)),h=new Set,g=Math.min(...d.map(A=>A.getAttribute("listIndent"))),p=new Map;for(const A of d)p.set(A,Dn.first(A,{lowerIndent:!0}));for(const A of d){if(h.has(A))continue;h.add(A);const y=A.getAttribute("listIndent")-1;if(y<0)Ic(A,l);else{if(A.getAttribute("listIndent")==g){const E=K6(A,p.get(A),l);for(const I of E)h.add(I);if(E.length)continue}l.setAttribute("listIndent",y,A)}}return Ro(h)}(t,n));for(const a of o){if(!a.hasAttribute("listType"))continue;const l=Dn.first(a,{sameIndent:!0});l&&n.setAttribute("listType",l.getAttribute("listType"),a)}this._fireAfterExecute(o)})}_fireAfterExecute(e){this.fire("afterExecute",Ro(new Set(e)))}_checkEnabled(){let e=Ky(this.editor.model.document.selection),t=e[0];if(!t)return!1;if(this._direction=="backward"||ua(e)&&!zo(e[0]))return!0;e=da(e),t=e[0];const n=Dn.first(t,{sameIndent:!0});return!!n&&n.getAttribute("listType")==t.getAttribute("listType")}}function Ky(r){const e=Array.from(r.getSelectedBlocks()),t=e.findIndex(n=>!ht(n));return t!=-1&&(e.length=t),e}var Q6=Object.defineProperty,Y6=Object.defineProperties,Z6=Object.getOwnPropertyDescriptors,Qy=Object.getOwnPropertySymbols,J6=Object.prototype.hasOwnProperty,X6=Object.prototype.propertyIsEnumerable,Yy=(r,e,t)=>e in r?Q6(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_m=(r,e)=>{for(var t in e||(e={}))J6.call(e,t)&&Yy(r,t,e[t]);if(Qy)for(var t of Qy(e))X6.call(e,t)&&Yy(r,t,e[t]);return r},xm=(r,e)=>Y6(r,Z6(e));class Tc extends _e{constructor(e,t,n={}){super(e),this.type=t,this._listWalkerOptions=n.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.document,o=ha(t),a=Array.from(n.selection.getSelectedBlocks()).filter(d=>t.schema.checkAttribute(d,"listType")||ym(d,t.schema)),l=e.forceValue!==void 0?!e.forceValue:this.value;t.change(d=>{if(l){const h=a[a.length-1],g=qr(h,{direction:"forward"}),p=[];g.length>1&&p.push(...Am(g[1],d)),p.push(...Ic(a,d)),p.push(...function(A,y){const E=[];let I=Number.POSITIVE_INFINITY;for(const{node:T}of la(A.nextSibling,"forward")){const O=T.getAttribute("listIndent");if(O==0)break;O<I&&(I=O);const R=O-I;y.setAttribute("listIndent",R,T),E.push(T)}return E}(h,d)),this._fireAfterExecute(p)}else if((o||n.selection.isCollapsed)&&ht(a[0])){const h=Wy(o||a[0],this._listWalkerOptions);for(const g of h)d.setAttributes(xm(_m({},e.additionalAttributes),{listType:this.type}),g);this._fireAfterExecute(h)}else{const h=[];for(const g of a)if(g.hasAttribute("listType"))for(const p of da(g,{withNested:!1}))p.getAttribute("listType")!=this.type&&(d.setAttributes(xm(_m({},e.additionalAttributes),{listType:this.type}),p),h.push(p));else!g.is("element","listItem")&&ym(g,t.schema)&&d.rename(g,"listItem"),d.setAttributes(xm(_m({},e.additionalAttributes),{listIndent:0,listItemId:Li.next(),listType:this.type}),g),h.push(g);this._fireAfterExecute(h)}})}_fireAfterExecute(e){this.fire("afterExecute",Ro(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,t=Array.from(e.getSelectedBlocks());if(!t.length)return!1;for(const n of t)if(n.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,t=e.schema,n=e.document.selection,o=Array.from(n.getSelectedBlocks());if(!o.length)return!1;if(this.value)return!0;for(const a of o)if(t.checkAttribute(a,"listType")||ym(a,t))return!0;return!1}}class Zy extends _e{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const t=this.editor.model,n=t.document.selection,o=[];t.change(a=>{const{firstElement:l,lastElement:d}=this._getMergeSubjectElements(n,e),h=l.getAttribute("listIndent")||0,g=d.getAttribute("listIndent"),p=d.getAttribute("listItemId");if(h!=g){const y=(A=d,Array.from(new Dn(A,{direction:"forward",higherIndent:!0})));o.push(...vm([d,...y],a,{indentBy:h-g,expand:h<g}))}var A;if(e){let y=n;n.isCollapsed&&(y=a.createSelection(a.createRange(a.createPositionAt(l,"end"),a.createPositionAt(d,0)))),t.deleteContent(y,{doNotResetEntireContent:n.isCollapsed});const E=y.getLastPosition().parent,I=E.nextSibling;o.push(E),I&&I!==d&&I.getAttribute("listItemId")==p&&o.push(...Cm(I,E,a))}else o.push(...Cm(d,l,a));this._fireAfterExecute(o)})}_fireAfterExecute(e){this.fire("afterExecute",Ro(new Set(e)))}_checkEnabled(){const e=this.editor.model,t=e.document.selection,n=ha(e);if(t.isCollapsed||n){const o=n||t.getFirstPosition().parent;if(!ht(o))return!1;const a=this._direction=="backward"?o.previousSibling:o.nextSibling;if(!a||ua([o,a]))return!1}else{const o=t.getLastPosition(),a=t.getFirstPosition();if(o.parent===a.parent||!ht(o.parent))return!1}return!0}_getMergeSubjectElements(e,t){const n=ha(this.editor.model);let o,a;if(e.isCollapsed||n){const l=n||e.getFirstPosition().parent,d=zo(l);this._direction=="backward"?(a=l,o=d&&!t?Dn.first(l,{sameIndent:!0,lowerIndent:!0}):l.previousSibling):(o=l,a=l.nextSibling)}else o=e.getFirstPosition().parent,a=e.getLastPosition().parent;return{firstElement:o,lastElement:a}}}class Jy extends _e{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(e=>{const t=Am(this._getStartBlock(),e);this._fireAfterExecute(t)})}_fireAfterExecute(e){this.fire("afterExecute",Ro(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,t=this._getStartBlock();return e.isCollapsed&&ht(t)&&!zo(t)}_getStartBlock(){const e=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?e:e.nextSibling}}class eL extends ee{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(e){return $6(e)}isFirstBlockOfListItem(e){return zo(e)}isListItemBlock(e){return ht(e)}expandListBlocksToCompleteItems(e,t={}){return da(e,t)}isNumberedListType(e){return G6(e)}}function Xy(r){return r.is("element","ol")||r.is("element","ul")}function Nc(r){return r.is("element","li")}function tL(r,e,t,n=t_(t,e)){return r.createAttributeElement(e_(t),null,{priority:2*e/100-100,id:n})}function nL(r,e,t){return r.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:t})}function e_(r){return r=="numbered"||r=="customNumbered"?"ol":"ul"}function t_(r,e){return`list-${r}-${e}`}function Hn(r,e){const t=r.nodeBefore;if(ht(t)){let n=t;for(const{node:o}of la(n,"backward"))if(n=o,e.has(n))return;e.set(t,n)}else{const n=r.nodeAfter;ht(n)&&e.set(n,n)}}function rL(){return(r,e,t)=>{const{writer:n,schema:o}=t;if(!e.modelRange)return;const a=Array.from(e.modelRange.getItems({shallow:!0})).filter(A=>o.checkAttribute(A,"listItemId"));if(!a.length)return;const l=Li.next(),d=function(A){let y=0,E=A.parent;for(;E;){if(Nc(E))y++;else{const I=E.previousSibling;I&&Nc(I)&&y++}E=E.parent}return y}(e.viewItem);let h=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const g=a[0].getAttribute("listType");g&&(h=g);const p={listItemId:l,listIndent:d,listType:h};for(const A of a)A.hasAttribute("listItemId")||n.setAttributes(p,A);a.length>1&&a[1].getAttribute("listItemId")!=p.listItemId&&t.keepEmptyElement(a[0])}}function n_(){return(r,e,t)=>{if(!t.consumable.test(e.viewItem,{name:!0}))return;const n=new fr(e.viewItem.document);for(const o of Array.from(e.viewItem.getChildren()))Nc(o)||Xy(o)||n.remove(o)}}function r_(r,e,t,{dataPipeline:n}={}){const o=function(a){return(l,d)=>{const h=[];for(const g of a)l.hasAttribute(g)&&h.push(`attribute:${g}`);return!!h.every(g=>d.test(l,g)!==!1)&&(h.forEach(g=>d.consume(l,g)),!0)}}(r);return(a,l,d)=>{const{writer:h,mapper:g,consumable:p}=d,A=l.item;if(!r.includes(l.attributeKey)||!o(A,p))return;const y=function(I,T,O){const R=O.createRangeOn(I);return T.toViewRange(R).getTrimmed().end.nodeBefore}(A,g,t);i_(y,h,g),function(I,T){let O=I.parent;for(;O.is("attributeElement")&&["ul","ol","li"].includes(O.name);){const R=O.parent;T.unwrap(T.createRangeOn(I),O),O=R}}(y,h);const E=function(I,T,O,R,{dataPipeline:U}){let W=R.createRangeOn(T);if(!zo(I))return W;for(const Z of O){if(Z.scope!="itemMarker")continue;const le=Z.createElement(R,I,{dataPipeline:U});if(!le||(R.setCustomProperty("listItemMarker",!0,le),Z.canInjectMarkerIntoElement&&Z.canInjectMarkerIntoElement(I)?R.insert(R.createPositionAt(T,0),le):(R.insert(W.start,le),W=R.createRange(R.createPositionBefore(le),R.createPositionAfter(T))),!Z.createWrapperElement||!Z.canWrapElement))continue;const fe=Z.createWrapperElement(R,I,{dataPipeline:U});R.setCustomProperty("listItemWrapper",!0,fe),Z.canWrapElement(I)?W=R.wrap(W,fe):(W=R.wrap(R.createRangeOn(le),fe),W=R.createRange(W.start,R.createPositionAfter(T)))}return W}(A,y,e,h,{dataPipeline:n});(function(I,T,O,R){if(!I.hasAttribute("listIndent"))return;const U=I.getAttribute("listIndent");let W=I;for(let Z=U;Z>=0;Z--){const le=nL(R,Z,W.getAttribute("listItemId")),fe=tL(R,Z,W.getAttribute("listType"));for(const we of O)we.scope!="list"&&we.scope!="item"||!W.hasAttribute(we.attributeName)||we.setAttributeOnDowncast(R,W.getAttribute(we.attributeName),we.scope=="list"?fe:le);if(T=R.wrap(T,le),T=R.wrap(T,fe),Z==0||(W=Dn.first(W,{lowerIndent:!0}),!W))break}})(A,E,e,h)}}function o_(r,{dataPipeline:e}={}){return(t,{writer:n})=>{if(!s_(t,r))return null;if(!e)return n.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const o=n.createContainerElement("p");return n.setCustomProperty("dataPipeline:transparentRendering",!0,o),o}}function i_(r,e,t){for(;r.parent.is("attributeElement")&&r.parent.getCustomProperty("listItemWrapper");)e.unwrap(e.createRangeOn(r),r.parent);const n=[];o(e.createPositionBefore(r).getWalker({direction:"backward"})),o(e.createRangeIn(r).getWalker());for(const a of n)e.remove(a);function o(a){for(const{item:l}of a){if(l.is("element")&&t.toModelElement(l))break;l.is("element")&&l.getCustomProperty("listItemMarker")&&n.push(l)}}}function s_(r,e,t=wm(r)){if(!ht(r))return!1;for(const n of r.getAttributeKeys())if(!n.startsWith("selection:")&&!e.includes(n))return!1;return t.length<2}var a_=m(1232),oL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(a_.A,oL),a_.A.locals;var l_=m(6903),iL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(l_.A,iL),l_.A.locals;const Mc=["listType","listIndent","listItemId"];class sL extends ee{constructor(e){super(e),this._downcastStrategies=[],e.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[pc,Ar,eL,xn]}init(){const e=this.editor,t=e.model,n=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new P("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});t.schema.register("$listItem",{allowAttributes:Mc}),n?(t.schema.extend("$container",{allowAttributesOf:"$listItem"}),t.schema.extend("$block",{allowAttributesOf:"$listItem"}),t.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):t.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const o of Mc)t.schema.setAttributeProperties(o,{copyOnReplace:!0});e.commands.add("numberedList",new Tc(e,"numbered")),e.commands.add("bulletedList",new Tc(e,"bulleted")),e.commands.add("customNumberedList",new Tc(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new Tc(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new Gy(e,"forward")),e.commands.add("outdentList",new Gy(e,"backward")),e.commands.add("splitListItemBefore",new Jy(e,"before")),e.commands.add("splitListItemAfter",new Jy(e,"after")),n&&(e.commands.add("mergeListItemBackward",new Zy(e,"backward")),e.commands.add("mergeListItemForward",new Zy(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList"),{priority:"high"}),n&&n.registerChildCommand(e.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...Mc,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,t=e.commands.get("mergeListItemBackward"),n=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(o,a)=>{const l=e.model.document.selection;ha(e.model)||e.model.change(()=>{const d=l.getFirstPosition();if(l.isCollapsed&&a.direction=="backward"){if(!d.isAtStart)return;const h=d.parent;if(!ht(h))return;if(Dn.first(h,{sameAttributes:"listType",sameIndent:!0})||h.getAttribute("listIndent")!==0){if(!t||!t.isEnabled)return;t.execute({shouldMergeOnBlocksContentLevel:c_(e.model,"backward")})}else $y(h)||e.execute("splitListItemAfter"),e.execute("outdentList");a.preventDefault(),o.stop()}else{if(l.isCollapsed&&!l.getLastPosition().isAtEnd||!n||!n.isEnabled)return;n.execute({shouldMergeOnBlocksContentLevel:c_(e.model,"forward")}),a.preventDefault(),o.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,t=e.model,n=e.commands,o=n.get("enter");this.listenTo(e.editing.view.document,"enter",(a,l)=>{const d=t.document,h=d.selection.getFirstPosition().parent;if(d.selection.isCollapsed&&ht(h)&&h.isEmpty&&!l.isSoft){const g=zo(h),p=$y(h);g&&p?(e.execute("outdentList"),l.preventDefault(),a.stop()):g&&!p?(e.execute("splitListItemAfter"),l.preventDefault(),a.stop()):p&&(e.execute("splitListItemBefore"),l.preventDefault(),a.stop())}},{context:"li"}),this.listenTo(o,"afterExecute",()=>{const a=n.get("splitListItemBefore");a.refresh(),a.isEnabled&&wm(e.model.document.selection.getLastPosition().parent).length===2&&a.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(t,n)=>{const o=n.shiftKey?"outdentList":"indentList";this.editor.commands.get(o).isEnabled&&(e.execute(o),n.stopPropagation(),n.preventDefault(),t.stop())},{context:"li"})}_setupConversion(){const e=this.editor,t=e.model,n=this.getListAttributeNames(),o=e.config.get("list.multiBlock"),a=o?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(g,{writer:p})=>p.createElement(a,{listType:""})}).elementToElement({view:"p",model:(g,{writer:p})=>g.parent&&g.parent.is("element","li")?p.createElement(a,{listType:""}):null,converterPriority:"high"}).add(g=>{g.on("element:li",rL()),g.on("element:ul",n_(),{priority:"high"}),g.on("element:ol",n_(),{priority:"high"})}),o||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:a,view:o_(n),converterPriority:"high"}).add(g=>{var p;g.on("attribute",r_(n,this._downcastStrategies,t)),g.on("remove",(p=t.schema,(A,y,E)=>{const{writer:I,mapper:T}=E,O=A.name.split(":")[1];if(!p.checkAttribute(O,"listItemId"))return;const R=T.toViewPosition(y.position),U=y.position.getShiftedBy(y.length),W=T.toViewPosition(U,{isPhantom:!0}),Z=I.createRange(R,W).getTrimmed().end.nodeBefore;Z&&i_(Z,I,T)}))}),e.conversion.for("dataDowncast").elementToElement({model:a,view:o_(n,{dataPipeline:!0}),converterPriority:"high"}).add(g=>{g.on("attribute",r_(n,this._downcastStrategies,t,{dataPipeline:!0}))});const l=(d=this._downcastStrategies,h=e.editing.view,(g,p)=>{if(p.modelPosition.offset>0)return;const A=p.modelPosition.parent;if(!ht(A)||!d.some(O=>O.scope=="itemMarker"&&O.canInjectMarkerIntoElement&&O.canInjectMarkerIntoElement(A)))return;const y=p.mapper.toViewElement(A),E=h.createRangeIn(y),I=E.getWalker();let T=E.start;for(const{item:O}of I){if(O.is("element")&&p.mapper.toModelElement(O)||O.is("$textProxy"))break;O.is("element")&&O.getCustomProperty("listItemMarker")&&(T=h.createPositionAfter(O),I.skip(({previousPosition:R})=>!R.isEqual(T)))}p.viewPosition=T});var d,h;e.editing.mapper.on("modelToViewPosition",l),e.data.mapper.on("modelToViewPosition",l),this.listenTo(t.document,"change:data",function(g,p,A,y){return()=>{const O=g.document.differ.getChanges(),R=[],U=new Map,W=new Set;for(const Z of O)if(Z.type=="insert"&&Z.name!="$text")Hn(Z.position,U),Z.attributes.has("listItemId")?W.add(Z.position.nodeAfter):Hn(Z.position.getShiftedBy(Z.length),U);else if(Z.type=="remove"&&Z.attributes.has("listItemId"))Hn(Z.position,U);else if(Z.type=="attribute"){const le=Z.range.start.nodeAfter;A.includes(Z.attributeKey)?(Hn(Z.range.start,U),Z.attributeNewValue===null?(Hn(Z.range.start.getShiftedBy(1),U),I(le)&&R.push(le)):W.add(le)):ht(le)&&I(le)&&R.push(le)}for(const Z of U.values())R.push(...E(Z,W));for(const Z of new Set(R))p.reconvertItem(Z)};function E(O,R){const U=[],W=new Set,Z=[];for(const{node:le,previous:fe}of la(O,"forward")){if(W.has(le))continue;const we=le.getAttribute("listIndent");fe&&we<fe.getAttribute("listIndent")&&(Z.length=we+1),Z[we]=Object.fromEntries(Array.from(le.getAttributes()).filter(([mt])=>A.includes(mt)));const qe=qr(le,{direction:"forward"});for(const mt of qe)W.add(mt),(I(mt,qe)||T(mt,Z,R))&&U.push(mt)}return U}function I(O,R){const U=p.mapper.toViewElement(O);if(!U)return!1;if(y.fire("checkElement",{modelElement:O,viewElement:U}))return!0;if(!O.is("element","paragraph")&&!O.is("element","listItem"))return!1;const W=s_(O,A,R);return!(!W||!U.is("element","p"))||!(W||!U.is("element","span"))}function T(O,R,U){if(U.has(O))return!1;const W=p.mapper.toViewElement(O);let Z=R.length-1;for(let le=W.parent;!le.is("editableElement");le=le.parent){const fe=Nc(le),we=Xy(le);if(!we&&!fe)continue;const qe="checkAttributes:"+(fe?"item":"list");if(y.fire(qe,{viewElement:le,modelAttributes:R[Z]}))break;if(we&&(Z--,Z<0))return!1}return!0}}(t,e.editing,n,this),{priority:"high"}),this.on("checkAttributes:item",(g,{viewElement:p,modelAttributes:A})=>{p.id!=A.listItemId&&(g.return=!0,g.stop())}),this.on("checkAttributes:list",(g,{viewElement:p,modelAttributes:A})=>{p.name==e_(A.listType)&&p.id==t_(A.listType,A.listIndent)||(g.return=!0,g.stop())})}_setupModelPostFixing(){const e=this.editor.model,t=this.getListAttributeNames();e.document.registerPostFixer(n=>function(o,a,l,d){const h=o.document.differ.getChanges(),g=new Map,p=d.editor.config.get("list.multiBlock");let A=!1;for(const E of h){if(E.type=="insert"&&E.name!="$text"){const I=E.position.nodeAfter;if(!o.schema.checkAttribute(I,"listItemId"))for(const T of Array.from(I.getAttributeKeys()))l.includes(T)&&(a.removeAttribute(T,I),A=!0);Hn(E.position,g),E.attributes.has("listItemId")||Hn(E.position.getShiftedBy(E.length),g);for(const{item:T,previousPosition:O}of o.createRangeIn(I))ht(T)&&Hn(O,g)}else E.type=="remove"?Hn(E.position,g):E.type=="attribute"&&l.includes(E.attributeKey)&&(Hn(E.range.start,g),E.attributeNewValue===null&&Hn(E.range.start.getShiftedBy(1),g));if(!p&&E.type=="attribute"&&Mc.includes(E.attributeKey)){const I=E.range.start.nodeAfter;E.attributeNewValue===null&&I&&I.is("element","listItem")?(a.rename(I,"paragraph"),A=!0):E.attributeOldValue===null&&I&&I.is("element")&&I.name!="listItem"&&(a.rename(I,"listItem"),A=!0)}}const y=new Set;for(const E of g.values())A=d.fire("postFixer",{listNodes:new F6(E),listHead:E,writer:a,seenIds:y})||A;return A}(e,n,t,this)),this.on("postFixer",(n,{listNodes:o,writer:a})=>{n.return=function(l,d){let h=0,g=-1,p=null,A=!1;for(const{node:y}of l){const E=y.getAttribute("listIndent");if(E>h){let I;p===null?(p=E-h,I=h):(p>E&&(p=E),I=E-p),I>g+1&&(I=g+1),d.setAttribute("listIndent",I,y),A=!0,g=I}else p=null,h=E+1,g=E}return A}(o,a)||n.return},{priority:"high"}),this.on("postFixer",(n,{listNodes:o,writer:a,seenIds:l})=>{n.return=function(d,h,g){const p=new Set;let A=!1;for(const{node:y}of d){if(p.has(y))continue;let E=y.getAttribute("listType"),I=y.getAttribute("listItemId");if(h.has(I)&&(I=Li.next()),h.add(I),y.is("element","listItem"))y.getAttribute("listItemId")!=I&&(g.setAttribute("listItemId",I,y),A=!0);else for(const T of qr(y,{direction:"forward"}))p.add(T),T.getAttribute("listType")!=E&&(I=Li.next(),E=T.getAttribute("listType")),T.getAttribute("listItemId")!=I&&(g.setAttribute("listItemId",I,T),A=!0)}return A}(o,l,a)||n.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,t=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",function(n){return(o,[a,l])=>{const d=a.is("documentFragment")?Array.from(a.getChildren()):[a];if(!d.length)return;const h=(l?n.createSelection(l):n.document.selection).getFirstPosition();let g;if(ht(h.parent))g=h.parent;else{if(!ht(h.nodeBefore))return;g=h.nodeBefore}n.change(p=>{const A=g.getAttribute("listType"),y=g.getAttribute("listIndent"),E=d[0].getAttribute("listIndent")||0,I=Math.max(y-E,0);for(const T of d){const O=ht(T);g.is("element","listItem")&&T.is("element","paragraph")&&p.rename(T,"listItem"),p.setAttributes({listIndent:(O?T.getAttribute("listIndent"):0)+I,listItemId:O?T.getAttribute("listItemId"):Li.next(),listType:A},T)}})}}(e),{priority:"high"}),this.listenTo(t,"outputTransformation",(n,o)=>{e.change(a=>{const l=Array.from(o.content.getChildren()),d=l[l.length-1];if(l.length>1&&d.is("element")&&d.isEmpty&&l.slice(0,-1).every(ht)&&a.remove(d),o.method=="copy"||o.method=="cut"){const h=Array.from(o.content.getChildren());ua(h)&&Ic(h,a)}})})}_setupAccessibilityIntegration(){const e=this.editor,t=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:t("Keystrokes that can be used in a list"),keystrokes:[{label:t("Increase list item indent"),keystroke:"Tab"},{label:t("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function c_(r,e){const t=r.document.selection;if(!t.isCollapsed)return!ha(r);if(e==="forward")return!0;const n=t.getFirstPosition().parent,o=n.previousSibling;return!r.schema.isObject(o)&&(!!o.isEmpty||ua([n,o]))}function d_(r,e,t,n){r.ui.componentFactory.add(e,()=>{const o=u_(Be,r,e,t,n);return o.set({tooltip:!0,isToggleable:!0}),o}),r.ui.componentFactory.add(`menuBar:${e}`,()=>u_(dn,r,e,t,n))}function u_(r,e,t,n,o){const a=e.commands.get(t),l=new r(e.locale);return l.set({label:n,icon:o}),l.bind("isOn","isEnabled").to(a,"value","isEnabled"),l.on("execute",()=>{e.execute(t),e.editing.view.focus()}),l}class aL extends ee{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||d_(this.editor,"numberedList",e("Numbered List"),be.numberedList),this.editor.ui.componentFactory.has("bulletedList")||d_(this.editor,"bulletedList",e("Bulleted List"),be.bulletedList)}}class lL extends ee{static get requires(){return[sL,aL]}static get pluginName(){return"List"}}const cL=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:r,typeAttribute:e,listType:t}of cL);var h_=m(9968),dL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(h_.A,dL),h_.A.locals;var m_=m(7141),uL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(m_.A,uL),m_.A.locals,Ps("Ctrl+Enter");var g_=m(8991),hL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(g_.A,hL),g_.A.locals,Ps("Ctrl+Enter");function p_(r,e){const t=(n,o,a)=>{if(!a.consumable.consume(o.item,n.name))return;const l=o.attributeNewValue,d=a.writer,h=a.mapper.toViewElement(o.item),g=[...h.getChildren()].find(A=>A.getCustomProperty("media-content"));d.remove(g);const p=r.getMediaViewElement(d,l,e);d.insert(d.createPositionAt(h,0),p)};return n=>{n.on("attribute:url:media",t)}}function f_(r,e,t,n){return r.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(r,t,n),r.createSlot()])}function k_(r){const e=r.getSelectedElement();return e&&e.is("element","media")?e:null}function b_(r,e,t,n){r.change(o=>{const a=o.createElement("media",{url:e});r.insertObject(a,t,null,{setSelection:"on",findOptimalPosition:n?"auto":void 0})})}class mL extends _e{refresh(){const e=this.editor.model,t=e.document.selection,n=k_(t);this.value=n?n.getAttribute("url"):void 0,this.isEnabled=function(o){const a=o.getSelectedElement();return!!a&&a.name==="media"}(t)||function(o,a){let d=AC(o,a).start.parent;return d.isEmpty&&!a.schema.isLimit(d)&&(d=d.parent),a.schema.checkChild(d,"media")}(t,e)}execute(e){const t=this.editor.model,n=t.document.selection,o=k_(n);o?t.change(a=>{a.setAttribute("url",e,o)}):b_(t,e,n,!0)}}class gL{constructor(e,t){const n=t.providers,o=t.extraProviders||[],a=new Set(t.removeProviders),l=n.concat(o).filter(d=>{const h=d.name;return h?!a.has(h):($("media-embed-no-provider-name",{provider:d}),!1)});this.locale=e,this.providerDefinitions=l}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,n){return this._getMedia(t).getViewElement(e,n)}_getMedia(e){if(!e)return new w_(this.locale);e=e.trim();for(const t of this.providerDefinitions){const n=t.html,o=He(t.url);for(const a of o){const l=this._getUrlMatches(e,a);if(l)return new w_(this.locale,e,l,n)}}return null}_getUrlMatches(e,t){let n=e.match(t);if(n)return n;let o=e.replace(/^https?:\/\//,"");return n=o.match(t),n||(o=o.replace(/^www\./,""),n=o.match(t),n||null)}}class w_{constructor(e,t,n,o){this.url=this._getValidUrl(t),this._locale=e,this._match=n,this._previewRenderer=o}getViewElement(e,t){const n={};let o;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),t.renderForEditingView&&(n.class="ck-media__wrapper");const a=this._getPreviewHtml(t);o=e.createRawElement("div",n,(l,d)=>{d.setContentOf(l,a)})}else this.url&&(n.url=this.url),o=e.createEmptyElement(t.elementName,n);return e.setCustomProperty("media-content",!0,o),o}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new kr,t=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new Ln({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":t("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var A_=m(7048),pL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(A_.A,pL),A_.A.locals;class Bc extends ee{constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:t=>{const n=t[1],o=t[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${n}${o?`?start=${o}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new gL(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const e=this.editor,t=e.model.schema,n=e.t,o=e.conversion,a=e.config.get("mediaEmbed.previewsInData"),l=e.config.get("mediaEmbed.elementName"),d=this.registry;e.commands.add("mediaEmbed",new mL(e)),t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),o.for("dataDowncast").elementToStructure({model:"media",view:(h,{writer:g})=>{const p=h.getAttribute("url");return f_(g,d,p,{elementName:l,renderMediaPreview:!!p&&a})}}),o.for("dataDowncast").add(p_(d,{elementName:l,renderMediaPreview:a})),o.for("editingDowncast").elementToStructure({model:"media",view:(h,{writer:g})=>{const p=h.getAttribute("url");return function(A,y,E){return y.setCustomProperty("media",!0,A),em(A,y,{label:E})}(f_(g,d,p,{elementName:l,renderForEditingView:!0}),g,n("media widget"))}}),o.for("editingDowncast").add(p_(d,{elementName:l,renderForEditingView:!0})),o.for("upcast").elementToElement({view:h=>["oembed",l].includes(h.name)&&h.getAttribute("url")?{name:!0}:null,model:(h,{writer:g})=>{const p=h.getAttribute("url");return d.hasMedia(p)?g.createElement("media",{url:p}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(h,{writer:g})=>{const p=h.getAttribute("data-oembed-url");return d.hasMedia(p)?g.createElement("media",{url:p}):null}}).add(h=>{h.on("element:figure",(g,p,A)=>{if(!A.consumable.consume(p.viewItem,{name:!0,classes:"media"}))return;const{modelRange:y,modelCursor:E}=A.convertChildren(p.viewItem,p.modelCursor);p.modelRange=y,p.modelCursor=E,ft(y.getItems())||A.consumable.revert(p.viewItem,{name:!0,classes:"media"})})})}}const fL=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class kL extends ee{constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[RC,Ar,qC]}static get pluginName(){return"AutoMediaEmbed"}init(){const e=this.editor,t=e.model.document,n=e.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",()=>{const o=t.selection.getFirstRange(),a=yt.fromPosition(o.start);a.stickiness="toPrevious";const l=yt.fromPosition(o.end);l.stickiness="toNext",t.once("change:data",()=>{this._embedMediaBetweenPositions(a,l),a.detach(),l.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(C.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,t){const n=this.editor,o=n.plugins.get(Bc).registry,a=new ln(e,t),l=a.getWalker({ignoreElementEnd:!0});let d="";for(const h of l)h.item.is("$textProxy")&&(d+=h.item.data);if(d=d.trim(),!d.match(fL)||!o.hasMedia(d))return void a.detach();n.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=yt.fromPosition(e),this._timeoutId=C.window.setTimeout(()=>{n.model.change(h=>{this._timeoutId=null,h.remove(a),a.detach();let g=null;this._positionToInsert.root.rootName!=="$graveyard"&&(g=this._positionToInsert),b_(n.model,d,g,!1),this._positionToInsert.detach(),this._positionToInsert=null}),n.plugins.get(Ar).requestUndoOnBackspace()},100)):a.detach()}}var C_=m(5651),bL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(C_.A,bL),C_.A.locals;class wL extends ge{constructor(e,t){super(t);const n=t.t;this.focusTracker=new kt,this.keystrokes=new Lt,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),be.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),be.cancel,"ck-button-cancel","cancel"),this._focusables=new vn,this._focusCycler=new _n({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),Ml({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new ec(this.locale,rc),n=t.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),t.label=e("Media URL"),t.infoText=this._urlInputViewInfoDefault,n.on("input",()=>{t.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=n.element.value.trim()}),t}_createButton(e,t,n,o){const a=new Be(this.locale);return a.set({label:e,icon:t,tooltip:!0}),a.extendTemplate({attributes:{class:n}}),o&&a.delegate("execute").to(this,o),a}}class AL extends ee{static get requires(){return[Bc]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,t=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",n=>{const o=br(n);return this._setUpDropdown(o,t),o})}_setUpDropdown(e,t){const n=this.editor,o=n.t,a=e.buttonView,l=n.plugins.get(Bc).registry;e.once("change:isOpen",()=>{const d=new(Ju(wL))(function(h,g){return[p=>{if(!p.url.length)return h("The URL must not be empty.")},p=>{if(!g.hasMedia(p.url))return h("This media URL is not supported.")}]}(n.t,l),n.locale);e.panelView.children.add(d),a.on("open",()=>{d.disableCssTransitions(),d.url=t.value||"",d.urlInputView.fieldView.select(),d.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{d.isValid()&&(n.execute("mediaEmbed",d.url),n.editing.view.focus())}),e.on("change:isOpen",()=>d.resetFormStatus()),e.on("cancel",()=>{n.editing.view.focus()}),d.delegate("submit","cancel").to(e),d.urlInputView.fieldView.bind("value").to(t,"value"),d.urlInputView.on("change:errorText",()=>{n.ui.update()}),d.urlInputView.bind("isEnabled").to(t,"isEnabled")}),e.bind("isEnabled").to(t),a.set({label:o("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var v_=m(70),CL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(v_.A,CL),v_.A.locals;function y_(r){return r!==void 0&&r.endsWith("px")}function Oi(r){return r.toFixed(2).replace(/\.?0+$/,"")+"px"}var vL=Object.defineProperty,yL=Object.defineProperties,_L=Object.getOwnPropertyDescriptors,__=Object.getOwnPropertySymbols,xL=Object.prototype.hasOwnProperty,EL=Object.prototype.propertyIsEnumerable,x_=(r,e,t)=>e in r?vL(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,DL=(r,e)=>{for(var t in e||(e={}))xL.call(e,t)&&x_(r,t,e[t]);if(__)for(var t of __(e))EL.call(e,t)&&x_(r,t,e[t]);return r};function SL(r,e,t){if(!r.childCount)return;const n=new fr(r.document),o=function(h,g){const p=g.createRangeIn(h),A=[],y=new Set;for(const E of p.getItems()){if(!E.is("element")||!E.name.match(/^(p|h\d+|li|div)$/))continue;let I=LL(E);if(I===void 0||parseFloat(I)!=0||Array.from(E.getClassNames()).find(T=>T.startsWith("MsoList"))||(I=void 0),E.hasStyle("mso-list")||I!==void 0&&y.has(I)){const T=jL(E);A.push({element:E,id:T.id,order:T.order,indent:T.indent,marginLeft:I}),I!==void 0&&y.add(I)}else y.clear()}return A}(r,n);if(!o.length)return;const a={},l=[];for(const h of o)if(h.indent!==void 0){IL(h)||(l.length=0);const g=`${h.id}:${h.indent}`,p=Math.min(h.indent-1,l.length);if(p<l.length&&l[p].id!==h.id&&(l.length=p),p<l.length-1)l.length=p+1;else{const y=NL(h,e);if(p>l.length-1||l[p].listElement.name!=y.type){p==0&&y.type=="ol"&&h.id!==void 0&&a[g]&&(y.startIndex=a[g]);const E=BL(y,n,t);if(y_(h.marginLeft)&&(p==0||y_(l[p-1].marginLeft))){let I=h.marginLeft;p>0&&(I=Oi(parseFloat(I)-parseFloat(l[p-1].marginLeft))),n.setStyle("padding-left",I,E)}if(l.length==0){const I=h.element.parent,T=I.getChildIndex(h.element)+1;n.insertChild(T,E,I)}else{const I=l[p-1].listItemElements;n.appendChild(E,I[I.length-1])}l[p]=(d=DL({},h),yL(d,_L({listElement:E,listItemElements:[]}))),p==0&&h.id!==void 0&&(a[g]=y.startIndex||1)}}const A=h.element.name=="li"?h.element:n.createElement("li");n.appendChild(A,l[p].listElement),l[p].listItemElements.push(A),p==0&&h.id!==void 0&&a[g]++,h.element!=A&&n.appendChild(h.element,A),PL(h.element,n),n.removeStyle("text-indent",h.element),n.removeStyle("margin-left",h.element)}else{const g=l.find(p=>p.marginLeft==h.marginLeft);if(g){const p=g.listItemElements;n.appendChild(h.element,p[p.length-1]),n.removeStyle("margin-left",h.element)}else l.length=0}var d}function IL(r){const e=r.element.previousSibling;return TL(e||r.element.parent)}function TL(r){return r.is("element","ol")||r.is("element","ul")}function NL(r,e){const t=new RegExp(`@list l${r.id}:level${r.indent}\\s*({[^}]*)`,"gi"),n=/mso-level-number-format:([^;]{0,100});/gi,o=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,a=new RegExp(`@list\\s+l${r.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),l=new RegExp(`@list l${r.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),d=a.exec(e),h=l.exec(e),g=d&&!h,p=t.exec(e);let A="decimal",y="ol",E=null;if(p&&p[1]){const I=n.exec(p[1]);if(I&&I[1]&&(A=I[1].trim(),y=A!=="bullet"&&A!=="image"?"ol":"ul"),A==="bullet"){const T=function(O){if(O.name=="li"&&O.parent.name=="ul"&&O.parent.hasAttribute("type"))return O.parent.getAttribute("type");const R=function(W){if(W.getChild(0).is("$text"))return null;for(const Z of W.getChildren()){if(!Z.is("element","span"))continue;const le=Z.getChild(0);if(le)return le.is("$text")?le:le.getChild(0)}return null}(O);if(!R)return null;const U=R._data;return U==="o"?"circle":U==="·"?"disc":U==="§"?"square":null}(r.element);T&&(A=T)}else{const T=o.exec(p[1]);T&&T[1]&&(E=parseInt(T[1]))}g&&(y="ol")}return{type:y,startIndex:E,style:ML(A),isLegalStyleList:g}}function ML(r){if(r.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(r){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return r;default:return null}}function BL(r,e,t){const n=e.createElement(r.type);return r.style&&e.setStyle("list-style-type",r.style,n),r.startIndex&&r.startIndex>1&&e.setAttribute("start",r.startIndex,n),r.isLegalStyleList&&t&&e.addClass("legal-list",n),n}function jL(r){const e=r.getStyle("mso-list");if(e===void 0)return{};const t=e.match(/(^|\s{1,100})l(\d+)/i),n=e.match(/\s{0,100}lfo(\d+)/i),o=e.match(/\s{0,100}level(\d+)/i);return t&&n&&o?{id:t[2],order:n[1],indent:parseInt(o[1])}:{indent:1}}function PL(r,e){const t=new nr({name:"span",styles:{"mso-list":"Ignore"}}),n=e.createRangeIn(r);for(const o of n)o.type==="elementStart"&&t.match(o.item)&&e.remove(o.item)}function LL(r){const e=r.getStyle("margin-left");return e===void 0||e.endsWith("px")?e:function(t){const n=parseFloat(t);return t.endsWith("pt")?Oi(96*n/72):t.endsWith("pc")?Oi(12*n*96/72):t.endsWith("in")?Oi(96*n):t.endsWith("cm")?Oi(96*n/2.54):t.endsWith("mm")?Oi(n/10*96/2.54):t}(e)}function OL(r,e){if(!r.childCount)return;const t=new fr(r.document),n=function(a,l){const d=l.createRangeIn(a),h=new nr({name:/v:(.+)/}),g=[];for(const p of d){if(p.type!="elementStart")continue;const A=p.item,y=A.previousSibling,E=y&&y.is("element")?y.name:null,I=["Chart"],T=h.match(A),O=A.getAttribute("o:gfxdata"),R=E==="v:shapetype",U=O&&I.some(W=>A.getAttribute("id").includes(W));T&&O&&!R&&!U&&g.push(p.item.getAttribute("id"))}return g}(r,t);(function(a,l,d){const h=d.createRangeIn(l),g=new nr({name:"img"}),p=[];for(const A of h)if(A.item.is("element")&&g.match(A.item)){const y=A.item,E=y.getAttribute("v:shapes")?y.getAttribute("v:shapes").split(" "):[];E.length&&E.every(I=>a.indexOf(I)>-1)?p.push(y):y.getAttribute("src")||p.push(y)}for(const A of p)d.remove(A)})(n,r,t),function(a,l,d){const h=d.createRangeIn(l),g=[];for(const y of h)if(y.type=="elementStart"&&y.item.is("element","v:shape")){const E=y.item.getAttribute("id");if(a.includes(E))continue;p(y.item.parent.getChildren(),E)||g.push(y.item)}for(const y of g){const E={src:A(y)};y.hasAttribute("alt")&&(E.alt=y.getAttribute("alt"));const I=d.createElement("img",E);d.insertChild(y.index+1,I,y.parent)}function p(y,E){for(const I of y)if(I.is("element")&&(I.name=="img"&&I.getAttribute("v:shapes")==E||p(I.getChildren(),E)))return!0;return!1}function A(y){for(const E of y.getChildren())if(E.is("element")&&E.getAttribute("src"))return E.getAttribute("src")}}(n,r,t),function(a,l){const d=l.createRangeIn(a),h=new nr({name:/v:(.+)/}),g=[];for(const p of d)p.type=="elementStart"&&h.match(p.item)&&g.push(p.item);for(const p of g)l.remove(p)}(r,t);const o=function(a,l){const d=l.createRangeIn(a),h=new nr({name:"img"}),g=[];for(const p of d)p.item.is("element")&&h.match(p.item)&&p.item.getAttribute("src").startsWith("file://")&&g.push(p.item);return g}(r,t);o.length&&function(a,l,d){if(a.length===l.length)for(let h=0;h<a.length;h++){const g=`data:${l[h].type};base64,${zL(l[h].hex)}`;d.setAttribute("src",g,a[h])}}(o,function(a){if(!a)return[];const l=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,d=new RegExp("(?:("+l.source+"))([\\da-fA-F\\s]+)\\}","g"),h=a.match(d),g=[];if(h)for(const p of h){let A=!1;p.includes("\\pngblip")?A="image/png":p.includes("\\jpegblip")&&(A="image/jpeg"),A&&g.push({hex:p.replace(l,"").replace(/[^\da-fA-F]/g,""),type:A})}return g}(e),t)}function zL(r){return btoa(r.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const RL=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,FL=/xmlns:o="urn:schemas-microsoft-com/i;class VL{constructor(e,t=!1){this.document=e,this.hasMultiLevelListPlugin=t}isActive(e){return RL.test(e)||FL.test(e)}execute(e){const{body:t,stylesString:n}=e._parsedData;SL(t,n,this.hasMultiLevelListPlugin),OL(t,e.dataTransfer.getData("text/rtf")),function(o){const a=[],l=new fr(o.document);for(const{item:d}of l.createRangeIn(o))if(d.is("element")){for(const h of d.getClassNames())/\bmso/gi.exec(h)&&l.removeClass(h,d);for(const h of d.getStyleNames())/\bmso/gi.exec(h)&&l.removeStyle(h,d);(d.is("element","w:sdt")||d.is("element","w:sdtpr")&&d.isEmpty||d.is("element","o:p")&&d.isEmpty)&&a.push(d)}for(const d of a){const h=d.parent,g=h.getChildIndex(d);l.insertChild(g,d.getChildren(),h),l.remove(d)}}(t),e.content=t}}function E_(r,e,t,{blockElements:n,inlineObjectElements:o}){let a=t.createPositionAt(r,e=="forward"?"after":"before");return a=a.getLastMatchingPosition(({item:l})=>l.is("element")&&!n.includes(l.name)&&!o.includes(l.name),{direction:e}),e=="forward"?a.nodeAfter:a.nodeBefore}function D_(r,e){return!!r&&r.is("element")&&e.includes(r.name)}const UL=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class HL{constructor(e){this.document=e}isActive(e){return UL.test(e)}execute(e){const t=new fr(this.document),{body:n}=e._parsedData;(function(o,a){for(const l of o.getChildren())if(l.is("element","b")&&l.getStyle("font-weight")==="normal"){const d=o.getChildIndex(l);a.remove(l),a.insertChild(d,l.getChildren(),o)}})(n,t),function(o,a){for(const l of a.createRangeIn(o)){const d=l.item;if(d.is("element","li")){const h=d.getChild(0);h&&h.is("element","p")&&a.unwrapElement(h)}}}(n,t),function(o,a){const l=new Rl(a.document.stylesProcessor),d=new Ul(l,{renderingMode:"data"}),h=d.blockElements,g=d.inlineObjectElements,p=[];for(const A of a.createRangeIn(o)){const y=A.item;if(y.is("element","br")){const E=E_(y,"forward",a,{blockElements:h,inlineObjectElements:g}),I=E_(y,"backward",a,{blockElements:h,inlineObjectElements:g}),T=D_(E,h);(D_(I,h)||T)&&p.push(y)}}for(const A of p)A.hasClass("Apple-interchange-newline")?a.remove(A):a.replace(A,a.createElement("p"))}(n,t),e.content=n}}const qL=/<google-sheets-html-origin/i;class WL{constructor(e){this.document=e}isActive(e){return qL.test(e)}execute(e){const t=new fr(this.document),{body:n}=e._parsedData;(function(o,a){for(const l of o.getChildren())if(l.is("element","google-sheets-html-origin")){const d=o.getChildIndex(l);a.remove(l),a.insertChild(d,l.getChildren(),o)}})(n,t),function(o,a){for(const l of o.getChildren())l.is("element","table")&&l.hasAttribute("xmlns")&&a.removeAttribute("xmlns",l)}(n,t),function(o,a){for(const l of o.getChildren())l.is("element","table")&&l.getStyle("width")==="0px"&&a.removeStyle("width",l)}(n,t),function(o,a){for(const l of Array.from(o.getChildren()))l.is("element","style")&&a.remove(l)}(n,t),e.content=n}}function S_(r){return r.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length===1?" ":Array(t.length+1).join("  ").substr(0,t.length))}function $L(r,e){const t=new DOMParser,n=function(h){return S_(S_(h)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(h){const g="</body>",p="</html>",A=h.indexOf(g);if(A<0)return h;const y=h.indexOf(p,A+g.length);return h.substring(0,A+g.length)+(y>=0?h.substring(y):"")}(r=(r=r.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),o=t.parseFromString(n,"text/html");(function(h){h.querySelectorAll("span[style*=spacerun]").forEach(g=>{const p=g,A=p.innerText.length||0;p.innerText=Array(A+1).join("  ").substr(0,A)})})(o);const a=o.body.innerHTML,l=function(h,g){const p=new Rl(g),A=new Ul(p,{renderingMode:"data"}),y=h.createDocumentFragment(),E=h.body.childNodes;for(;E.length>0;)y.appendChild(E[0]);return A.domToView(y,{skipComments:!0})}(o,e),d=function(h){const g=[],p=[],A=Array.from(h.getElementsByTagName("style"));for(const y of A)y.sheet&&y.sheet.cssRules&&y.sheet.cssRules.length&&(g.push(y.sheet),p.push(y.innerHTML));return{styles:g,stylesString:p.join(" ")}}(o);return{body:l,bodyString:a,styles:d.styles,stylesString:d.stylesString}}function rt(r,e,t,n,o=1){e!=null&&o!=null&&e>o?n.setAttribute(r,e,t):n.removeAttribute(r,t)}function Fo(r,e,t={}){const n=r.createElement("tableCell",t);return r.insertElement("paragraph",n),r.insert(n,e),n}function Em(r,e){const t=e.parent.parent,n=parseInt(t.getAttribute("headingColumns")||"0"),{column:o}=r.getCellLocation(e);return!!n&&o<n}function GL(){return r=>{r.on("element:table",(e,t,n)=>{const o=t.viewItem;if(!n.consumable.test(o,{name:!0}))return;const{rows:a,headingRows:l,headingColumns:d}=function(p){let A,y=0;const E=[],I=[];let T;for(const O of Array.from(p.getChildren())){if(O.name!=="tbody"&&O.name!=="thead"&&O.name!=="tfoot")continue;O.name!=="thead"||T||(T=O);const R=Array.from(O.getChildren()).filter(U=>U.is("element","tr"));for(const U of R)if(T&&O===T||O.name==="tbody"&&Array.from(U.getChildren()).length&&Array.from(U.getChildren()).every(W=>W.is("element","th")))y++,E.push(U);else{I.push(U);const W=KL(U);(!A||W<A)&&(A=W)}}return{headingRows:y,headingColumns:A||0,rows:[...E,...I]}}(o),h={};d&&(h.headingColumns=d),l&&(h.headingRows=l);const g=n.writer.createElement("table",h);if(n.safeInsert(g,t.modelCursor)){if(n.consumable.consume(o,{name:!0}),a.forEach(p=>n.convertItem(p,n.writer.createPositionAt(g,"end"))),n.convertChildren(o,n.writer.createPositionAt(g,"end")),g.isEmpty){const p=n.writer.createElement("tableRow");n.writer.insert(p,n.writer.createPositionAt(g,"end")),Fo(n.writer,n.writer.createPositionAt(p,"end"))}n.updateConversionResult(g,t)}})}}function I_(r){return e=>{e.on(`element:${r}`,(t,n,{writer:o})=>{if(!n.modelRange)return;const a=n.modelRange.start.nodeAfter,l=o.createPositionAt(a,0);if(n.viewItem.isEmpty)return void o.insertElement("paragraph",l);const d=Array.from(a.getChildren());if(d.every(h=>h.is("element","$marker"))){const h=o.createElement("paragraph");o.insert(h,o.createPositionAt(a,0));for(const g of d)o.move(o.createRangeOn(g),o.createPositionAt(h,"end"))}},{priority:"low"})}}function KL(r){let e=0,t=0;const n=Array.from(r.getChildren()).filter(o=>o.name==="th"||o.name==="td");for(;t<n.length&&n[t].name==="th";){const o=n[t];e+=parseInt(o.getAttribute("colspan")||"1"),t++}return e}class Oe{constructor(e,t={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=t.row!==void 0?t.row:t.startRow||0,this._endRow=t.row!==void 0?t.row:t.endRow,this._startColumn=t.column!==void 0?t.column:t.startColumn||0,this._endColumn=t.column!==void 0?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(n.cell,n.row,n.column));else{const o=e.getChild(this._cellIndex);if(!o)return this._advanceToNextRow();const a=parseInt(o.getAttribute("colspan")||"1"),l=parseInt(o.getAttribute("rowspan")||"1");(a>1||l>1)&&this._recordSpans(o,l,a),this._shouldSkipSlot()||(t=this._formatOutValue(o)),this._nextCellAtColumn=this._column+a}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,t=this._row,n=this._column){return{done:!1,value:new QL(this,e,t,n)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),t=this._row<this._startRow,n=this._column<this._startColumn,o=this._endColumn!==void 0&&this._column>this._endColumn;return e||t||n||o}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,t,n){const o={cell:e,row:this._row,column:this._column};for(let a=this._row;a<this._row+t;a++)for(let l=this._column;l<this._column+n;l++)a==this._row&&l==this._column||this._markSpannedCell(a,l,o)}_markSpannedCell(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,n)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let t=this._startRow;!this._jumpedToStartRow;t--)e===this._getRowLength(t)&&(this._row=t,this._rowIndex=t,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((t,n)=>t+parseInt(n.getAttribute("colspan")||"1"),0)}}class QL{constructor(e,t,n,o){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=n,this.cellAnchorColumn=o,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function T_(r,e){return(t,{writer:n})=>{const o=t.getAttribute("headingRows")||0,a=n.createContainerElement("table",null,[]),l=n.createContainerElement("figure",{class:"table"},a);o>0&&n.insert(n.createPositionAt(a,"end"),n.createContainerElement("thead",null,n.createSlot(d=>d.is("element","tableRow")&&d.index<o))),o<r.getRows(t)&&n.insert(n.createPositionAt(a,"end"),n.createContainerElement("tbody",null,n.createSlot(d=>d.is("element","tableRow")&&d.index>=o)));for(const{positionOffset:d,filter:h}of e.additionalSlots)n.insert(n.createPositionAt(a,d),n.createSlot(h));return n.insert(n.createPositionAt(a,"after"),n.createSlot(d=>!d.is("element","tableRow")&&!e.additionalSlots.some(({filter:h})=>h(d)))),e.asWidget?function(d,h){return h.setCustomProperty("table",!0,d),em(d,h,{hasSelectionHandle:!0})}(l,n):l}}function N_(r={}){return(e,{writer:t})=>{const n=e.parent,o=n.parent,a=o.getChildIndex(n),l=new Oe(o,{row:a}),d=o.getAttribute("headingRows")||0,h=o.getAttribute("headingColumns")||0;let g=null;for(const p of l)if(p.cell==e){const A=p.row<d||p.column<h?"th":"td";g=r.asWidget?wC(t.createEditableElement(A),t):t.createContainerElement(A);break}return g}}function M_(r={}){return(e,{writer:t})=>{if(!e.parent.is("element","tableCell")||!B_(e))return null;if(r.asWidget)return t.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const n=t.createContainerElement("p");return t.setCustomProperty("dataPipeline:transparentRendering",!0,n),n}}}function B_(r){return r.parent.childCount==1&&!!r.getAttributeKeys().next().done}class YL extends _e{refresh(){const e=this.editor.model,t=e.document.selection,n=e.schema;this.isEnabled=function(o,a){const l=o.getFirstPosition().parent,d=l===l.root?l:l.parent;return a.checkChild(d,"table")}(t,n)}execute(e={}){const t=this.editor,n=t.model,o=t.plugins.get("TableUtils"),a=t.config.get("table.defaultHeadings.rows"),l=t.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&a&&(e.headingRows=a),e.headingColumns===void 0&&l&&(e.headingColumns=l),n.change(d=>{const h=o.createTable(d,e);n.insertObject(h,null,null,{findOptimalPosition:"auto"}),d.setSelection(d.createPositionAt(h.getNodeByPath([0,0,0]),0))})}}class j_ extends _e{constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),o=this.order==="above",a=n.getSelectionAffectedTableCells(t),l=n.getRowIndexes(a),d=o?l.first:l.last,h=a[0].findAncestor("table");n.insertRows(h,{at:o?d:d+1,copyStructureFromAbove:!o})}}class P_ extends _e{constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),o=this.order==="left",a=n.getSelectionAffectedTableCells(t),l=n.getColumnIndexes(a),d=o?l.first:l.last,h=a[0].findAncestor("table");n.insertColumns(h,{columns:1,at:o?d:d+1})}}class L_ extends _e{constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}function O_(r,e,t){const{startRow:n,startColumn:o,endRow:a,endColumn:l}=e,d=t.createElement("table"),h=a-n+1;for(let p=0;p<h;p++)t.insertElement("tableRow",d,"end");const g=[...new Oe(r,{startRow:n,endRow:a,startColumn:o,endColumn:l,includeAllSlots:!0})];for(const{row:p,column:A,cell:y,isAnchor:E,cellAnchorRow:I,cellAnchorColumn:T}of g){const O=p-n,R=d.getChild(O);if(E){const U=t.cloneElement(y);t.append(U,R),U_(U,p,A,a,l,t)}else(I<n||T<o)&&Fo(t,t.createPositionAt(R,"end"))}return function(p,A,y,E,I){const T=parseInt(A.getAttribute("headingRows")||"0");T>0&&rt("headingRows",T-y,p,I,0);const O=parseInt(A.getAttribute("headingColumns")||"0");O>0&&rt("headingColumns",O-E,p,I,0)}(d,r,n,o,t),d}function z_(r,e,t=0){const n=[],o=new Oe(r,{startRow:t,endRow:e-1});for(const a of o){const{row:l,cellHeight:d}=a;l<e&&e<=l+d-1&&n.push(a)}return n}function R_(r,e,t){const n=r.parent,o=n.parent,a=n.index,l=e-a,d={},h=parseInt(r.getAttribute("rowspan"))-l;h>1&&(d.rowspan=h);const g=parseInt(r.getAttribute("colspan")||"1");g>1&&(d.colspan=g);const p=a+l,A=[...new Oe(o,{startRow:a,endRow:p,includeAllSlots:!0})];let y,E=null;for(const I of A){const{row:T,column:O,cell:R}=I;R===r&&y===void 0&&(y=O),y!==void 0&&y===O&&T===p&&(E=Fo(t,I.getPositionBefore(),d))}return rt("rowspan",l,r,t),E}function F_(r,e){const t=[],n=new Oe(r);for(const o of n){const{column:a,cellWidth:l}=o;a<e&&e<=a+l-1&&t.push(o)}return t}function V_(r,e,t,n){const o=t-e,a={},l=parseInt(r.getAttribute("colspan"))-o;l>1&&(a.colspan=l);const d=parseInt(r.getAttribute("rowspan")||"1");d>1&&(a.rowspan=d);const h=Fo(n,n.createPositionAfter(r),a);return rt("colspan",o,r,n),h}function U_(r,e,t,n,o,a){const l=parseInt(r.getAttribute("colspan")||"1"),d=parseInt(r.getAttribute("rowspan")||"1");t+l-1>o&&rt("colspan",o-t+1,r,a,1),e+d-1>n&&rt("rowspan",n-e+1,r,a,1)}function Dm(r,e){const t=e.getColumns(r),n=new Array(t).fill(0);for(const{column:a}of new Oe(r))n[a]++;const o=n.reduce((a,l,d)=>l?a:[...a,d],[]);if(o.length>0){const a=o[o.length-1];return e.removeColumns(r,{at:a}),!0}return!1}function Sm(r,e){const t=[],n=e.getRows(r);for(let o=0;o<n;o++)r.getChild(o).isEmpty&&t.push(o);if(t.length>0){const o=t[t.length-1];return e.removeRows(r,{at:o}),!0}return!1}function Im(r,e){Dm(r,e)||Sm(r,e)}function H_(r,e){const t=Array.from(new Oe(r,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(t.every(({cellHeight:o})=>o===1))return e.lastRow;const n=t[0].cellHeight-1;return e.lastRow+n}function q_(r,e){const t=Array.from(new Oe(r,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(t.every(({cellWidth:o})=>o===1))return e.lastColumn;const n=t[0].cellWidth-1;return e.lastColumn+n}class jc extends _e{constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=e.document,n=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],o=this.value,a=this.direction;e.change(l=>{const d=a=="right"||a=="down",h=d?n:o,g=d?o:n,p=g.parent;(function(T,O,R){W_(T)||(W_(O)&&R.remove(R.createRangeIn(O)),R.move(R.createRangeIn(T),R.createPositionAt(O,"end"))),R.remove(T)})(g,h,l);const A=this.isHorizontal?"colspan":"rowspan",y=parseInt(n.getAttribute(A)||"1"),E=parseInt(o.getAttribute(A)||"1");l.setAttribute(A,y+E,h),l.setSelection(l.createRangeIn(h));const I=this.editor.plugins.get("TableUtils");Im(p.findAncestor("table"),I)})}_getMergeableCell(){const e=this.editor.model.document,t=this.editor.plugins.get("TableUtils"),n=t.getTableCellsContainingSelection(e.selection)[0];if(!n)return;const o=this.isHorizontal?function(d,h,g){const p=d.parent,A=p.parent,y=h=="right"?d.nextSibling:d.previousSibling,E=(A.getAttribute("headingColumns")||0)>0;if(!y)return;const I=h=="right"?d:y,T=h=="right"?y:d,{column:O}=g.getCellLocation(I),{column:R}=g.getCellLocation(T),U=parseInt(I.getAttribute("colspan")||"1"),W=Em(g,I),Z=Em(g,T);if(!(E&&W!=Z))return O+U===R?y:void 0}(n,this.direction,t):function(d,h,g){const p=d.parent,A=p.parent,y=A.getChildIndex(p);if(h=="down"&&y===g.getRows(A)-1||h=="up"&&y===0)return null;const E=parseInt(d.getAttribute("rowspan")||"1"),I=A.getAttribute("headingRows")||0,T=h=="down"&&y+E===I,O=h=="up"&&y===I;if(I&&(T||O))return null;const R=parseInt(d.getAttribute("rowspan")||"1"),U=h=="down"?y+R:y,W=[...new Oe(A,{endRow:U})],Z=W.find(we=>we.cell===d),le=Z.column,fe=W.find(({row:we,cellHeight:qe,column:mt})=>mt===le&&(h=="down"?we===U:U===we+qe));return fe&&fe.cell?fe.cell:null}(n,this.direction,t);if(!o)return;const a=this.isHorizontal?"rowspan":"colspan",l=parseInt(n.getAttribute(a)||"1");return parseInt(o.getAttribute(a)||"1")===l?o:void 0}}function W_(r){const e=r.getChild(0);return r.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class ZL extends _e{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const o=n.findAncestor("table"),a=e.getRows(o)-1,l=e.getRowIndexes(t),d=l.first===0&&l.last===a;this.isEnabled=!d}else this.isEnabled=!1}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),o=t.getRowIndexes(n),a=n[0],l=a.findAncestor("table"),d=t.getCellLocation(a).column;e.change(h=>{const g=o.last-o.first+1;t.removeRows(l,{at:o.first,rows:g});const p=function(A,y,E,I){const T=A.getChild(Math.min(y,I-1));let O=T.getChild(0),R=0;for(const U of T.getChildren()){if(R>E)return O;O=U,R+=parseInt(U.getAttribute("colspan")||"1")}return O}(l,o.first,d,t.getRows(l));h.setSelection(h.createPositionAt(p,0))})}}class JL extends _e{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const o=n.findAncestor("table"),a=e.getColumns(o),{first:l,last:d}=e.getColumnIndexes(t);this.isEnabled=d-l<a-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[t,n]=function(h,g){const p=g.getSelectionAffectedTableCells(h),A=p[0],y=p.pop(),E=[A,y];return A.isBefore(y)?E:E.reverse()}(this.editor.model.document.selection,e),o=t.parent.parent,a=[...new Oe(o)],l={first:a.find(h=>h.cell===t).column,last:a.find(h=>h.cell===n).column},d=function(h,g,p,A){return parseInt(p.getAttribute("colspan")||"1")>1?p:g.previousSibling||p.nextSibling?p.nextSibling||g.previousSibling:A.first?h.reverse().find(({column:E})=>E<A.first).cell:h.reverse().find(({column:E})=>E>A.last).cell}(a,t,n,l);this.editor.model.change(h=>{const g=l.last-l.first+1;e.removeColumns(o,{at:l.first,columns:g}),h.setSelection(h.createPositionAt(d,0))})}}class XL extends _e{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),o=n.length>0;this.isEnabled=o,this.value=o&&n.every(a=>this._isInHeading(a,a.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),n=this.editor.model,o=t.getSelectionAffectedTableCells(n.document.selection),a=o[0].findAncestor("table"),{first:l,last:d}=t.getRowIndexes(o),h=this.value?l:d+1,g=a.getAttribute("headingRows")||0;n.change(p=>{if(h){const A=z_(a,h,h>g?g:0);for(const{cell:y}of A)R_(y,h,p)}rt("headingRows",h,a,p,0)})}_isInHeading(e,t){const n=parseInt(t.getAttribute("headingRows")||"0");return!!n&&e.parent.index<n}}class eO extends _e{refresh(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),o=n.length>0;this.isEnabled=o,this.value=o&&n.every(a=>Em(t,a))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),n=this.editor.model,o=t.getSelectionAffectedTableCells(n.document.selection),a=o[0].findAncestor("table"),{first:l,last:d}=t.getColumnIndexes(o),h=this.value?l:d+1;n.change(g=>{if(h){const p=F_(a,h);for(const{cell:A,column:y}of p)V_(A,y,h,g)}rt("headingColumns",h,a,g,0)})}}function tO(r){if(r.is("element","tableColumnGroup"))return r;const e=r.getChildren();return Array.from(e).find(t=>t.is("element","tableColumnGroup"))}function nO(r){const e=tO(r);return e?Array.from(e.getChildren()):[]}class _t extends ee{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,n=t.parent,o=n.getChildIndex(t),a=new Oe(n,{row:o});for(const{cell:l,row:d,column:h}of a)if(l===e)return{row:d,column:h}}createTable(e,t){const n=e.createElement("table"),o=t.rows||2,a=t.columns||2;return Tm(e,n,0,o,a),t.headingRows&&rt("headingRows",Math.min(t.headingRows,o),n,e,0),t.headingColumns&&rt("headingColumns",Math.min(t.headingColumns,a),n,e,0),n}insertRows(e,t={}){const n=this.editor.model,o=t.at||0,a=t.rows||1,l=t.copyStructureFromAbove!==void 0,d=t.copyStructureFromAbove?o-1:o,h=this.getRows(e),g=this.getColumns(e);if(o>h)throw new P("tableutils-insertrows-insert-out-of-range",this,{options:t});n.change(p=>{const A=e.getAttribute("headingRows")||0;if(A>o&&rt("headingRows",A+a,e,p,0),!l&&(o===0||o===h))return void Tm(p,e,o,a,g);const y=l?Math.max(o,d):o,E=new Oe(e,{endRow:y}),I=new Array(g).fill(1);for(const{row:T,column:O,cellHeight:R,cellWidth:U,cell:W}of E){const Z=T+R-1,le=T<=d&&d<=Z;T<o&&o<=Z?(p.setAttribute("rowspan",R+a,W),I[O]=-U):l&&le&&(I[O]=U)}for(let T=0;T<a;T++){const O=p.createElement("tableRow");p.insert(O,e,o);for(let R=0;R<I.length;R++){const U=I[R],W=p.createPositionAt(O,"end");U>0&&Fo(p,W,U>1?{colspan:U}:void 0),R+=Math.abs(U)-1}}})}insertColumns(e,t={}){const n=this.editor.model,o=t.at||0,a=t.columns||1;n.change(l=>{const d=e.getAttribute("headingColumns");o<d&&l.setAttribute("headingColumns",d+a,e);const h=this.getColumns(e);if(o===0||h===o){for(const p of e.getChildren())p.is("element","tableRow")&&zi(a,l,l.createPositionAt(p,o?"end":0));return}const g=new Oe(e,{column:o,includeAllSlots:!0});for(const p of g){const{row:A,cell:y,cellAnchorColumn:E,cellAnchorRow:I,cellWidth:T,cellHeight:O}=p;if(E<o){l.setAttribute("colspan",T+a,y);const R=I+O-1;for(let U=A;U<=R;U++)g.skipRow(U)}else zi(a,l,p.getPositionBefore())}})}removeRows(e,t){const n=this.editor.model,o=t.rows||1,a=this.getRows(e),l=t.at,d=l+o-1;if(d>a-1)throw new P("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});n.change(h=>{const g={first:l,last:d},{cellsToMove:p,cellsToTrim:A}=function(y,{first:E,last:I}){const T=new Map,O=[];for(const{row:R,column:U,cellHeight:W,cell:Z}of new Oe(y,{endRow:I})){const le=R+W-1;if(R>=E&&R<=I&&le>I){const fe=W-(I-R+1);T.set(U,{cell:Z,rowspan:fe})}if(R<E&&le>=E){let fe;fe=le>=I?I-E+1:le-E+1,O.push({cell:Z,rowspan:W-fe})}}return{cellsToMove:T,cellsToTrim:O}}(e,g);p.size&&function(y,E,I,T){const O=new Oe(y,{includeAllSlots:!0,row:E}),R=[...O],U=y.getChild(E);let W;for(const{column:Z,cell:le,isAnchor:fe}of R)if(I.has(Z)){const{cell:we,rowspan:qe}=I.get(Z),mt=W?T.createPositionAfter(W):T.createPositionAt(U,0);T.move(T.createRangeOn(we),mt),rt("rowspan",qe,we,T),W=we}else fe&&(W=le)}(e,d+1,p,h);for(let y=d;y>=l;y--)h.remove(e.getChild(y));for(const{rowspan:y,cell:E}of A)rt("rowspan",y,E,h);(function(y,{first:E,last:I},T){const O=y.getAttribute("headingRows")||0;E<O&&rt("headingRows",I<O?O-(I-E+1):E,y,T,0)})(e,g,h),Dm(e,this)||Sm(e,this)})}removeColumns(e,t){const n=this.editor.model,o=t.at,a=t.columns||1,l=t.at+a-1;n.change(d=>{(function(g,p,A){const y=g.getAttribute("headingColumns")||0;if(y&&p.first<y){const E=Math.min(y-1,p.last)-p.first+1;A.setAttribute("headingColumns",y-E,g)}})(e,{first:o,last:l},d);const h=nO(e);for(let g=l;g>=o;g--){for(const{cell:p,column:A,cellWidth:y}of[...new Oe(e)])A<=g&&y>1&&A+y>g?rt("colspan",y-1,p,d):A===g&&d.remove(p);if(h[g]){const p=g===0?h[1]:h[g-1],A=parseFloat(h[g].getAttribute("columnWidth")),y=parseFloat(p.getAttribute("columnWidth"));d.remove(h[g]),d.setAttribute("columnWidth",A+y+"%",p)}}Sm(e,this)||Dm(e,this)})}splitCellVertically(e,t=2){const n=this.editor.model,o=e.parent.parent,a=parseInt(e.getAttribute("rowspan")||"1"),l=parseInt(e.getAttribute("colspan")||"1");n.change(d=>{if(l>1){const{newCellsSpan:h,updatedSpan:g}=$_(l,t);rt("colspan",g,e,d);const p={};h>1&&(p.colspan=h),a>1&&(p.rowspan=a),zi(l>t?t-1:l-1,d,d.createPositionAfter(e),p)}if(l<t){const h=t-l,g=[...new Oe(o)],{column:p}=g.find(({cell:I})=>I===e),A=g.filter(({cell:I,cellWidth:T,column:O})=>I!==e&&O===p||O<p&&O+T>p);for(const{cell:I,cellWidth:T}of A)d.setAttribute("colspan",T+h,I);const y={};a>1&&(y.rowspan=a),zi(h,d,d.createPositionAfter(e),y);const E=o.getAttribute("headingColumns")||0;E>p&&rt("headingColumns",E+h,o,d)}})}splitCellHorizontally(e,t=2){const n=this.editor.model,o=e.parent,a=o.parent,l=a.getChildIndex(o),d=parseInt(e.getAttribute("rowspan")||"1"),h=parseInt(e.getAttribute("colspan")||"1");n.change(g=>{if(d>1){const p=[...new Oe(a,{startRow:l,endRow:l+d-1,includeAllSlots:!0})],{newCellsSpan:A,updatedSpan:y}=$_(d,t);rt("rowspan",y,e,g);const{column:E}=p.find(({cell:T})=>T===e),I={};A>1&&(I.rowspan=A),h>1&&(I.colspan=h);for(const T of p){const{column:O,row:R}=T;R>=l+y&&O===E&&(R+l+y)%A==0&&zi(1,g,T.getPositionBefore(),I)}}if(d<t){const p=t-d,A=[...new Oe(a,{startRow:0,endRow:l})];for(const{cell:I,cellHeight:T,row:O}of A)if(I!==e&&O+T>l){const R=T+p;g.setAttribute("rowspan",R,I)}const y={};h>1&&(y.colspan=h),Tm(g,a,l+1,p,1,y);const E=a.getAttribute("headingRows")||0;E>l&&rt("headingRows",E+p,a,g)}})}getColumns(e){return[...e.getChild(0).getChildren()].filter(t=>t.is("element","tableCell")).reduce((t,n)=>t+parseInt(n.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((t,n)=>n.is("element","tableRow")?t+1:t,0)}createTableWalker(e,t={}){return new Oe(e,t)}getSelectedTableCells(e){const t=[];for(const n of this.sortRanges(e.getRanges())){const o=n.getContainedElement();o&&o.is("element","tableCell")&&t.push(o)}return t}getTableCellsContainingSelection(e){const t=[];for(const n of e.getRanges()){const o=n.start.findAncestor("tableCell");o&&t.push(o)}return t}getSelectionAffectedTableCells(e){const t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const t=e.map(n=>n.parent.index);return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){const t=e[0].findAncestor("table"),n=[...new Oe(t)].filter(o=>e.includes(o.cell)).map(o=>o.column);return this._getFirstLastIndexesObject(n)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const t=new Set,n=new Set;let o=0;for(const l of e){const{row:d,column:h}=this.getCellLocation(l),g=parseInt(l.getAttribute("rowspan"))||1,p=parseInt(l.getAttribute("colspan"))||1;t.add(d),n.add(h),g>1&&t.add(d+g-1),p>1&&n.add(h+p-1),o+=g*p}return function(l,d){const h=Array.from(l.values()),g=Array.from(d.values()),p=Math.max(...h),A=Math.min(...h),y=Math.max(...g),E=Math.min(...g);return(p-A+1)*(y-E+1)}(t,n)==o}sortRanges(e){return Array.from(e).sort(rO)}_getFirstLastIndexesObject(e){const t=e.sort((n,o)=>n-o);return{first:t[0],last:t[t.length-1]}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table"),n=this.getRowIndexes(e),o=parseInt(t.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(n,o))return!1;const a=this.getColumnIndexes(e),l=parseInt(t.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(a,l)}_areIndexesInSameSection({first:e,last:t},n){return e<n==t<n}}function Tm(r,e,t,n,o,a={}){for(let l=0;l<n;l++){const d=r.createElement("tableRow");r.insert(d,e,t),zi(o,r,r.createPositionAt(d,"end"),a)}}function zi(r,e,t,n={}){for(let o=0;o<r;o++)Fo(e,t,n)}function $_(r,e){if(r<e)return{newCellsSpan:1,updatedSpan:1};const t=Math.floor(r/e);return{newCellsSpan:t,updatedSpan:r-t*e+t}}function rO(r,e){const t=r.start,n=e.start;return t.isBefore(n)?-1:1}class oO extends _e{refresh(){const e=this.editor.plugins.get(_t),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t)}execute(){const e=this.editor.model,t=this.editor.plugins.get(_t);e.change(n=>{const o=t.getSelectedTableCells(e.document.selection),a=o.shift(),{mergeWidth:l,mergeHeight:d}=function(h,g,p){let A=0,y=0;for(const R of g){const{row:U,column:W}=p.getCellLocation(R);A=K_(R,W,A,"colspan"),y=K_(R,U,y,"rowspan")}const{row:E,column:I}=p.getCellLocation(h),T=A-I,O=y-E;return{mergeWidth:T,mergeHeight:O}}(a,o,t);rt("colspan",l,a,n),rt("rowspan",d,a,n);for(const h of o)iO(h,a,n);Im(a.findAncestor("table"),t),n.setSelection(a,"in")})}}function iO(r,e,t){G_(r)||(G_(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(r),t.createPositionAt(e,"end"))),t.remove(r)}function G_(r){const e=r.getChild(0);return r.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function K_(r,e,t,n){const o=parseInt(r.getAttribute(n)||"1");return Math.max(t,e+o)}class sO extends _e{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),o=t.getRowIndexes(n),a=n[0].findAncestor("table"),l=[];for(let d=o.first;d<=o.last;d++)for(const h of a.getChild(d).getChildren())l.push(e.createRangeOn(h));e.change(d=>{d.setSelection(l)})}}class aO extends _e{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),o=n[0],a=n.pop(),l=o.findAncestor("table"),d=e.getCellLocation(o),h=e.getCellLocation(a),g=Math.min(d.column,h.column),p=Math.max(d.column,h.column),A=[];for(const y of new Oe(l,{startColumn:g,endColumn:p}))A.push(t.createRangeOn(y.cell));t.change(y=>{y.setSelection(A)})}}function lO(r){r.document.registerPostFixer(e=>function(t,n){const o=n.document.differ.getChanges();let a=!1;const l=new Set;for(const d of o){let h=null;d.type=="insert"&&d.name=="table"&&(h=d.position.nodeAfter),d.type!="insert"&&d.type!="remove"||d.name!="tableRow"&&d.name!="tableCell"||(h=d.position.findAncestor("table")),uO(d)&&(h=d.range.start.findAncestor("table")),h&&!l.has(h)&&(a=cO(h,t)||a,a=dO(h,t)||a,l.add(h))}return a}(e,r))}function cO(r,e){let t=!1;const n=function(o){const a=parseInt(o.getAttribute("headingRows")||"0"),l=Array.from(o.getChildren()).reduce((h,g)=>g.is("element","tableRow")?h+1:h,0),d=[];for(const{row:h,cell:g,cellHeight:p}of new Oe(o)){if(p<2)continue;const A=h<a?a:l;if(h+p>A){const y=A-h;d.push({cell:g,rowspan:y})}}return d}(r);if(n.length){t=!0;for(const o of n)rt("rowspan",o.rowspan,o.cell,e,1)}return t}function dO(r,e){let t=!1;const n=function(d){const h=new Array(d.childCount).fill(0);for(const{rowIndex:g}of new Oe(d,{includeAllSlots:!0}))h[g]++;return h}(r),o=[];for(const[d,h]of n.entries())!h&&r.getChild(d).is("element","tableRow")&&o.push(d);if(o.length){t=!0;for(const d of o.reverse())e.remove(r.getChild(d)),n.splice(d,1)}const a=n.filter((d,h)=>r.getChild(h).is("element","tableRow")),l=a[0];if(!a.every(d=>d===l)){const d=a.reduce((h,g)=>g>h?g:h,0);for(const[h,g]of a.entries()){const p=d-g;if(p){for(let A=0;A<p;A++)Fo(e,e.createPositionAt(r.getChild(h),"end"));t=!0}}}return t}function uO(r){if(r.type!=="attribute")return!1;const e=r.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function hO(r){r.document.registerPostFixer(e=>function(t,n){const o=n.document.differ.getChanges();let a=!1;for(const l of o)l.type=="insert"&&l.name=="table"&&(a=mO(l.position.nodeAfter,t)||a),l.type=="insert"&&l.name=="tableRow"&&(a=Q_(l.position.nodeAfter,t)||a),l.type=="insert"&&l.name=="tableCell"&&(a=Nm(l.position.nodeAfter,t)||a),l.type!="remove"&&l.type!="insert"||!gO(l)||(a=Nm(l.position.parent,t)||a);return a}(e,r))}function mO(r,e){let t=!1;for(const n of r.getChildren())n.is("element","tableRow")&&(t=Q_(n,e)||t);return t}function Q_(r,e){let t=!1;for(const n of r.getChildren())t=Nm(n,e)||t;return t}function Nm(r,e){if(r.childCount==0)return e.insertElement("paragraph",r),!0;const t=Array.from(r.getChildren()).filter(n=>n.is("$text"));for(const n of t)e.wrap(e.createRangeOn(n),"paragraph");return!!t.length}function gO(r){return!!r.position.parent.is("element","tableCell")&&(r.type=="insert"&&r.name=="$text"||r.type=="remove")}function pO(r,e){if(!r.is("element","paragraph"))return!1;const t=e.toViewElement(r);return!!t&&B_(r)!==t.is("element","span")}var Y_=m(8137),fO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Y_.A,fO),Y_.A.locals;class kO extends ee{constructor(e){super(e),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[_t]}init(){const e=this.editor,t=e.model,n=t.schema,o=e.conversion,a=e.plugins.get(_t);n.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),o.for("upcast").add(l=>{l.on("element:figure",(d,h,g)=>{if(!g.consumable.test(h.viewItem,{name:!0,classes:"table"}))return;const p=function(y){for(const E of y.getChildren())if(E.is("element","table"))return E}(h.viewItem);if(!p||!g.consumable.test(p,{name:!0}))return;g.consumable.consume(h.viewItem,{name:!0,classes:"table"});const A=ft(g.convertItem(p,h.modelCursor).modelRange.getItems());A?(g.convertChildren(h.viewItem,g.writer.createPositionAt(A,"end")),g.updateConversionResult(A,h)):g.consumable.revert(h.viewItem,{name:!0,classes:"table"})})}),o.for("upcast").add(GL()),o.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:T_(a,{asWidget:!0,additionalSlots:this._additionalSlots})}),o.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:T_(a,{additionalSlots:this._additionalSlots})}),o.for("upcast").elementToElement({model:"tableRow",view:"tr"}),o.for("upcast").add(l=>{l.on("element:tr",(d,h)=>{h.viewItem.isEmpty&&h.modelCursor.index==0&&d.stop()},{priority:"high"})}),o.for("downcast").elementToElement({model:"tableRow",view:(l,{writer:d})=>l.isEmpty?d.createEmptyElement("tr"):d.createContainerElement("tr")}),o.for("upcast").elementToElement({model:"tableCell",view:"td"}),o.for("upcast").elementToElement({model:"tableCell",view:"th"}),o.for("upcast").add(I_("td")),o.for("upcast").add(I_("th")),o.for("editingDowncast").elementToElement({model:"tableCell",view:N_({asWidget:!0})}),o.for("dataDowncast").elementToElement({model:"tableCell",view:N_()}),o.for("editingDowncast").elementToElement({model:"paragraph",view:M_({asWidget:!0}),converterPriority:"high"}),o.for("dataDowncast").elementToElement({model:"paragraph",view:M_(),converterPriority:"high"}),o.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),o.for("upcast").attributeToAttribute({model:{key:"colspan",value:Z_("colspan")},view:"colspan"}),o.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),o.for("upcast").attributeToAttribute({model:{key:"rowspan",value:Z_("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new YL(e)),e.commands.add("insertTableRowAbove",new j_(e,{order:"above"})),e.commands.add("insertTableRowBelow",new j_(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new P_(e,{order:"left"})),e.commands.add("insertTableColumnRight",new P_(e,{order:"right"})),e.commands.add("removeTableRow",new ZL(e)),e.commands.add("removeTableColumn",new JL(e)),e.commands.add("splitTableCellVertically",new L_(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new L_(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new oO(e)),e.commands.add("mergeTableCellRight",new jc(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new jc(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new jc(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new jc(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new eO(e)),e.commands.add("setTableRowHeader",new XL(e)),e.commands.add("selectTableRow",new sO(e)),e.commands.add("selectTableColumn",new aO(e)),lO(t),hO(t),this.listenTo(t.document,"change:data",()=>{(function(l,d){const h=l.document.differ;for(const g of h.getChanges()){let p,A=!1;if(g.type=="attribute"){const T=g.range.start.nodeAfter;if(!T||!T.is("element","table")||g.attributeKey!="headingRows"&&g.attributeKey!="headingColumns")continue;p=T,A=g.attributeKey=="headingRows"}else g.name!="tableRow"&&g.name!="tableCell"||(p=g.position.findAncestor("table"),A=g.name=="tableRow");if(!p)continue;const y=p.getAttribute("headingRows")||0,E=p.getAttribute("headingColumns")||0,I=new Oe(p);for(const T of I){const O=T.row<y||T.column<E?"th":"td",R=d.mapper.toViewElement(T.cell);R&&R.is("element")&&R.name!=O&&d.reconvertItem(A?T.cell.parent:T.cell)}}})(t,e.editing),function(l,d){const h=l.document.differ,g=new Set;for(const p of h.getChanges()){const A=p.type=="attribute"?p.range.start.parent:p.position.parent;A.is("element","tableCell")&&g.add(A)}for(const p of g.values()){const A=Array.from(p.getChildren()).filter(y=>pO(y,d.mapper));for(const y of A)d.reconvertItem(y)}}(t,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function Z_(r){return e=>{const t=parseInt(e.getAttribute(r));return Number.isNaN(t)||t<=0?null:t}}var J_=m(5032),bO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(J_.A,bO),J_.A.locals;class X_ extends ge{constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Lt,this.focusTracker=new kt,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(n,o)=>`${o} × ${n}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:t.to("label")}]}],on:{mousedown:t.to(n=>{n.preventDefault()}),click:t.to(()=>{this.fire("execute")})}}),this.on("boxover",(n,o)=>{const{row:a,column:l}=o.target.dataset;this.items.get(10*(parseInt(a,10)-1)+(parseInt(l,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(n,o,a)=>{if(!a)return;const{row:l,column:d}=a.dataset;this.set({rows:parseInt(l),columns:parseInt(d)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),S4({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map((n,o)=>{const a=Math.floor(o/10)<e&&o%10<t;n.set("isOn",a)})}_createGridButton(e,t,n,o){const a=new Be(e);return a.set({label:o,class:"ck-insert-table-dropdown-grid-box"}),a.extendTemplate({attributes:{"data-row":t,"data-column":n}}),a}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const n=Math.floor(t/10),o=t%10,a=`${n+1} × ${o+1}`;e.push(this._createGridButton(this.locale,n+1,o+1,a))}return this.createCollection(e)}}class wO extends ee{static get pluginName(){return"TableUI"}init(){const e=this.editor,t=this.editor.t,n=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",o=>{const a=e.commands.get("insertTable"),l=br(o);let d;return l.bind("isEnabled").to(a),l.buttonView.set({icon:be.table,label:t("Insert table"),tooltip:!0}),l.on("change:isOpen",()=>{d||(d=new X_(o),l.panelView.children.add(d),d.delegate("execute").to(l),l.on("execute",()=>{e.execute("insertTable",{rows:d.rows,columns:d.columns}),e.editing.view.focus()}))}),l}),e.ui.componentFactory.add("menuBar:insertTable",o=>{const a=e.commands.get("insertTable"),l=new Ti(o),d=new X_(o);return d.delegate("execute").to(l),l.on("change:isOpen",(h,g,p)=>{p||d.reset()}),d.on("execute",()=>{e.execute("insertTable",{rows:d.rows,columns:d.columns}),e.editing.view.focus()}),l.buttonView.set({label:t("Table"),icon:be.table}),l.panelView.children.add(d),l.bind("isEnabled").to(a),l}),e.ui.componentFactory.add("tableColumn",o=>{const a=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',a,o)}),e.ui.componentFactory.add("tableRow",o=>{const a=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',a,o)}),e.ui.componentFactory.add("mergeTableCells",o=>{const a=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',a,o)})}_prepareDropdown(e,t,n,o){const a=this.editor,l=br(o),d=this._fillDropdownWithListOptions(l,n);return l.buttonView.set({label:e,icon:t,tooltip:!0}),l.bind("isEnabled").toMany(d,"isEnabled",(...h)=>h.some(g=>g)),this.listenTo(l,"execute",h=>{a.execute(h.source.commandName),h.source instanceof Jl||a.editing.view.focus()}),l}_prepareMergeSplitButtonDropdown(e,t,n,o){const a=this.editor,l=br(o,nc),d="mergeTableCells",h=a.commands.get(d),g=this._fillDropdownWithListOptions(l,n);return l.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),l.bind("isEnabled").toMany([h,...g],"isEnabled",(...p)=>p.some(A=>A)),this.listenTo(l.buttonView,"execute",()=>{a.execute(d),a.editing.view.focus()}),this.listenTo(l,"execute",p=>{a.execute(p.source.commandName),a.editing.view.focus()}),l}_fillDropdownWithListOptions(e,t){const n=this.editor,o=[],a=new Pn;for(const l of t)AO(l,n,o,a);return Nw(e,a),o}}function AO(r,e,t,n){if(r.type==="button"||r.type==="switchbutton"){const o=r.model=new lA(r.model),{commandName:a,bindIsOn:l}=r.model,d=e.commands.get(a);t.push(d),o.set({commandName:a}),o.bind("isEnabled").to(d),l&&o.bind("isOn").to(d,"value"),o.set({withText:!0})}n.add(r)}var e1=m(8423),CO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(e1.A,CO),e1.A.locals;class Vo extends ee{static get pluginName(){return"TableSelection"}static get requires(){return[_t,_t]}init(){const e=this.editor,t=e.model,n=e.editing.view;this.listenTo(t,"deleteContent",(o,a)=>this._handleDeleteContent(o,a),{priority:"high"}),this.listenTo(n.document,"insertText",(o,a)=>this._handleInsertTextEvent(o,a),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(_t),t=this.editor.model.document.selection,n=e.getSelectedTableCells(t);return n.length==0?null:n}getSelectionAsFragment(){const e=this.editor.plugins.get(_t),t=this.getSelectedTableCells();return t?this.editor.model.change(n=>{const o=n.createDocumentFragment(),{first:a,last:l}=e.getColumnIndexes(t),{first:d,last:h}=e.getRowIndexes(t),g=t[0].findAncestor("table");let p=h,A=l;if(e.isSelectionRectangular(t)){const E={firstColumn:a,lastColumn:l,firstRow:d,lastRow:h};p=H_(g,E),A=q_(g,E)}const y=O_(g,{startRow:d,startColumn:a,endRow:p,endColumn:A},n);return n.insert(y,o,0),o}):null}setCellSelection(e,t){const n=this._getCellsToSelect(e,t);this.editor.model.change(o=>{o.setSelection(n.cells.map(a=>o.createRangeOn(a)),{backward:n.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=ft(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,t=new Set;e.conversion.for("editingDowncast").add(n=>n.on("selection",(o,a,l)=>{const d=l.writer;(function(p){for(const A of t)p.removeClass("ck-editor__editable_selected",A);t.clear()})(d);const h=this.getSelectedTableCells();if(!h)return;for(const p of h){const A=l.mapper.toViewElement(p);d.addClass("ck-editor__editable_selected",A),t.add(A)}const g=l.mapper.toViewElement(h[h.length-1]);d.setSelection(g,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t)return;e.model.change(n=>{const o=n.createPositionAt(t[0],0),a=e.model.schema.getNearestSelectionRange(o);n.setSelection(a)})}})}_handleDeleteContent(e,t){const n=this.editor.plugins.get(_t),o=t[0],a=t[1],l=this.editor.model,d=!a||a.direction=="backward",h=n.getSelectedTableCells(o);h.length&&(e.stop(),l.change(g=>{const p=h[d?h.length-1:0];l.change(y=>{for(const E of h)l.deleteContent(y.createSelection(E,"in"))});const A=l.schema.getNearestSelectionRange(g.createPositionAt(p,0));o.is("documentSelection")?g.setSelection(A):o.setTo(A)}))}_handleInsertTextEvent(e,t){const n=this.editor,o=this.getSelectedTableCells();if(!o)return;const a=n.editing.view,l=n.editing.mapper,d=o.map(h=>a.createRangeOn(l.toViewElement(h)));t.selection=a.createSelection(d)}_getCellsToSelect(e,t){const n=this.editor.plugins.get("TableUtils"),o=n.getCellLocation(e),a=n.getCellLocation(t),l=Math.min(o.row,a.row),d=Math.max(o.row,a.row),h=Math.min(o.column,a.column),g=Math.max(o.column,a.column),p=new Array(d-l+1).fill(null).map(()=>[]),A={startRow:l,endRow:d,startColumn:h,endColumn:g};for(const{row:I,cell:T}of new Oe(e.findAncestor("table"),A))p[I-l].push(T);const y=a.row<o.row,E=a.column<o.column;return y&&p.reverse(),E&&p.forEach(I=>I.reverse()),{cells:p.flat(),backward:y||E}}}class vO extends ee{static get pluginName(){return"TableClipboard"}static get requires(){return[ta,xn,Vo,_t]}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",(n,o)=>this._onCopyCut(n,o)),this.listenTo(t,"cut",(n,o)=>this._onCopyCut(n,o)),this.listenTo(e.model,"insertContent",(n,[o,a])=>this._onInsertContent(n,o,a),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,t){const n=this.editor.editing.view,o=this.editor.plugins.get(Vo),a=this.editor.plugins.get(ta);o.getSelectedTableCells()&&(e.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(t.preventDefault(),e.stop(),this.editor.model.enqueueChange({isUndoable:e.name==="cut"},()=>{const l=a._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,()=>o.getSelectionAsFragment());n.document.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:this.editor.data.toView(l),method:e.name})}))}_onInsertContent(e,t,n){if(n&&!n.is("documentSelection"))return;const o=this.editor.model,a=this.editor.plugins.get(_t),l=this.editor.plugins.get(ta),d=this.getTableIfOnlyTableInContent(t,o);if(!d)return;const h=a.getSelectionAffectedTableCells(o.document.selection);h.length?(e.stop(),t.is("documentFragment")?l._pasteMarkersIntoTransformedElement(t.markers,g=>this._replaceSelectedCells(d,h,g)):this.editor.model.change(g=>{this._replaceSelectedCells(d,h,g)})):Im(d,a)}_replaceSelectedCells(e,t,n){const o=this.editor.plugins.get(_t),a={width:o.getColumns(e),height:o.getRows(e)},l=function(A,y,E,I){const T=A[0].findAncestor("table"),O=I.getColumnIndexes(A),R=I.getRowIndexes(A),U={firstColumn:O.first,lastColumn:O.last,firstRow:R.first,lastRow:R.last},W=A.length===1;return W&&(U.lastRow+=y.height-1,U.lastColumn+=y.width-1,function(Z,le,fe,we){const qe=we.getColumns(Z),mt=we.getRows(Z);fe>qe&&we.insertColumns(Z,{at:qe,columns:fe-qe}),le>mt&&we.insertRows(Z,{at:mt,rows:le-mt})}(T,U.lastRow+1,U.lastColumn+1,I)),W||!I.isSelectionRectangular(A)?function(Z,le,fe){const{firstRow:we,lastRow:qe,firstColumn:mt,lastColumn:b1}=le,w1={first:we,last:qe},A1={first:mt,last:b1};Bm(Z,mt,w1,fe),Bm(Z,b1+1,w1,fe),Mm(Z,we,A1,fe),Mm(Z,qe+1,A1,fe,we)}(T,U,E):(U.lastRow=H_(T,U),U.lastColumn=q_(T,U)),U}(t,a,n,o),d=l.lastRow-l.firstRow+1,h=l.lastColumn-l.firstColumn+1;e=O_(e,{startRow:0,startColumn:0,endRow:Math.min(d,a.height)-1,endColumn:Math.min(h,a.width)-1},n);const g=t[0].findAncestor("table"),p=this._replaceSelectedCellsWithPasted(e,a,g,l,n);if(this.editor.plugins.get("TableSelection").isEnabled){const A=o.sortRanges(p.map(y=>n.createRangeOn(y)));n.setSelection(A)}else n.setSelection(p[0],0);return g}_replaceSelectedCellsWithPasted(e,t,n,o,a){const{width:l,height:d}=t,h=function(O,R,U){const W=new Array(U).fill(null).map(()=>new Array(R).fill(null));for(const{column:Z,row:le,cell:fe}of new Oe(O))W[le][Z]=fe;return W}(e,l,d),g=[...new Oe(n,{startRow:o.firstRow,endRow:o.lastRow,startColumn:o.firstColumn,endColumn:o.lastColumn,includeAllSlots:!0})],p=[];let A;for(const O of g){const{row:R,column:U}=O;U===o.firstColumn&&(A=O.getPositionBefore());const W=R-o.firstRow,Z=U-o.firstColumn,le=h[W%d][Z%l],fe=le?a.cloneElement(le):null,we=this._replaceTableSlotCell(O,fe,A,a);we&&(U_(we,R,U,o.lastRow,o.lastColumn,a),p.push(we),A=a.createPositionAfter(we))}const y=parseInt(n.getAttribute("headingRows")||"0"),E=parseInt(n.getAttribute("headingColumns")||"0"),I=o.firstRow<y&&y<=o.lastRow,T=o.firstColumn<E&&E<=o.lastColumn;if(I){const O=Mm(n,y,{first:o.firstColumn,last:o.lastColumn},a,o.firstRow);p.push(...O)}if(T){const O=Bm(n,E,{first:o.firstRow,last:o.lastRow},a);p.push(...O)}return p}_replaceTableSlotCell(e,t,n,o){const{cell:a,isAnchor:l}=e;return l&&o.remove(a),t?(o.insert(t,n),t):null}getTableIfOnlyTableInContent(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const n=t.createRangeIn(e);for(const o of n.getItems())if(o.is("element","table")){const a=t.createRange(n.start,t.createPositionBefore(o));if(t.hasContent(a,{ignoreWhitespaces:!0}))return null;const l=t.createRange(t.createPositionAfter(o),n.end);return t.hasContent(l,{ignoreWhitespaces:!0})?null:o}return null}}function Mm(r,e,t,n,o=0){if(!(e<1))return z_(r,e,o).filter(({column:a,cellWidth:l})=>t1(a,l,t)).map(({cell:a})=>R_(a,e,n))}function Bm(r,e,t,n){if(!(e<1))return F_(r,e).filter(({row:o,cellHeight:a})=>t1(o,a,t)).map(({cell:o,column:a})=>V_(o,a,e,n))}function t1(r,e,t){const n=r+e-1,{first:o,last:a}=t;return r>=o&&r<=a||r<o&&n>=o}class yO extends ee{static get pluginName(){return"TableKeyboard"}static get requires(){return[Vo,_t]}init(){const e=this.editor,t=e.editing.view.document,n=e.t;this.listenTo(t,"arrowKey",(...o)=>this._onArrowKey(...o),{context:"table"}),this.listenTo(t,"tab",(...o)=>this._handleTabOnSelectedTable(...o),{context:"figure"}),this.listenTo(t,"tab",(...o)=>this._handleTab(...o),{context:["th","td"]}),e.accessibility.addKeystrokeInfoGroup({id:"table",label:n("Keystrokes that can be used in a table cell"),keystrokes:[{label:n("Move the selection to the next cell"),keystroke:"Tab"},{label:n("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:n("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:n("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,t){const n=this.editor,o=n.model.document.selection.getSelectedElement();o&&o.is("element","table")&&(t.preventDefault(),t.stopPropagation(),e.stop(),n.model.change(a=>{a.setSelection(a.createRangeIn(o.getChild(0).getChild(0)))}))}_handleTab(e,t){const n=this.editor,o=this.editor.plugins.get(_t),a=this.editor.plugins.get("TableSelection"),l=n.model.document.selection,d=!t.shiftKey;let h=o.getTableCellsContainingSelection(l)[0];if(h||(h=a.getFocusCell()),!h)return;t.preventDefault(),t.stopPropagation(),e.stop();const g=h.parent,p=g.parent,A=p.getChildIndex(g),y=g.getChildIndex(h),E=y===0;if(!d&&E&&A===0)return void n.model.change(R=>{R.setSelection(R.createRangeOn(p))});const I=y===g.childCount-1,T=A===o.getRows(p)-1;if(d&&T&&I&&(n.execute("insertTableRowBelow"),A===o.getRows(p)-1))return void n.model.change(R=>{R.setSelection(R.createRangeOn(p))});let O;if(d&&I)O=p.getChild(A+1).getChild(0);else if(!d&&E){const R=p.getChild(A-1);O=R.getChild(R.childCount-1)}else O=g.getChild(y+(d?1:-1));n.model.change(R=>{R.setSelection(R.createRangeIn(O))})}_onArrowKey(e,t){const n=this.editor,o=qu(t.keyCode,n.locale.contentLanguageDirection);this._handleArrowKeys(o,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){const n=this.editor.plugins.get(_t),o=this.editor.plugins.get("TableSelection"),a=this.editor.model,l=a.document.selection,d=["right","down"].includes(e),h=n.getSelectedTableCells(l);if(h.length){let p;return p=t?o.getFocusCell():d?h[h.length-1]:h[0],this._navigateFromCellInDirection(p,e,t),!0}const g=l.focus.findAncestor("tableCell");if(!g)return!1;if(!l.isCollapsed)if(t){if(l.isBackward==d&&!l.containsEntireContent(g))return!1}else{const p=l.getSelectedElement();if(!p||!a.schema.isObject(p))return!1}return!!this._isSelectionAtCellEdge(l,g,d)&&(this._navigateFromCellInDirection(g,e,t),!0)}_isSelectionAtCellEdge(e,t,n){const o=this.editor.model,a=this.editor.model.schema,l=n?e.getLastPosition():e.getFirstPosition();if(!a.getLimitElement(l).is("element","tableCell"))return o.createPositionAt(t,n?"end":0).isTouching(l);const d=o.createSelection(l);return o.modifySelection(d,{direction:n?"forward":"backward"}),l.isEqual(d.focus)}_navigateFromCellInDirection(e,t,n=!1){const o=this.editor.model,a=e.findAncestor("table"),l=[...new Oe(a,{includeAllSlots:!0})],{row:d,column:h}=l[l.length-1],g=l.find(({cell:T})=>T==e);let{row:p,column:A}=g;switch(t){case"left":A--;break;case"up":p--;break;case"right":A+=g.cellWidth;break;case"down":p+=g.cellHeight}if(p<0||p>d||A<0&&p<=0||A>h&&p>=d)return void o.change(T=>{T.setSelection(T.createRangeOn(a))});A<0?(A=n?0:h,p--):A>h&&(A=n?h:0,p++);const y=l.find(T=>T.row==p&&T.column==A).cell,E=["right","down"].includes(t),I=this.editor.plugins.get("TableSelection");if(n&&I.isEnabled){const T=I.getAnchorCell()||e;I.setCellSelection(T,y)}else{const T=o.createPositionAt(y,E?0:"end");o.change(O=>{O.setSelection(T)})}}}class _O extends Rr{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class xO extends ee{static get pluginName(){return"TableMouse"}static get requires(){return[Vo,_t]}init(){this.editor.editing.view.addObserver(_O),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,t=e.plugins.get(_t);let n=!1;const o=e.plugins.get(Vo);this.listenTo(e.editing.view.document,"mousedown",(a,l)=>{const d=e.model.document.selection;if(!this.isEnabled||!o.isEnabled||!l.domEvent.shiftKey)return;const h=o.getAnchorCell()||t.getTableCellsContainingSelection(d)[0];if(!h)return;const g=this._getModelTableCellFromDomEvent(l);g&&n1(h,g)&&(n=!0,o.setCellSelection(h,g),l.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{n=!1}),this.listenTo(e.editing.view.document,"selectionChange",a=>{n&&a.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,n,o=!1,a=!1;const l=e.plugins.get(Vo);this.listenTo(e.editing.view.document,"mousedown",(d,h)=>{this.isEnabled&&l.isEnabled&&(h.domEvent.shiftKey||h.domEvent.ctrlKey||h.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(h)))}),this.listenTo(e.editing.view.document,"mousemove",(d,h)=>{if(!h.domEvent.buttons||!t)return;const g=this._getModelTableCellFromDomEvent(h);g&&n1(t,g)&&(n=g,o||n==t||(o=!0)),o&&(a=!0,l.setCellSelection(t,n),h.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{o=!1,a=!1,t=null,n=null}),this.listenTo(e.editing.view.document,"selectionChange",d=>{a&&d.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const t=e.target,n=this.editor.editing.view.createPositionAt(t,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}function n1(r,e){return r.parent.parent==e.parent.parent}var r1=m(2329),EO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(r1.A,EO),r1.A.locals;function DO(r){const e=r.getSelectedElement();return e&&o1(e)?e:null}function SO(r){const e=r.getFirstPosition();if(!e)return null;let t=e.parent;for(;t;){if(t.is("element")&&o1(t))return t;t=t.parent}return null}function o1(r){return!!r.getCustomProperty("table")&&lt(r)}var i1=m(5506),IO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(i1.A,IO),i1.A.locals;var s1=m(2655),TO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(s1.A,TO),s1.A.locals;var a1=m(4043),NO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(a1.A,NO),a1.A.locals;var l1=m(1623),MO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(l1.A,MO),l1.A.locals;var c1=m(8986),BO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(c1.A,BO),c1.A.locals;const Uo=Ht.defaultPositions;Uo.northArrowSouth,Uo.northArrowSouthWest,Uo.northArrowSouthEast,Uo.southArrowNorth,Uo.southArrowNorthWest,Uo.southArrowNorthEast,Uo.viewportStickyNorth;var d1=m(5562),jO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(d1.A,jO),d1.A.locals;var u1=m(4143),PO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(u1.A,PO),u1.A.locals;var h1=m(8795),LO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(h1.A,LO),h1.A.locals;var OO=Object.defineProperty,m1=Object.getOwnPropertySymbols,zO=Object.prototype.hasOwnProperty,RO=Object.prototype.propertyIsEnumerable,g1=(r,e,t)=>e in r?OO(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,p1=(r,e)=>{for(var t in e||(e={}))zO.call(e,t)&&g1(r,t,e[t]);if(m1)for(var t of m1(e))RO.call(e,t)&&g1(r,t,e[t]);return r};const FO={autoRefresh:!0},f1=36e5;class jm extends Re(){constructor(e,t={}){if(super(),!e)throw new P("token-missing-token-url",this);t.initValue&&this._validateTokenValue(t.initValue),this.set("value",t.initValue),this._refresh=typeof e=="function"?e:()=>{return n=e,new Promise((o,a)=>{const l=new XMLHttpRequest;l.open("GET",n),l.addEventListener("load",()=>{const d=l.status,h=l.response;return d<200||d>299?a(new P("token-cannot-download-new-token",null)):o(h)}),l.addEventListener("error",()=>a(new Error("Network Error"))),l.addEventListener("abort",()=>a(new Error("Abort"))),l.send()});var n},this._options=p1(p1({},FO),t)}init(){return new Promise((e,t)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(t)})}refreshToken(){return this._refresh().then(e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const t=typeof e=="string",n=!/^".*"$/.test(e),o=t&&e.split(".").length===3;if(!n||!o)throw new P("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:t}=JSON.parse(atob(e));return t?Math.floor((1e3*t-Date.now())/2):f1}catch{return f1}}static create(e,t={}){return new jm(e,t).init()}}const Pm=/^data:(\S*?);base64,/;class VO extends K(){constructor(e,t,n){if(super(),!e)throw new P("fileuploader-missing-file",null);if(!t)throw new P("fileuploader-missing-token",null);if(!n)throw new P("fileuploader-missing-api-address",null);this.file=function(o){if(typeof o!="string")return!1;const a=o.match(Pm);return!(!a||!a.length)}(e)?function(o,a=512){try{const l=o.match(Pm)[1],d=atob(o.replace(Pm,"")),h=[];for(let g=0;g<d.length;g+=a){const p=d.slice(g,g+a),A=new Array(p.length);for(let y=0;y<p.length;y++)A[y]=p.charCodeAt(y);h.push(new Uint8Array(A))}return new Blob(h,{type:l})}catch{throw new P("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=t,this._apiAddress=n}onProgress(e){return this.on("progress",(t,n)=>e(n)),this}onError(e){return this.once("error",(t,n)=>e(n)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,t=n=>()=>this.fire("error",n);e.addEventListener("error",t("Network Error")),e.addEventListener("abort",t("Abort")),e.upload&&e.upload.addEventListener("progress",n=>{n.lengthComputable&&this.fire("progress",{total:n.total,uploaded:n.loaded})}),e.addEventListener("load",()=>{const n=e.status,o=e.response;if(n<200||n>299)return this.fire("error",o.message||o.error)})}_sendRequest(){const e=new FormData,t=this.xhr;return e.append("file",this.file),new Promise((n,o)=>{t.addEventListener("load",()=>{const a=t.status,l=t.response;return a<200||a>299?l.message?o(new P("fileuploader-uploading-data-failed",this,{message:l.message})):o(l.error):n(l)}),t.addEventListener("error",()=>o(new Error("Network Error"))),t.addEventListener("abort",()=>o(new Error("Abort"))),t.send(e)})}}class UO{constructor(e,t){if(!e)throw new P("uploadgateway-missing-token",null);if(!t)throw new P("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=t}upload(e){return new VO(e,this._token,this._apiAddress)}}class HO extends Bl{static get pluginName(){return"CloudServicesCore"}createToken(e,t){return new jm(e,t)}createUploadGateway(e,t){return new UO(e,t)}}var k1=(r,e,t)=>new Promise((n,o)=>{var a=h=>{try{d(t.next(h))}catch(g){o(g)}},l=h=>{try{d(t.throw(h))}catch(g){o(g)}},d=h=>h.done?n(h.value):Promise.resolve(h.value).then(a,l);d((t=t.apply(r,e)).next())});class Lm extends uc{}Lm.builtinPlugins=[class extends ee{static get requires(){return[H3,RC,pc,cj,BB,xB,qC]}static get pluginName(){return"Essentials"}},class extends ee{static get requires(){return[Un]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const r=this.editor.config.get("ckfinder.uploadUrl");r&&(this.editor.plugins.get(Un).createUploadAdapter=e=>new Cj(e,r,this.editor.t))}},class extends ee{static get requires(){return[Ar]}static get pluginName(){return"Autoformat"}afterInit(){const r=this.editor,e=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),r.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const r=this.editor.commands;r.get("bulletedList")&&Hr(this.editor,this,/^[*-]\s$/,"bulletedList"),r.get("numberedList")&&Hr(this.editor,this,/^1[.|)]\s$/,"numberedList"),r.get("todoList")&&Hr(this.editor,this,/^\[\s?\]\s$/,"todoList"),r.get("checkTodoList")&&Hr(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const r=this.editor.commands;if(r.get("bold")){const e=Ac(this.editor,"bold");Bi(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),Bi(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(r.get("italic")){const e=Ac(this.editor,"italic");Bi(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),Bi(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(r.get("code")){const e=Ac(this.editor,"code");Bi(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(r.get("strikethrough")){const e=Ac(this.editor,"strikethrough");Bi(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const r=this.editor.commands.get("heading");r&&r.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const t=e[7],n=new RegExp(`^(#{${t}})\\s$`);Hr(this.editor,this,n,()=>{if(!r.isEnabled||r.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Hr(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const r=this.editor,e=r.model.document.selection;r.commands.get("codeBlock")&&Hr(r,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Hr(this.editor,this,/^---$/,"horizontalLine")}},class extends ee{static get requires(){return[vj,yj]}static get pluginName(){return"Bold"}},class extends ee{static get requires(){return[xj,Ej]}static get pluginName(){return"Italic"}},class extends ee{static get requires(){return[Sj,Tj]}static get pluginName(){return"BlockQuote"}},class extends ee{static get pluginName(){return"CKBox"}static get requires(){return[dv,Nj]}},class extends ee{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",nP,eP]}},class extends Bl{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[HO]}init(){return k1(this,null,function*(){const r=this.context.config.get("cloudServices")||{};for(const[t,n]of Object.entries(r))this[t]=n;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=yield e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(r){return k1(this,null,function*(){if(this._tokens.has(r))return this.getTokenFor(r);const e=this.context.plugins.get("CloudServicesCore"),t=yield e.createToken(r).init();return this._tokens.set(r,t),t})}getTokenFor(r){const e=this._tokens.get(r);if(!e)throw new P("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const r of this._tokens.values())r.destroy()}},class extends ee{static get pluginName(){return"EasyImage"}static get requires(){return[rP,"ImageUpload"]}init(){const r=this.editor;r.plugins.has("ImageBlockEditing")||r.plugins.has("ImageInlineEditing")||$("easy-image-image-feature-missing",r)}},class extends ee{static get requires(){return[lP,dP]}static get pluginName(){return"Heading"}},class extends ee{static get requires(){return[NP,BP]}static get pluginName(){return"Image"}},class extends ee{static get requires(){return[PP,LP]}static get pluginName(){return"ImageCaption"}},class extends ee{static get requires(){return[fy,s6]}static get pluginName(){return"ImageStyle"}},class extends ee{static get requires(){return[kc,Wt]}static get pluginName(){return"ImageToolbar"}afterInit(){const r=this.editor,e=r.t,t=r.plugins.get(kc),n=r.plugins.get("ImageUtils");var o;t.register("image",{ariaLabel:e("Image toolbar"),items:(o=r.config.get("image.toolbar")||[],o.map(a=>Te(a)?a.name:a)),getRelatedElement:a=>n.getClosestSelectedImageWidget(a)})}},class extends ee{static get pluginName(){return"ImageUpload"}static get requires(){return[YP,RP,HP]}},class extends ee{static get pluginName(){return"Indent"}static get requires(){return[a6,l6]}},class extends ee{static get requires(){return[Oy,O6,z6]}static get pluginName(){return"Link"}},lL,class extends ee{static get requires(){return[Bc,AL,kL,ia]}static get pluginName(){return"MediaEmbed"}},am,class extends ee{static get pluginName(){return"PasteFromOffice"}static get requires(){return[xn]}init(){const r=this.editor,e=r.plugins.get("ClipboardPipeline"),t=r.editing.view.document,n=[],o=this.editor.plugins.has("MultiLevelList");n.push(new VL(t,o)),n.push(new HL(t)),n.push(new WL(t)),e.on("inputTransformation",(a,l)=>{if(l._isTransformedWithPasteFromOffice||r.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const d=l.dataTransfer.getData("text/html"),h=n.find(g=>g.isActive(d));h&&(l._parsedData||(l._parsedData=$L(d,t.stylesProcessor)),h.execute(l),l._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends ee{static get requires(){return[cm,Wt]}static get pluginName(){return"PictureEditing"}afterInit(){const r=this.editor;r.plugins.has("ImageBlockEditing")&&r.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),r.plugins.has("ImageInlineEditing")&&r.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const r=this.editor,e=r.conversion,t=r.plugins.get("ImageUtils");e.for("upcast").add(function(n){const o=["srcset","media","type","sizes"],a=(l,d,h)=>{const g=d.viewItem;if(!h.consumable.test(g,{name:!0}))return;const p=new Map;for(const E of g.getChildren())if(E.is("element","source")){const I={};for(const T of o)E.hasAttribute(T)&&h.consumable.test(E,{attributes:T})&&(I[T]=E.getAttribute(T));Object.keys(I).length&&p.set(E,I)}const A=n.findViewImgElement(g);if(!A)return;let y=d.modelCursor.parent;if(!y.is("element","imageBlock")){const E=h.convertItem(A,d.modelCursor);d.modelRange=E.modelRange,d.modelCursor=E.modelCursor,y=ft(E.modelRange.getItems())}h.consumable.consume(g,{name:!0});for(const[E,I]of p)h.consumable.consume(E,{attributes:Object.keys(I)});p.size&&h.writer.setAttribute("sources",Array.from(p.values()),y),h.convertChildren(g,y)};return l=>{l.on("element:picture",a)}}(t)),e.for("downcast").add(function(n){const o=(a,l,d)=>{if(!d.consumable.consume(l.item,a.name))return;const h=d.writer,g=d.mapper.toViewElement(l.item),p=n.findViewImgElement(g),A=l.attributeNewValue;if(A&&A.length){const y=h.createContainerElement("picture",null,A.map(T=>h.createEmptyElement("source",T))),E=[];let I=p.parent;for(;I&&I.is("attributeElement");){const T=I.parent;h.unwrap(h.createRangeOn(p),I),E.unshift(I),I=T}h.insert(h.createPositionBefore(p),y),h.move(h.createRangeOn(p),h.createPositionAt(y,"end"));for(const T of E)h.wrap(h.createRangeOn(y),T)}else if(p.parent.is("element","picture")){const y=p.parent;h.move(h.createRangeOn(p),h.createPositionBefore(y)),h.remove(y)}};return a=>{a.on("attribute:sources:imageBlock",o),a.on("attribute:sources:imageInline",o)}}(t))}_setupImageUploadEditingIntegration(){const r=this.editor;if(!r.plugins.has("ImageUploadEditing"))return;const e=r.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",(t,{imageElement:n,data:o})=>{const a=o.sources;a&&r.model.change(l=>{l.setAttributes({sources:a},n)})})}},class extends ee{static get requires(){return[kO,wO,Vo,xO,yO,vO,ia]}static get pluginName(){return"Table"}},class extends ee{static get requires(){return[kc]}static get pluginName(){return"TableToolbar"}afterInit(){const r=this.editor,e=r.t,t=r.plugins.get(kc),n=r.config.get("table.contentToolbar"),o=r.config.get("table.tableToolbar");n&&t.register("tableContent",{ariaLabel:e("Table toolbar"),items:n,getRelatedElement:SO}),o&&t.register("table",{ariaLabel:e("Table toolbar"),items:o,getRelatedElement:DO})}},class extends ee{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(r){super(r),r.config.define("typing",{transformations:{include:EB}})}init(){const r=this.editor.model.document.selection;r.on("change:range",()=>{this.isEnabled=!r.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const r=this.editor,e=r.model,t=r.plugins.get("Delete"),n=function(a){const l=a.extra||[],d=a.remove||[],h=g=>!d.includes(g);return function(g){const p=new Set;for(const A of g)if(typeof A=="string"&&uC[A])for(const y of uC[A])p.add(y);else p.add(A);return Array.from(p)}(a.include.concat(l).filter(h)).filter(h).map(g=>typeof g=="string"&&dC[g]?dC[g]:g).filter(g=>typeof g=="object").map(g=>({from:DB(g.from),to:SB(g.to)}))}(r.config.get("typing.transformations")),o=new aC(r.model,a=>{for(const l of n)if(l.from.test(a))return{normalizedTransformation:l}});o.on("matched:data",(a,l)=>{if(!l.batch.isTyping)return;const{from:d,to:h}=l.normalizedTransformation,g=d.exec(l.text),p=h(g.slice(1)),A=l.range;let y=g.index;e.enqueueChange(E=>{for(let I=1;I<g.length;I++){const T=g[I],O=p[I-1];if(O==null){y+=T.length;continue}const R=A.start.getShiftedBy(y),U=e.createRange(R,R.getShiftedBy(T.length)),W=IB(R);e.insertContent(E.createText(O,W),U),y+=O.length}e.enqueueChange(()=>{t.requestUndoOnBackspace()})})}),o.bind("isEnabled").to(this)}}],Lm.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),k=k.default})())})(Kd,Kd.exports);var mV=Kd.exports;const gV=n2(mV);function pV({value:i,onChange:s}){const[c,u]=F.useState(!1),m={toolbar:{items:["heading","|","bold","italic","underline","strikethrough","|","bulletedList","numberedList","|","alignment","|","link","imageUpload","insertTable","|","mathFormula","|","undo","redo"],shouldNotGroupWhenFull:!0},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative","|","resizeImage"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableCellProperties","tableProperties"]},math:{engine:"mathjax",outputType:"script",forceOutputType:!0,enablePreview:!0}},k=C=>({upload:async()=>{u(!0);try{const b=await C.file,_=new FormData;_.append("file",b);const D=await fetch("/api/upload-image",{method:"POST",body:_}),x=await D.json();if(!D.ok)throw new Error(x.message||"Image upload failed");return{default:x.publicUrl}}catch(b){throw console.error("Upload failed:",b),b}finally{u(!1)}}});function w(C){C.plugins.get("FileRepository").createUploadAdapter=b=>k(b)}return f.jsxs("div",{className:"relative",children:[c&&f.jsx("div",{className:"absolute inset-0 bg-white/50 dark:bg-gray-800/50 flex items-center justify-center z-10",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-500"})}),f.jsx(kD,{editor:gV,config:{...m,extraPlugins:[w]},data:i,onChange:(C,b)=>{const _=b.getData();s(_)}})]})}function fV(){const[i,s]=F.useState([]),[c,u]=F.useState([]),[m,k]=F.useState([]),[w,C]=F.useState(!1),[b,_]=F.useState(null),[D,x]=F.useState({name:"",description:"",basePrice:0,priceTiers:[],quantity:0,category:"",subcategory:"",images:[]}),[v,S]=F.useState({}),[B,N]=F.useState([]),[L,M]=F.useState(!0),[j,z]=F.useState(null);F.useEffect(()=>{V()},[]);const V=async()=>{try{const Q={Authorization:`Bearer ${localStorage.getItem("adminToken")}`},[de,K,ce]=await Promise.all([he.get("http://143.198.212.38:5000/api/admin/products",{headers:Q}),he.get("http://143.198.212.38:5000/api/admin/categories",{headers:Q}),he.get("http://143.198.212.38:5000/api/admin/subcategories",{headers:Q})]);s(de.data),u(K.data),k(ce.data)}catch{z({text:"Error fetching data",type:"error"})}finally{M(!1)}},H=()=>{const q={};let Q=!0;if(D.basePrice<=0&&(q.basePrice="Base price must be greater than 0",Q=!1),D.quantity<0&&(q.quantity="Quantity cannot be negative",Q=!1),Number.isInteger(D.quantity)||(q.quantity="Quantity must be a whole number",Q=!1),D.priceTiers.length>0){const K=[...D.priceTiers].sort((ce,me)=>ce.minQuantity-me.minQuantity);for(let ce=0;ce<K.length;ce++){const me=K[ce];if(me.minQuantity>=me.maxQuantity){q.priceTiers="Min quantity must be less than max quantity for all tiers",Q=!1;break}if(ce>0){const oe=K[ce-1];if(me.minQuantity<=oe.maxQuantity){q.priceTiers="Price tier ranges cannot overlap",Q=!1;break}}if(me.price<=0){q.priceTiers="All tier prices must be greater than 0",Q=!1;break}}}!b&&D.images.length===0&&(q.images="At least one image is required",Q=!1);const de=5*1024*1024;return D.images.some(K=>K.size>de)&&(q.images="Each image must be less than 5MB",Q=!1),S(q),Q},J=q=>{if(q.target.files){const Q=Array.from(q.target.files);if(Q.filter(oe=>!oe.type.startsWith("image/")).length>0){z({text:"Only image files are allowed",type:"error"});return}const K=5*1024*1024;if(Q.filter(oe=>oe.size>K).length>0){z({text:"Each image must be less than 5MB",type:"error"});return}x(oe=>({...oe,images:[...oe.images,...Q]}));const me=Q.map(oe=>URL.createObjectURL(oe));N(oe=>[...oe,...me]),S(oe=>({...oe,images:void 0}))}},P=q=>{x(Q=>({...Q,images:Q.images.filter((de,K)=>K!==q)})),URL.revokeObjectURL(B[q]),N(Q=>Q.filter((de,K)=>K!==q))},$=()=>{x(q=>({...q,priceTiers:[...q.priceTiers,{minQuantity:1,maxQuantity:10,price:0}]}))},ae=q=>{x(Q=>({...Q,priceTiers:Q.priceTiers.filter((de,K)=>K!==q)}))},ne=(q,Q,de)=>{x(K=>({...K,priceTiers:K.priceTiers.map((ce,me)=>me===q?{...ce,[Q]:de}:ce)})),S(K=>({...K,priceTiers:void 0}))},pe=q=>{const Q=[...D.priceTiers].sort((de,K)=>de.minQuantity-K.minQuantity);for(const de of Q)if(q>=de.minQuantity&&q<=de.maxQuantity)return de.price;return D.basePrice},ye=async q=>{if(q.preventDefault(),!!H())try{const Q=localStorage.getItem("adminToken"),de=new FormData;de.append("name",D.name),de.append("description",D.description),de.append("basePrice",D.basePrice.toString()),de.append("priceTiers",JSON.stringify(D.priceTiers)),de.append("quantity",D.quantity.toString()),de.append("category",D.category),de.append("subcategory",D.subcategory),D.images.forEach(ce=>{de.append("images",ce)});const K={Authorization:`Bearer ${Q}`,"Content-Type":"multipart/form-data"};b?(await he.put(`http://143.198.212.38:5000/api/admin/products/${b._id}`,de,{headers:K}),z({text:"Product updated successfully",type:"success"})):(await he.post("http://143.198.212.38:5000/api/admin/products",de,{headers:K}),z({text:"Product created successfully",type:"success"})),C(!1),_(null),x({name:"",description:"",basePrice:0,priceTiers:[],quantity:0,category:"",subcategory:"",images:[]}),N([]),S({}),V()}catch{z({text:"Error saving product",type:"error"})}},re=async q=>{if(window.confirm("Are you sure you want to delete this product?"))try{const Q=localStorage.getItem("adminToken");await he.delete(`http://143.198.212.38:5000/api/admin/products/${q}`,{headers:{Authorization:`Bearer ${Q}`}}),z({text:"Product deleted successfully",type:"success"}),V()}catch{z({text:"Error deleting product",type:"error"})}},xe=q=>{_(q),x({name:q.name,description:q.description,basePrice:q.basePrice,priceTiers:q.priceTiers||[],quantity:q.quantity,category:q.category,subcategory:q.subcategory,images:[]}),N(q.images),C(!0)};return F.useEffect(()=>()=>{B.forEach(q=>URL.revokeObjectURL(q))},[]),L?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-500"})}):f.jsxs("div",{className:"p-6",children:[j&&f.jsx(en,{message:j.text,type:j.type,onClose:()=>z(null)}),f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Product Management"}),f.jsxs("button",{onClick:()=>{_(null),x({name:"",description:"",basePrice:0,priceTiers:[],quantity:0,category:"",subcategory:"",images:[]}),N([]),C(!0)},className:"flex items-center px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600",children:[f.jsx(ps,{className:"h-5 w-5 mr-2"}),"Add Product"]})]}),f.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Base Price"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price Tiers"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(q=>{var Q;return f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[q.images[0]&&f.jsx("img",{height:"50px;",width:"50px;",src:Array.isArray(q==null?void 0:q.images)&&q.images[0]?q.images[0]:""}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.name}),f.jsx("div",{className:"text-sm text-gray-500",children:q.description})]})]})}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f.jsx("div",{className:"text-sm text-gray-900",children:q.category}),f.jsx("div",{className:"text-sm text-gray-500",children:q.subcategory})]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"text-sm text-gray-900",children:["RM ",(Q=q.basePrice)==null?void 0:Q.toFixed(2)]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm text-gray-900",children:q.priceTiers&&q.priceTiers.length>0?f.jsx("div",{className:"space-y-1",children:q.priceTiers.map((de,K)=>f.jsxs("div",{className:"text-xs",children:[de.minQuantity,"-",de.maxQuantity,": RM ",de.price.toFixed(2)]},K))}):f.jsx("span",{className:"text-gray-400",children:"No tiers"})})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm text-gray-900",children:q.quantity})}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[f.jsx("button",{onClick:()=>xe(q),className:"text-amber-600 hover:text-amber-900 mr-4",children:f.jsx(B8,{className:"h-5 w-5"})}),f.jsx("button",{onClick:()=>re(q._id),className:"text-red-600 hover:text-red-900",children:f.jsx(cl,{className:"h-5 w-5"})})]})]},q._id)})})]})}),w&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto p-6",children:[f.jsx("h2",{className:"text-xl font-bold mb-6",children:b?"Edit Product":"Add New Product"}),f.jsxs("form",{onSubmit:ye,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),f.jsx("input",{type:"text",value:D.name,onChange:q=>x({...D,name:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),f.jsxs("select",{value:D.category,onChange:q=>x({...D,category:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0,children:[f.jsx("option",{value:"",children:"Select a category"}),f.jsx("option",{value:"smart-catalog",children:"Smart-Catalog"}),f.jsx("option",{value:"digital-gifting",children:"Digital-Gifting"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subcategory"}),f.jsx("input",{type:"text",value:D.subcategory,onChange:q=>x({...D,subcategory:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Price (RM)"}),f.jsx("input",{type:"number",step:"0.01",value:D.basePrice,onChange:q=>{x({...D,basePrice:parseFloat(q.target.value)}),S({...v,basePrice:void 0})},className:`w-full px-3 py-2 border rounded-lg ${v.basePrice?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-amber-500"}`,required:!0}),v.basePrice&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.basePrice})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),f.jsx("input",{type:"number",value:D.quantity,onChange:q=>{x({...D,quantity:parseInt(q.target.value)}),S({...v,quantity:void 0})},className:`w-full px-3 py-2 border rounded-lg ${v.quantity?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-amber-500"}`,required:!0}),v.quantity&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.quantity})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),f.jsx(pV,{value:D.description,onChange:q=>x({...D,description:q})})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Quantity-Based Price Tiers"}),f.jsxs("button",{type:"button",onClick:$,className:"flex items-center px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600",children:[f.jsx(ps,{className:"h-4 w-4 mr-1"}),"Add Tier"]})]}),v.priceTiers&&f.jsx("p",{className:"mb-2 text-sm text-red-500",children:v.priceTiers}),f.jsx("div",{className:"space-y-3 max-h-40 overflow-y-auto",children:D.priceTiers.map((q,Q)=>f.jsxs("div",{className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-xs text-gray-500",children:"Min Qty"}),f.jsx("input",{type:"number",value:q.minQuantity,onChange:de=>ne(Q,"minQuantity",parseInt(de.target.value)),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",min:"1",required:!0})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-xs text-gray-500",children:"Max Qty"}),f.jsx("input",{type:"number",value:q.maxQuantity,onChange:de=>ne(Q,"maxQuantity",parseInt(de.target.value)),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",min:"1",required:!0})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-xs text-gray-500",children:"Price (RM)"}),f.jsx("input",{type:"number",step:"0.01",value:q.price,onChange:de=>ne(Q,"price",parseFloat(de.target.value)),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",min:"0",required:!0})]}),f.jsx("button",{type:"button",onClick:()=>ae(Q),className:"p-1 text-red-500 hover:text-red-700",children:f.jsx(gu,{className:"h-4 w-4"})})]},Q))}),D.priceTiers.length>0&&f.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[f.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Price Preview:"}),f.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[f.jsxs("div",{children:["Qty 1: RM ",pe(1).toFixed(2)]}),f.jsxs("div",{children:["Qty 25: RM ",pe(25).toFixed(2)]}),f.jsxs("div",{children:["Qty 100: RM ",pe(100).toFixed(2)]})]})]})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Images"}),f.jsxs("div",{className:`border-2 border-dashed rounded-lg p-4 ${v.images?"border-red-500":"border-gray-300"}`,children:[f.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:J,className:"hidden",id:"image-upload"}),f.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center",children:[f.jsx(D8,{className:"h-12 w-12 text-gray-400"}),f.jsx("span",{className:"mt-2 text-sm text-gray-500",children:"Click to upload or drag and drop"}),f.jsx("span",{className:"text-xs text-gray-400",children:"PNG, JPG up to 5MB"})]})]}),v.images&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.images}),B.length>0&&f.jsx("div",{className:"mt-4 grid grid-cols-4 gap-4",children:B.map((q,Q)=>f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:q,alt:`Preview ${Q+1}`,className:"w-full h-24 object-cover rounded-lg"}),f.jsx("button",{type:"button",onClick:()=>P(Q),className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:f.jsx(uo,{className:"h-4 w-4"})})]},Q))})]})]}),f.jsxs("div",{className:"flex justify-end space-x-4",children:[f.jsx("button",{type:"button",onClick:()=>{C(!1),_(null),N([])},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),f.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-amber-500 rounded-lg hover:bg-amber-600",children:b?"Update Product":"Add Product"})]})]})]})})]})}function kV(){const i=Xt(),s=()=>{localStorage.removeItem("adminToken"),i("/admin/login")};return f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx("header",{className:"bg-white shadow",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-16",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(pu,{className:"h-8 w-8 text-amber-500"}),f.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"Admin Dashboard"})]}),f.jsx("div",{className:"flex items-center space-x-4",children:f.jsxs("button",{onClick:s,className:"flex items-center px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-red-500",children:[f.jsx(N5,{className:"h-5 w-5 mr-2"}),"Logout"]})})]})})}),f.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:f.jsx(fV,{})})]})}function bV({children:i}){return localStorage.getItem("adminToken")?i:f.jsx(ff,{to:"/admin/login"})}function wV(){O5();const{isAuthenticated:i}=wo();return i?f.jsx(Px,{children:f.jsxs("div",{className:"min-h-screen flex flex-col",children:[f.jsx(fF,{}),f.jsxs("div",{className:"flex-1 flex",children:[f.jsx(kF,{}),f.jsx(zF,{})]}),f.jsx(RF,{})]})}):f.jsx(Px,{children:f.jsxs(E5,{children:[f.jsx(Qe,{path:"/admin/login",element:f.jsx(HF,{})}),f.jsx(Qe,{path:"/admin/*",element:f.jsx(bV,{children:f.jsx(kV,{})})}),f.jsx(Qe,{path:"/login",element:f.jsx(FF,{})}),f.jsx(Qe,{path:"/register",element:f.jsx(VF,{})}),f.jsx(Qe,{path:"/forgot-password",element:f.jsx(cD,{})}),f.jsx(Qe,{path:"/reset-password/:token",element:f.jsx(dD,{})})]})})}p5(document.getElementById("root")).render(f.jsx(mF,{children:f.jsx(gF,{children:f.jsx(z8,{children:f.jsx(wV,{})})})}));
